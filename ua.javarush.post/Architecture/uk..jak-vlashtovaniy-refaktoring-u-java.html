Як влаштований рефакторинг у Java
<p>----------------------------------------</p>
Під час навчання програмуванню багато часу приділяється написанню коду. Більшість розробників-початківців вважають, що в цьому і полягає їхня майбутня діяльність. Частково це так, але до завдань програміста також входять підтримка та рефакт
<p>----------------------------------------</p>
Під час навчання програмуванню багато часу приділяється написанню коду. Більшість розробників-початківців вважають, що в цьому і полягає їхня майбутня діяльність. Частково це так, але до завдань програміста також входять підтримка та рефакторинг коду. Сьогодні поговоримо про рефакторинг. <img data-id="8d1cc9b5-7dcb-42f6-8a4e-981edbc3fc46" data-max-width="850" alt="Як влаштований рефакторинг у Java - 1" src="https://cdn.javarush.com/images/article/8d1cc9b5-7dcb-42f6-8a4e-981edbc3fc46/800.jpeg" style="width: 850px;">
<h2>Рефакторинг в курсі CodeGym</h2>У курсі CodeGym тема рефакторингу торкається двічі: 
<ul>
 <li><a href="https://codegym.cc/quests/lectures/questmultithreading.level05.lecture16" target="_blank">Велике завдання на рівні 5 квесту Multithreading</a> ;</li>
 <li><a href="https://codegym.cc/quests/lectures/questcollections.level09.lecture07" target="_blank">Лекція про рефакторинг в Intellij IDEA на 9 рівні квесту Java Collections</a> .</li>
</ul>Завдяки великому завданню, є можливість познайомитися зі справжнім рефакторингом на практиці, а лекція про рефакторинг IDEA допоможе розібратися з автоматичними засобами, які неймовірно полегшують життя. 
<h2>Що таке рефакторинг?</h2>Це зміна структури коду без зміни його функціоналу. Наприклад, є метод, який порівнює 2 числа і повертає <em>true</em> , якщо перше більше, і <em>false</em> у протилежному випадку: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">max</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> a<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">if</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>a <span class="token operator"><span class="token operator">&gt;</span></span> b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>a <span class="token operator"><span class="token operator">==</span></span> b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token boolean"><span class="token boolean">false</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token boolean"><span class="token boolean">false</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Вийшов дуже громіздкий код. Навіть новачки рідко пишуть таке, проте такий ризик є. Здавалося б, навіщо тут блок <code class=" language-none">if-else</code>, якщо можна написати метод на 6 рядків коротше: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">max</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> a<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> a<span class="token operator"><span class="token operator">&gt;</span></span>b<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тепер цей метод виглядає просто та елегантно, хоча виконує ту ж дію, що й приклад вищий. Так і працює рефакторинг: змінює структуру коду, не торкаючись його суті. Існує безліч методів та технік рефакторингу, які розглянемо докладніше. 
<h2>Навіщо потрібен рефакторинг?</h2>Існує кілька причин. Наприклад, гонитва за простотою та лаконічністю коду. Прихильники цієї теорії вважають, що код має бути максимально коротким, навіть якщо для його розуміння потрібно кілька десятків рядків коментар. Інші розробники впевнені, що код повинен бути рефакторинговим настільки, щоб він був зрозумілий з мінімальною кількістю коментарів. Кожна команда обирає свою позицію, але треба пам'ятати, що <strong>рефакторинг – це не скорочення</strong> . <strong>Його головна мета – покращити структуру коду. </strong> У цю глобальну мету можна включити кілька завдань: 
<ol>
 <li>Рефакторинг покращує розуміння коду, написаного іншим розробником;</li>
 <li>Допомагає шукати та усувати помилки;</li>
 <li>Дозволяє підвищити швидкість розробки;</li>
 <li>Загалом покращує композицію програмного забезпечення.</li>
</ol>Якщо тривалий час не проводити рефакторинг, можуть виникнути труднощі у створенні до повної зупинки роботи. 
<h2>"Запахи коду"</h2>Коли код вимагає рефакторингу, кажуть, що він “пахне”. Звісно, ​​не буквально, але такий код справді виглядає не зовсім приємно. Нижче розглянемо основні техніки рефакторингу для початкового етапу. 
<h3>Невиправдано великі елементи</h3>Існують громіздкі класи та методи, з якими неможливо ефективно працювати саме через їхній величезний розмір. 
<h4>Великий клас</h4>Такий клас має величезну кількість рядків коду і багато різних методів. Зазвичай розробнику легше додати фічу до існуючого класу, а не створювати новий, через що він і росте. Як правило, функціонал такого класу перевантажено. І тут допомагає виділення частини функціоналу окремий клас. Про це поговоримо докладніше у розділі технік рефакторингу. 
<h4>Великий метод</h4>Цей “запах” з'являється, коли розробник додає у спосіб новий функціонал. "Навіщо мені виносити перевірку параметрів в окремий метод, якщо я можу написати її тут?", "Для чого необхідно виділяти метод пошуку максимального елемента в масиві, залишимо його тут. Так код ясніше”, — та інші помилки. <strong>Є два правила рефакторингу великого методу:</strong>
<ol>
 <li>Якщо при написанні методу хочеться додати коментар до коду, необхідно виділити цей функціонал окремим методом;</li>
 <li>Якщо метод займає більше 10-15 рядків коду, слід визначити завдання та підзавдання, які він виконує, та спробувати винести підзавдання в окремий метод.</li>
</ol>Декілька способів усунути великий метод: 
<ul>
 <li>Виділити частину функціоналу методу окремий метод;</li>
 <li>Якщо локальні змінні не дають винести частину функціоналу, можна передати весь об'єкт інший метод.</li>
</ul>
<h4>Використання безлічі примітивних типів даних</h4>Зазвичай така проблема виникає, коли з часом у класі зростає кількість полів для зберігання даних. Наприклад, якщо використовувати примітивні типи замість маленьких об'єктів для зберігання даних (валюта, дата, номери телефонів тощо) або константи для кодування будь-якої інформації. Хорошою практикою в цьому випадку буде логічне угруповання полів та винесення в окремий клас (виділення класу). Також у клас можна включити методи обробки цих даних. 
<h4>Довгий список параметрів</h4>Досить поширена помилка, особливо в сукупності з великим методом. Зазвичай вона виникає, якщо функціонал методу перевантажений, чи метод поєднує кілька алгоритмів у собі. У довгих списках параметрів важко розбиратися, і використовувати такі методи незручно. Тому краще передати об'єкт повністю. Якщо об'єкт не має достатньо даних, варто використовувати більш загальний об'єкт або розділити функціонал методу, щоб він обробляв логічно пов'язані дані. 
<h4>Групи даних</h4>Часто у коді з'являються логічно пов'язані групи даних. Наприклад, параметри підключення до БД (URL, ім'я користувача, пароль, ім'я схеми тощо). Якщо з переліку елементів не можна видалити жодне поле, це означає, що перелік — це група даних, яку необхідно винести в окремий клас (виділення класу). 
<h3>Рішення, що псують концепцію ОВП</h3>“Запахи” цього виникають, коли розробник порушує дизайн ООП. Таке відбувається, якщо він не до кінця розуміє можливості цієї парадигми, використовує їх не до кінця чи неправильно. 
<h4>Відмова від наслідування</h4>Якщо підклас використовує мінімальну частину функцій батьківського класу, пахне неправильною ієрархією. Зазвичай у разі непотрібні методи просто не перевизначаються чи викидають винятки. Якщо клас успадкований від іншого, це передбачає практично повне використання його функціоналу. Приклад правильної ієрархії: <img data-id="60869144-96bb-4fcd-9e05-62751a30791d" data-max-width="850" alt="Як влаштований рефакторинг у Java - 2" src="https://cdn.javarush.com/images/article/60869144-96bb-4fcd-9e05-62751a30791d/800.jpeg" style="width: 850px;"> Приклад неправильної ієрархії: <img data-id="84ac1328-587a-42d8-bf33-8beef0f0f476" data-max-width="850" alt="Як влаштований рефакторинг у Java - 3" src="https://cdn.javarush.com/images/article/84ac1328-587a-42d8-bf33-8beef0f0f476/800.jpeg" style="width: 850px;">
<h4>Оператор switch</h4>Що поганого може бути в операторі <code class=" language-none">switch</code>? Він поганий, коли його конструкція дуже складна. Також сюди належать і безліч вкладених блоків <code class=" language-none">if</code>. 
<h4>Альтернативні класи з різними інтерфейсами</h4>Декілька класів фактично виконують те саме, але їх методи називаються по-різному. 
<h4>Тимчасове поле</h4>Якщо в класі закладено тимчасове поле, яке потрібно об'єкту лише зрідка, коли він заповнюється значеннями, а в решту часу — порожнім або, не дай Боже, значить <code class=" language-none">null</code>код «пахає», а такий дизайн — сумнівне рішення. 
<h3>Запахи, які ускладнюють модифікацію</h3>Ці “запахи” серйозніші. Інші переважно погіршують розуміння коду, тоді як ці не дають можливість його модифікувати. При впровадженні яких-небудь фіч половина розробників звільниться, а половина збожеволіє. 
<h4>Паралельні ієрархії успадкування</h4>При створенні підкласу будь-якого класу необхідно створювати ще один підклас іншого класу. 
<h4>Рівномірний розподіл залежності</h4>За виконання будь-яких модифікацій доводиться шукати всі залежності (використання) цього і вносити безліч дрібних правок. Одна зміна — редагування в багатьох класах. 
<h4>Складне дерево модифікацій</h4>Цей запах протилежний попередньому: зміни торкаються великої кількості методів одного класу. Як правило, залежність у такому коді каскадна: змінивши один метод, потрібно виправити щось в іншому, а потім третьому і так далі. Один клас – безліч змін. 
<h3>"Сміттєві запахи"</h3>Досить неприємна категорія запахів, що спричиняє головний біль. Марний, непотрібний, старий код. На щастя, сучасні IDE та лінтери навчабося попереджати про такі запахи. 
<h4>Велика кількість коментарів у методі</h4>У методу дуже багато коментарів, що пояснюють, практично на кожному рядку. Зазвичай це пов'язано зі складним алгоритмом, тому краще розділити код на кілька методів поменше і дати їм назви, що говорять. 
<h4>Дублювання коду</h4>У різних класах чи методах використовуються однакові блоки коду. 
<h4>Лінивий клас</h4>Клас перебирає дуже малий функціонал, хоча планувався великий. 
<h4>Код, що не використовується</h4>Клас, метод чи змінна не використовується у коді і є “мертвим вантажем”. 
<h3>Зайва пов'язаність</h3>Ця категорія запахів характеризується великою кількістю невиправданих зв'язків у коді. 
<h4>Сторонні методи</h4>Метод використовує дані іншого об'єкта набагато частіше, ніж власні дані. 
<h4>Недоречна близькість</h4>Клас використовує службові поля та методи іншого класу. 
<h4>Довгі виклики класів</h4>Один клас викликає інший, той запитує дані у третього, той у четвертого тощо. Таке довге коло викликів означає високий рівень залежності від поточної структури класів. 
<h4>Клас-таск-дилер</h4>Клас потрібен лише у тому, щоб передати завдання іншому класу. Може, його варто видалити? 
<h3>Техніки рефакторингу</h3>Нижче йтиметься про початкові техніки рефакторингу, які допоможуть усунути описані "запахи" коду. 
<h4>Виділення класу</h4>Клас виконує занадто багато функцій, частину необхідно винести до іншого класу. Наприклад, є клас <code class=" language-none">Human</code>, в якому також міститься адресаа проживання та метод, що надає повну адресау: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Human</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> name<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> country<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> city<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> street<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> house<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> quarter<span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getFullAddress</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token class-name"><span class="token class-name">StringBuilder</span></span> result <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">StringBuilder</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> result
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>country<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">", "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>city<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">", "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>street<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">", "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>house<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">" "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>quarter<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toString</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Хорошим тоном буде винести інформацію про адресау та метод (поведінка обробки даних) в окремий клас: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Human</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> name<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">Address</span></span> address<span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getFullAddress</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> address<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getFullAddress</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Address</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> country<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> city<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> street<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> house<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> quarter<span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getFullAddress</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token class-name"><span class="token class-name">StringBuilder</span></span> result <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">StringBuilder</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> result
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>country<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">", "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>city<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">", "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>street<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">", "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>house<span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">" "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                       <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">append</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>quarter<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toString</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
<h4>Виділення методу</h4>Якщо у методі якийсь функціонал можна згрупувати, слід винести його на окремий метод. Наприклад, метод, який обчислює коріння квадратного рівняння: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">calcQuadraticEq</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">double</span></span> a<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> b<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> c<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> <span class="token class-name"><span class="token class-name">D</span></span> <span class="token operator"><span class="token operator">=</span></span> b <span class="token operator"><span class="token operator">*</span></span> b <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">4</span></span> <span class="token operator"><span class="token operator">*</span></span> a <span class="token operator"><span class="token operator">*</span></span> c<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span> <span class="token operator"><span class="token operator">&gt;</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">double</span></span> x1<span class="token punctuation"><span class="token punctuation">,</span></span> x2<span class="token punctuation"><span class="token punctuation">;</span></span>
        x1 <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token operator"><span class="token operator">-</span></span>b <span class="token operator"><span class="token operator">-</span></span> <span class="token class-name"><span class="token class-name">Math</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sqrt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">/</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">*</span></span> a<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        x2 <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token operator"><span class="token operator">-</span></span>b <span class="token operator"><span class="token operator">+</span></span> <span class="token class-name"><span class="token class-name">Math</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sqrt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">/</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">*</span></span> a<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"x1 = "</span></span> <span class="token operator"><span class="token operator">+</span></span> x1 <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">", x2 = "</span></span> <span class="token operator"><span class="token operator">+</span></span> x2<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span> <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">double</span></span> x<span class="token punctuation"><span class="token punctuation">;</span></span>
        x <span class="token operator"><span class="token operator">=</span></span> <span class="token operator"><span class="token operator">-</span></span>b <span class="token operator"><span class="token operator">/</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">*</span></span> a<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"x = "</span></span> <span class="token operator"><span class="token operator">+</span></span> x<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Equation has no roots"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Винесемо обчислення всіх трьох можливих варіантів в окремі методи: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">calcQuadraticEq</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">double</span></span> a<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> b<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> c<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> <span class="token class-name"><span class="token class-name">D</span></span> <span class="token operator"><span class="token operator">=</span></span> b <span class="token operator"><span class="token operator">*</span></span> b <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">4</span></span> <span class="token operator"><span class="token operator">*</span></span> a <span class="token operator"><span class="token operator">*</span></span> c<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span> <span class="token operator"><span class="token operator">&gt;</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token function"><span class="token function">dGreaterThanZero</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">,</span></span> b<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">D</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span> <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token function"><span class="token function">dEqualsZero</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">,</span></span> b<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token function"><span class="token function">dLessThanZero</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">dGreaterThanZero</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">double</span></span> a<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> b<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> <span class="token class-name"><span class="token class-name">D</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> x1<span class="token punctuation"><span class="token punctuation">,</span></span> x2<span class="token punctuation"><span class="token punctuation">;</span></span>
    x1 <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token operator"><span class="token operator">-</span></span>b <span class="token operator"><span class="token operator">-</span></span> <span class="token class-name"><span class="token class-name">Math</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sqrt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">/</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">*</span></span> a<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    x2 <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token operator"><span class="token operator">-</span></span>b <span class="token operator"><span class="token operator">+</span></span> <span class="token class-name"><span class="token class-name">Math</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sqrt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">D</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">/</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">*</span></span> a<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"x1 = "</span></span> <span class="token operator"><span class="token operator">+</span></span> x1 <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">", x2 = "</span></span> <span class="token operator"><span class="token operator">+</span></span> x2<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">dEqualsZero</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">double</span></span> a<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> x<span class="token punctuation"><span class="token punctuation">;</span></span>
    x <span class="token operator"><span class="token operator">=</span></span> <span class="token operator"><span class="token operator">-</span></span>b <span class="token operator"><span class="token operator">/</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">*</span></span> a<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"x = "</span></span> <span class="token operator"><span class="token operator">+</span></span> x<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">dLessThanZero</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Equation has no roots"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Код кожного методу став набагато коротшим і зрозумілішим. 
<h4>Передача всього об'єкту</h4>При викликі методу з параметрами іноді можна зустріти такий код: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">employeeMethod</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Employee</span></span> employee<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token comment"><span class="token comment">// Некоторые действия</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> yearlySalary <span class="token operator"><span class="token operator">=</span></span> employee<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getYearlySalary</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> awards <span class="token operator"><span class="token operator">=</span></span> employee<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAwards</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> monthlySalary <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">getMonthlySalary</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>yearlySalary<span class="token punctuation"><span class="token punctuation">,</span></span> awards<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token comment"><span class="token comment">// Продолжение обработки</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">double</span></span> <span class="token function"><span class="token function">getMonthlySalary</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">double</span></span> yearlySalary<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">double</span></span> awards<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>yearlySalary <span class="token operator"><span class="token operator">+</span></span> awards<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token number"><span class="token number">12</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> У методі <code class=" language-none">employeeMethod</code>цілих 2 рядки відводиться отримання значень і збереження в примітивних змінних. Іноді такі конструкції займають до 10 рядків. Набагато простіше передати в метод сам об'єкт, звідки можна отримати необхідні дані: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">employeeMethod</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Employee</span></span> employee<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token comment"><span class="token comment">// Некоторые действия</span></span>
    <span class="token keyword"><span class="token keyword">double</span></span> monthlySalary <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">getMonthlySalary</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>employee<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token comment"><span class="token comment">// Продолжение обработки</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">double</span></span> <span class="token function"><span class="token function">getMonthlySalary</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Employee</span></span> employee<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">return</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>employee<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getYearlySalary</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">+</span></span> employee<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAwards</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token number"><span class="token number">12</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Просто, коротко та лаконічно. 
<h3>Логічне угруповання полів та винесення в окремий клас</h3>Незважаючи на те, що вищеописані приклади — дуже прості і при погляді на них багато хто може поставити питання «Та хто взагалі так робить?», багато розробників від неуважності, небажання проводити рефакторинг коду або просто «І так зійде» припускаються подібних структурних помилок. 
<h2>Чому рефакторинг ефективний</h2>Підсумок хорошого рефакторингу - програма, код якої легко читати, модифікації логіки програми не стають загрозою, а внесення нових фіч не перетворюється на пекло розбору коду, а приємним заняттям на пару днів. Рефакторинг не варто використовувати, якщо програму простіше переписати з нуля. Наприклад, команда оцінює трудовитрати на розбір, аналіз та рефакторинг коду вище, ніж на реалізацію такого ж функціоналу з нуля. Або код, який потрібно відрефакторити, має безліч помилок, складних у налагодженні. Знання, як поліпшити структуру коду, обов'язково в роботі програміста. Ну а вивчати програмування на Java краще на CodeGym - онлайн-курсі з акцентом на практику. 1200+ завдань із миттєвою перевіркою, близько 20 мініпроектів, завдання-ігри – все це допоможе відчути себе впевнено у кодингу. Найкращий час, щоб почати - зараз :) <a href="https://codegym.cc/" target="blank"><img data-id="e00c6973-8822-4b1e-9d09-eab8f8d26842" data-max-width="350" alt="Як влаштований рефакторинг у Java - 4" src="https://cdn.javarush.com/images/article/e00c6973-8822-4b1e-9d09-eab8f8d26842/256.jpeg" style="width: 350px;"></a>
<h2>Ресурси для додаткового занурення у рефакторинг</h2>Найвідоміша книга про рефакторинг – це “Рефакторинг. Поліпшення проекту існуючого коду Мартіна Фаулера. Також є цікаве видання про рефакторинг, написане на основі попередньої книги – “Рефакторинг із використанням шаблонів” Джошуа Кірієвскі. До речі про шаблони. При рефакторинг завжди дуже корисно знати основні патерни проектування додатків. У цьому допоможуть ці чудові книги: 
<ol>
 <li>"Паттерни проектування" - авторства Еріка Фрімена, Елізабет Фрімен, Кетті Сьєрра, Берта Бейтса із серії Head First;</li>
 <li>"Читуваний код, або програмування як мистецтво" - Дастін Босуелл, Тревор Фаучер.</li>
 <li>"Довершений код" Стіва Макконнелла, в якій викладено принципи красивого та елегантного коду.</li>
</ol>Ну і кілька статей про рефакторинг: 
<ol>
 <li><a href="https://codegym.cc/groups/posts/38-adskaja-zadachka-pristupaem-k-refaktoringu-unasledovannogo-koda-" target="_blank">Пекельне завдання: приступаємо до рефакторингу успадкованого коду</a> ;</li>
 <li><a href="https://codegym.cc/groups/posts/894-refaktoring" target="_blank">Рефакторинг</a> ;</li>
 <li><a href="https://www.ibm.com/developerworks/opensource/library/os-ecref/?\=105XGA99" rel="nofollow" target="_blank">Refactoring for everyone</a> .</li>
 <ol></ol>
</ol>