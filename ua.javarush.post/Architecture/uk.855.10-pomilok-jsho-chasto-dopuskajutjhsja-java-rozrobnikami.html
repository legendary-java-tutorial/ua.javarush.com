10 помилок, що часто допускаються Java розробниками
<p>----------------------------------------</p>
Цей список включає 10 помилок, що часто допускаються розробниками.
<p>----------------------------------------</p>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="8a010f66-0ac3-4c65-9206-2d4a1f7fb012" data-max-width="710" alt="10 помилок, що часто допускаються Java розробниками - 1" src="https://cdn.javarush.com/images/article/8a010f66-0ac3-4c65-9206-2d4a1f7fb012/512.jpeg" style="width: 710px;">
 </div>
</div>Цей список включає 10 помилок, що часто допускаються <em>Java</em> розробниками. 
<ol>
 <li>
  <p><strong>Перетворення масиву в <a href="https://codegym.cc/quests/lectures/questsyntax.level07.lecture05" target="_blank">ArrayList</a> .</strong></p>
  <p>Для перетворення масиву в <em>ArrayList</em> розробники часто використовують такий спосіб:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p><code class=" language-none">Arrays.asList()</code>поверне об'єкт класу <code class=" language-none">ArrayList</code>який є внутрішнім приватним статичним класом <code class=" language-none">(private static class)</code>класу <code class=" language-none">Arrays</code>, а це <strong>не</strong> клас. <code class=" language-none">java.util.ArrayList.</code>Клас <code class=" language-none">java.util.Arrays.ArrayList</code>містить методи <code class=" language-none">set()</code>, <code class=" language-none">get()</code>, <code class=" language-none">contains()</code>, але не містить жодних методів для додавання елементів, його розмір <strong>фіксований</strong> . Для створення сьогодення <code class=" language-none">java.util.ArrayList</code>слід зробити так:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> arrayList <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>Конструктор класу <code class=" language-none">java.util.ArrayList</code>може приймати як параметр всі об'єкти реалізують інтерфейс <code class=" language-none">Collection</code>, реалізацію якого успадкував і клас<code class=" language-none">java.util.Arrays.ArrayList</code></p>
  <p>(private static class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements RandomAccess, java.io.Serializable).</p></li>
 <li>
  <p><strong>Перевіряє масив на наявність конкретного значення.</strong></p>
  <p>Розробники часто роблять так:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Set</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> set <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">HashSet</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">return</span></span> set<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">contains</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>targetValue<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>Код виходить робочий, але немає необхідності перетворювати <code class=" language-none">List</code>на <code class=" language-none">Set</code>. Перетворення <code class=" language-none">Set</code>займе додатковий час. Насправді все просто:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">contains</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>targetValue<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>або</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">for</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> s<span class="token operator"><span class="token operator">:</span></span> arr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">if</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>s<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>targetValue<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
		<span class="token keyword"><span class="token keyword">return</span></span> <span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">return</span></span> <span class="token boolean"><span class="token boolean">false</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>Перший спосіб значно коротший.</p></li>
 <li>
  <p><strong>Видалення елемента з <code class=" language-none">List</code>циклу</strong></p>
  <p>Розглянемо наступний код, який видаляє елементи в циклі:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"a"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"b"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"c"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"d"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">size</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">remove</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>i<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>list<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p><strong>Висновок:</strong></p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token punctuation"><span class="token punctuation">[</span></span>b<span class="token punctuation"><span class="token punctuation">,</span></span> d<span class="token punctuation"><span class="token punctuation">]</span></span></code></pre>
  <p>Виходить серйозна помилка. Коли елемент видалено, розмір <code class=" language-none">List</code>зменшується та індекси елементів змінюються.</p>
  <p>Так що відмовтеся від такого способу, якщо ви хочете видалити кілька елементів у циклі, використовуючи індекс.</p>
  <p>Можливо ви знаєте, що використання ітератора правильне рішення для видалення елементів у циклі, і ви знаєте, що цикл в стилі <code class=" language-none">for-each</code>працює як ітератор, але це не так.</p>
  <p>Розглянемо наступний код:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"a"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"b"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"c"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"d"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> s <span class="token operator"><span class="token operator">:</span></span> list<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>s<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"a"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
		list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">remove</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>s<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Ми отримаємо виняток <a href="https://www.programcreek.com/2014/01/java-util-concurrentmodificationexception/" rel="nofollow" target="_blank">ConcurrentModificationException</a> .</p>
  <p>Правильно вчинити так:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"a"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"b"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"c"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"d"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">Iterator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> iter <span class="token operator"><span class="token operator">=</span></span> list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">iterator</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">while</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>iter<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">hasNext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token class-name"><span class="token class-name">String</span></span> s <span class="token operator"><span class="token operator">=</span></span> iter<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">next</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

	<span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>s<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"a"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		iter<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">remove</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Метод <code class=" language-none">next()</code>має бути викликаний до методу <code class=" language-none">remove()</code>.</p> У циклі в стилі <code class=" language-none">for-each</code>компілятор викличе метод <code class=" language-none">remove()</code>, а вже потім <code class=" language-none">next()</code>, що викличе помилку <code class=" language-none">ConcurrentModificationException</code>. Ви можете переглянути код <code class=" language-none">ArrayList.iterator()</code>.
  <p></p></li>
 <li>
  <p><strong><code class=" language-none">Hashtable</code>проти <code class=" language-none">HashMap</code>.</strong></p>
  <p>Через відповідну реалізацію, <em>Hashtable</em> — це назва структури даних.</p>
  <p>Але в <em>Java</em> назва для структури даних це <code class=" language-none">HashMap</code>. Одне з ключових відмінностей між <code class=" language-none">Hashtable</code>і <code class=" language-none">HashMap</code>це те, що <code class=" language-none">Hashtable</code>синхронізовано.Так що не варто використовувати <code class=" language-none">Hashtable</code>там де більше підходить <code class=" language-none">HashMap</code>.</p>
  <p><a href="https://www.programcreek.com/2013/03/hashmap-vs-treemap-vs-hashtable-vs-linkedhashmap/" rel="nofollow" target="_blank">HashMap vs. TreeMap vs. Hashtable vs. LinkedHashMap</a> .</p>
  <p><a href="https://www.programcreek.com/2013/09/top-9-questions-for-java-map/" rel="nofollow" target="_blank">10 основних питань про інтерфейс Map</a></p></li>
 <li>
  <p><strong>Використання колекцій без обмежень за вмістом</strong></p>
  <p>Java часто плутають колекції без <em>обмежень</em> за вмістом, і колекції з маскою за типом вмісту. Наприклад, для множин - <code class=" language-none">Set</code>це колекція без обмежень за вмістом, а <code class=" language-none">Set&lt;?&gt;</code>- колекція у якої все-таки є обмеження, але ці обмеження нічого насправді не обмежують. Розглянемо наступний код, де <code class=" language-none">List</code>без обмежень використовується як параметр методу:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">List</span></span> list<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Object</span></span> o<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
	list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>o<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>list<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">10</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token class-name"><span class="token class-name">String</span></span> s <span class="token operator"><span class="token operator">=</span></span> list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">get</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Цей код викине виняток:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Exception</span></span> in thread <span class="token string"><span class="token string">"main"</span></span> <span class="token class-name"><span class="token namespace"></span><span class="token class-name"><span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>lang<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span>ClassCastException</span></span><span class="token operator"><span class="token operator">:</span></span> <span class="token class-name"><span class="token namespace"></span><span class="token class-name"><span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>lang<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span>Integer</span></span> cannot be cast <span class="token keyword"><span class="token keyword">to</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>lang<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">String</span></span>
	at …</code></pre>
  <p>Використання колекцій без обмежень за вмістом дуже небезпечне, тому що ви не можете бути впевненими, що там лежить усередині. А для того щоб зрозуміти всю глибину різниці між , <code class=" language-none">Set</code>і <code class=" language-none">Set&lt;?&gt;</code>- <code class=" language-none">Set&lt;Object&gt;</code>почитайте ось <a href="https://www.programcreek.com/2013/12/raw-type-set-vs-unbounded-wildcard-set/" rel="nofollow" target="_blank">це </a><a href="https://www.programcreek.com/2011/12/java-type-erasure-mechanism-example/" rel="nofollow" target="_blank">посилання</a> .</p></li>
 <li>
  <p><strong>Рівень доступу</strong></p>
  <p>Найчастіше для полів класу розробники використовують модифікатор доступу <code class=" language-none">public</code>. Так простіше отримати значення поля безпосередньо. Правильніше використовувати якомога обмеженіший доступ до членів класу.</p>
  <p><a href="https://www.programcreek.com/2011/11/java-access-level-public-protected-private/" rel="nofollow" target="_blank">public, default, protected, and private</a> .</p></li>
 <li><strong><code class=" language-none">ArrayList</code>проти<code class=" language-none">LinkedList</code></strong>
  <p></p>
  <p>Коли розробники не знають чим відрізняється <code class=" language-none">ArrayList</code>від <code class=" language-none">LinkedList</code>, вони використовують перший з його більшої популярності. Однак, є величезна різниця у продуктивності між ними. Насправді вибір між ними повинен бути продиктований їх внутрішніми особливостями — <code class=" language-none">ArrayList</code>дозволяє швидко здійснювати доступ до довільного елементу масиву, а <code class=" language-none">LinkedList</code>— швидко додавати/видаляти елементи в масиві. Почитайте статтю за посиланням <a href="https://www.programcreek.com/2013/03/arraylist-vs-linkedlist-vs-vector/" rel="nofollow" target="_blank">ArrayList vs. LinkedList</a> щоб зрозуміти причини їхньої різної продуктивності.</p></li>
 <li><strong><code class=" language-none">Mutable</code>(Змінний) проти <code class=" language-none">Immutable</code>(Незмінний)</strong>
  <p></p>
  <p>Незмінний об'єкт має багато переваг: простота, безпека тощо. Але він вимагає окремого об'єкта для кожного нового значення, і за дуже багато об'єктів доведеться заплатити зниженням продуктивності. Повинен бути баланс при виборі між об'єктом, що змінюється і незмінним.</p>
  <p>В основному щоб уникнути підготовки проміжних об'єктів використовується об'єкт, що змінюється. Один із класичних прикладів це конкатенація великої кількості рядків. Якщо ви використовуєте незмінний об'єкт типу <code class=" language-none">String</code>, то ви створюєте багато об'єктів, які відразу потраплять до збирача сміття. Це витрачає час і енергію процесора, тому правильне рішення це використання об'єктів, що змінюються (наприклад <code class=" language-none">StringBuilder</code>).</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> result<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">for</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> s<span class="token operator"><span class="token operator">:</span></span> arr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
	result <span class="token operator"><span class="token operator">=</span></span> result <span class="token operator"><span class="token operator">+</span></span> s<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Ще один приклад використання об'єктів, що змінюються - передача такого об'єкта в метод. Це дозволить повернути результат у ньому без створення зайвих об'єктів. Працюючи з об'єктами великого розміру, наприклад колекціями, передача колекції в спосіб сортування і повернення результату до іншої колекції призводить до зайвої витрати ресурсів. ( <a href="https://stackoverflow.com/questions/23616211/why-we-need-mutable-classes" rel="nofollow" target="_blank">Відповідь користувача dasblinkenlight на Stack Overflow</a> ).</p>
  <p><a href="https://www.programcreek.com/2013/04/why-string-is-immutable-in-java/" rel="nofollow" target="_blank">Чому об'єкт класу String незмінний?</a></p></li>
 <li>
  <p><strong>Конструктори класів <code class=" language-none">Super</code>та<code class=" language-none">Sub</code></strong></p><img data-id="88741a90-f767-4430-aa92-ba5ab0753838" data-max-width="387" alt="10 помилок, що часто допускаються Java розробниками - 2" src="https://cdn.javarush.com/images/article/88741a90-f767-4430-aa92-ba5ab0753838/256.jpeg" style="width: 387px;">
  <p>Ця помилка компіляції викликана тим, що у класу-предка не визначено конструктора за умовчанням. У <em>Java</em> , якщо ви самі не опишите конструктор класу, компілятор сам створить конструктор за замовчуванням, який не вимагає жодних аргументів. Якщо ж конструктор описаний у класі , <code class=" language-none">Super</code>як <code class=" language-none">Super(String s){}</code>компілятор сам нічого додавати не буде. Що ми й спостерігаємо у нашому прикладі.</p>
  <p>Конструктор класу <code class=" language-none">Sub</code>, не важливо який з них, викличе конструктор за умовчанням класу <code class=" language-none">Super</code>, оскільки не вказано нічого іншого. Оскільки конструктора за умовчанням у класі <code class=" language-none">Super</code>немає, це призведе до помилки компіляції.</p>
  <p>Перший варіант вирішення цієї проблеми - додати конструктор за замовчуванням до класу<code class=" language-none">Super</code></p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Super</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Super"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Другий варіант - видаліть описаний нами конструктор із класу <code class=" language-none">Super</code>, щоб компілятор створив за замовчуванням конструктор.</p>
  <p>І останній варіант - додайте виклик <code class=" language-none">super(value)</code>у конструктори класу <code class=" language-none">Sub</code>, щоб замість конструктора за замовчуванням викликався конструктор класу<code class=" language-none">Super</code></p>
  <p><a href="https://www.programcreek.com/2013/04/what-are-the-frequently-asked-questions-about-constructors-in-java/" rel="nofollow" target="_blank">Constructor of Super and Sub</a></p></li>
 <li>
  <p><strong>" " чи конструктор?</strong></p>
  <p>Є два способи створити рядок:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token comment"><span class="token comment">//1. использовать двойные кавычки</span></span>
<span class="token class-name"><span class="token class-name">String</span></span> x <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"abc"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre><br>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token comment"><span class="token comment">//2. использовать конструктор</span></span>
<span class="token class-name"><span class="token class-name">String</span></span> y <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"abc"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>У чому між ними різниця?</p>
  <p>Ви можете зрозуміти це з таких прикладів:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> a <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"abcd"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">String</span></span> b <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"abcd"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>a <span class="token operator"><span class="token operator">==</span></span> b<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>  <span class="token comment"><span class="token comment">// True</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>b<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// True</span></span>

<span class="token class-name"><span class="token class-name">String</span></span> c <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"abcd"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">String</span></span> d <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"abcd"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>c <span class="token operator"><span class="token operator">==</span></span> d<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>  <span class="token comment"><span class="token comment">// False</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>c<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>d<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// True</span></span></code></pre>
  <p>Для того щоб докладніше дізнатися про те, як рядки зберігаються в пам'яті, читайте <a href="https://www.programcreek.com/2014/03/create-java-string-by-double-quotes-vs-by-constructor/" rel="nofollow" target="_blank">Create Java String Using "" or Constructor? </a>.</p></li>
</ol><strong>Плани на майбутнє. </strong> Цей список заснований на моєму аналізі величезної кількості Open Source проектів з гітхабу, питань зі Stack Overflow та популярних запитів у Google. Не беруся довести, що вони дійсно входять до десятки найсерйозніших помилок, але вони насправді дуже поширені.