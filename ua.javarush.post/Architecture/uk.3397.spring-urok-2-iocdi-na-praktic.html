Spring. Урок 2. IoC/DI на практиці
<p>----------------------------------------</p>
І так... На занятті ми коротко розглянули теоретичну частину IoC та DI. Також налаштували конфігураційний файл pom.xml для нашого проекту. Сьогодні ж розпочинаємо створення основної частини програми. Спочатку покажу як створюється програма 
<p>----------------------------------------</p>
І так... На <a href="https://codegym.cc/groups/posts/3395-kurs-spring---ioc--di" target="_blank" rel="nofollow">попередньому</a> занятті ми коротко розглянули теоретичну частину IoC та DI. Також налаштували конфігураційний файл pom.xml для нашого проекту. Сьогодні ж розпочинаємо створення основної частини програми. Спочатку покажу як створюється програма без IoC/DI. А потім вже безпосередньо створимо програму, яка самостійно впроваджує залежність. Тобто управління кодом переходить до рук фреймворку (звучить моторошно). <strong>Поки програмою керуємо ми</strong> Уявимо, що є якась компанія. І в компанії (поки що) є два відділи: відділ розробки Java (JavaDevelopment) та відділ найму (HiringDepartment). Нехай клас, що описує "Відділ розробки Java", має два методи: String getName() - повертає ім'я співробітника, String getJob() - повертає посаду співробітника. (Лістинг 1) 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaDevelopment</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Alexa"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Middle Java developer"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Нехай клас, що описує відділ найму, має конструктор на вхід, який приймає співробітника, і метод void displayInfo(), який виводить інформацію про співробітників. (Лістинг 2) 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HiringDepartment</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">JavaDevelopment</span> javaDevelopment<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">HiringDepartment</span><span class="token punctuation">(</span><span class="token class-name">JavaDevelopment</span> javaDevelopment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>javaDevelopment <span class="token operator">=</span> javaDevelopment<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Name: "</span> <span class="token operator">+</span> javaDevelopment<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Job: "</span> <span class="token operator">+</span> javaDevelopment<span class="token punctuation">.</span><span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> А також є Main - клас, який керує всіма відділами. (Лістинг 3) 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">JavaDevelopment</span> javaDevelopment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JavaDevelopment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">HiringDepartment</span> hiringDepartment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HiringDepartment</span><span class="token punctuation">(</span>javaDevelopment<span class="token punctuation">)</span><span class="token punctuation">;</span>

        hiringDepartment<span class="token punctuation">.</span><span class="token function">displayInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Поки що стабільність. При запуску Main - класу отримуємо наступний результат: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class=" language-java"><span class="token class-name">Name</span><span class="token operator">:</span> <span class="token class-name">Alexa</span>
<span class="token class-name">Job</span><span class="token operator">:</span> <span class="token class-name">Middle</span> <span class="token class-name">Java</span> developer</code></pre> А тепер уявімо, що у компанії справи йдуть чудово. Тому вони вирішабо розширити сферу діяльності і відкрабо відділ Python - розробки. І тут виникає питання: А як описати цей відділ на програмному рівні? Відповідь: треба "копи - пасти" скрізь, де потрібно описати цей відділ (старий, добрий метод 🙃). Для початку створимо саму клас, який би описав відділ "Пітоністів". (Лістинг 4) 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PythonDevelopment</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Mike"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Middle Python developer"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> А потім передамо його на відділ найму (HiringDepartment). А в HiringDepartment'e про цей відділ нічого не сказано. Тому доведеться створити новий об'єкт класу PythonDevelopment і конструктор, який приймає Python - розробників. А також доведеться змінити метод displayInfo() - щоб він коректно відображав інформацію. (Лістинг 5) 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HiringDepartment</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">JavaDevelopment</span> javaDevelopment<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">HiringDepartment</span><span class="token punctuation">(</span><span class="token class-name">JavaDevelopment</span> javaDevelopment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>javaDevelopment <span class="token operator">=</span> javaDevelopment<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token comment">//Тут создается отдел найма для Python - разработчиков</span>
    <span class="token keyword">private</span> <span class="token class-name">PythonDevelopment</span> pythonDevelopment<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">HiringDepartment</span><span class="token punctuation">(</span><span class="token class-name">PythonDevelopment</span> pythonDevelopment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>pythonDevelopment <span class="token operator">=</span> pythonDevelopment<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//Тогда придется изменить метод displayInfo()</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>javaDevelopment <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Name: "</span> <span class="token operator">+</span> javaDevelopment<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Job: "</span> <span class="token operator">+</span> javaDevelopment<span class="token punctuation">.</span><span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>pythonDevelopment <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Name: "</span> <span class="token operator">+</span> pythonDevelopment<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Job: "</span> <span class="token operator">+</span> pythonDevelopment<span class="token punctuation">.</span><span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Як бачимо обсяг коду збільшилося вдвічі, або навіть більше. При великому обсязі коду падає його читальність. І найгірше ми всі об'єкти створюємо вручну і робимо класи, що сильно залежать один від одного. Ок, ми погодабось із цим. Лише описали один відділ. Ми цього нічого не втратимо. Ну якщо додасться ще один відділ? А що коли два? Три? А "копи - пастити" ніхто не забороняв. <img width="800" height="500" data-id="95d762a3-2168-4429-8b54-a098b1101690" alt="Spring.  Урок 2. IoC/DI на практиці - 1" src="https://cdn.javarush.com/images/article/95d762a3-2168-4429-8b54-a098b1101690/1080.jpeg"> Так, "Копі – пастити" ніхто не забороняв, але це не професійно. Тиж програміст. І тут можна скористатися DI. Тобто працюватимемо не на рівні класів, а на рівні інтерфейсів. Тепер стан наших об'єктів буде зберігатися в інтерфейсах. Таким чином, залежності між класами будуть мінімальні. Для цього спочатку створимо інтерфейс Development, який має два методи для опису співробітника. 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Development</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> Нехай тоді два класи JavaDevelopment та PythonDevelopment імплементуються (успадковується) від цього інтерфейсу та перевизначать методи String getName() та String getJob(). (Лістинг 7, 8) 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JavaDevelopment</span> <span class="token keyword">implements</span> <span class="token class-name">Development</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Alexa"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Middle Java developer"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PythonDevelopment</span> <span class="token keyword">implements</span> <span class="token class-name">Development</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Mike"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"Middle Python developer"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Тоді в класі HiringDepartment можна просто визначити об'єкт інтерфейсу типу Development і конструктор теж можна передати такий об'єкт. (Лістинг 9) 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HiringDepartment</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Development</span> development<span class="token punctuation">;</span> <span class="token comment">//Определяем интерфейс</span>

    <span class="token comment">//Конструктор принимает об'єкт интерфейса</span>
    <span class="token keyword">public</span> <span class="token class-name">HiringDepartment</span><span class="token punctuation">(</span><span class="token class-name">Development</span> development<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>development <span class="token operator">=</span> development<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">displayInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Name: "</span> <span class="token operator">+</span> development<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Job: "</span> <span class="token operator">+</span> development<span class="token punctuation">.</span><span class="token function">getJob</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Як бачимо обсяг коду зменшився. І, головне, залежності мінімізувалися. А як власне впроваджуються значення та залежності до цих об'єктів? Є три способи застосування залежностей: 
<ul>
 <li>За допомогою конструктора</li>
 <li>За допомогою сетерів</li>
 <li>Autowiring (автоматичне зв'язування)</li>
</ul><strong>Впровадження за допомогою конструктора</strong> Зараз поговоримо про впровадження за допомогою конструктора. Подивіться на листинг 9. Конструктор класу HiringDepartment на вхід чекає на об'єкт типу Development. Ми через цей конструктор спробуємо запровадити залежність. Також варто відзначити, що використання залежностей проводиться за допомогою так званої Spring контейнерів (Spring container). Існує три способи конфігурації Spring container'ів: 
<ul>
 <li>За допомогою XML-файлів (Застарілий спосіб)</li>
 <li>За допомогою анотацій + XML – файлів (Сучасний спосіб)</li>
 <li>За допомогою Java - коду (Сучасний спосіб)</li>
</ul> Ми ж зараз використовуємо конфігурацію за допомогою XML-файлів. Незважаючи на те, що цей спосіб вважається застарілим, все ж таки безліч проектів написані саме таким способом. Тож треба знати. Для початку в папці resources повинні створити xml-файл. Йому можна дати будь-яку назву, але бажано осмислені. Я назвав "applicationContext.xml". <img width="800" height="500" data-id="aa732f0c-1bb4-44e9-9e92-7e9fdf182caa" alt="Spring.  Урок 2. IoC/DI на практиці - 2" src="https://cdn.javarush.com/images/article/aa732f0c-1bb4-44e9-9e92-7e9fdf182caa/1080.jpeg"> У цьому файлі напишемо наступний фрагмент коду (Лістинг 10): 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>beans  xmlns<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/beans"</span>
        xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
        xmlns<span class="token operator">:</span>context<span class="token operator">=</span><span class="token string">"http://www.springframework.org/schema/context"</span>
        xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span>"http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans
        http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>beans<span class="token operator">/</span>spring<span class="token operator">-</span>beans<span class="token punctuation">.</span>xsd
        http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>context
        http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>org<span class="token operator">/</span>schema<span class="token operator">/</span>context<span class="token operator">/</span>spring<span class="token operator">-</span>context<span class="token punctuation">.</span>xsd"<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"javaDeveloper"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"org.example.JavaDevelopment"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"pythonDeveloper"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"org.example.PythonDevelopment"</span><span class="token operator">/</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>bean id<span class="token operator">=</span><span class="token string">"hiringDepartment"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"org.example.HiringDepartment"</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>constructor<span class="token operator">-</span>arg ref<span class="token operator">=</span><span class="token string">"javaDeveloper"</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>bean<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>beans<span class="token operator">&gt;</span></code></pre> Тепер по порядку. Перші вісім рядків коду нам не цікаві, дефолтні. Їх можна легко скопіювати. Тег &lt;bean&gt; &lt;/bean&gt; визначає Spring bean. <strong>Bean</strong> - це об'єкт, який створюється і керується Spring container'ом. Простими словами, Spring container сам створює новий об'єкт класу для нас (наприклад: JavaDevelopment javaDevelopment = new JavaDevelopment();). Усередині цього тега є атрибути id та class. <strong>id</strong> визначає назву біну. Тому id можна буде звертатися до об'єкта. Він еквівалентний назві об'єкта у Java класі. <strong>class</strong>- Визначає назву класу, до якого прив'язаний наш бін (об'єкт). Потрібно зазначати повний шлях до класу. Зверніть увагу на бін hiringDepartment. Усередині цього бина є ще один тег &lt;constructor-arg ref="javaDeveloper"/&gt;. Тут відбувається використання залежності (у разі використання з допомогою конструктора). <strong>&lt;constructor-arg&gt;</strong> - вказує Spring'у, що Spring container повинен шукати залежності в конструкторі класу, визначений в атрибуті бина. А з яким об'єктом потрібно зв'язати визначає атрибут <strong>ref</strong> всередині тега &lt;constructor-arg&gt;. ref - вказує на id бина, з яким потрібно зв'язуватися. Якщо в ref замість javaDeveloper вказуємо id pythonDeveloper, зв'язка відбувається з класом PythonDevelopmen. Тепер потрібно описати Main class. Він виглядатиме ось так: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>example</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//Определяем контекст файл в котором содержатся прописанные нами бины</span>
        <span class="token class-name">ClassPathXmlApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//Получем бины, которые были определены в файле applicationContext.xml</span>
        <span class="token class-name">HiringDepartment</span> hiringDepartment <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"hiringDepartment"</span><span class="token punctuation">,</span> <span class="token class-name">HiringDepartment</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        hiringDepartment<span class="token punctuation">.</span><span class="token function">displayInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        context<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Контекст всегда должен закрываться</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><strong>Що тут?</strong>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class=" language-java"><span class="token class-name">ClassPathXmlApplicationContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>Цей рядок пов'язує Main клас із .xml файлом, в якому описані наші біни. Значення, що передається в конструктор, повинен збігатися з ім'ям .xml файлу. (У нашому випадку applicationContext.xml). 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class=" language-java"><span class="token class-name">HiringDepartment</span> hiringDepartment <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"hiringDepartment"</span><span class="token punctuation">,</span> <span class="token class-name">HiringDepartment</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>Вказує, що хочемо отримати бін (об'єкт) класу HiringDepartment. Перший аргумент вказує на id бина що ми написали у xml файлі. Другий аргумент вказує на клас, з яким хочемо зв'язатися. Цей процес називається <a href="https://codegym.cc/groups/posts/513-reflection-api-refleksija-temnaja-storona-java" target="_blank" rel="nofollow">рефлексією</a> . 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class=" language-java">hiringDepartment<span class="token punctuation">.</span><span class="token function">displayInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 context<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Контекст всегда должен закрываться</span></code></pre>Тут ми спокійно отримуємо метод класу HiringDepartment. Зауважте, що для отримання об'єктів ми не використовували ключове слово new, і ніде не визначабо залежні об'єкти типу JavaDevelopment або PythonDevelopment. Їх просто описали у контексті файлу applicationContext.xml. Також зверніть увагу на останній рядок. Перед завершенням роботи завжди маємо закрити контекст. В іншому випадку ресурси не звільняться, може статися витік пам'яті або некоректність під час роботи програми. Якщо є питання чи пропозиції пишіть у коментарях, обов'язково відповім. Дякую за увагу. Вихідний код за <a href="https://github.com/Umaralikhon/Spring-for-CodeGym/tree/main/Lesson2" target="_blank" rel="nofollow">посиланням</a> Мій <a href="https://github.com/Umaralikhon" target="_blank" rel="nofollow">GitHub </a> <a href="https://t.me/coffee_mining" target="_blank" rel="nofollow">Віз </a> <a href="https://codegym.cc/groups/posts/3396-spring-soderzhanie-kursa" target="_blank" rel="nofollow">Зміст курсу</a> Далі буде...