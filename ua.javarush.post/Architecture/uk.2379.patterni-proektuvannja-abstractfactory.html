Паттерни проектування: AbstractFactory
<p>----------------------------------------</p>
Вітання! Сьогодні ми продовжимо вивчати патерни проектування та поговоримо про . Чим займемося на лекції: Для повного розуміння даного патерну тобі необхідно добре розумітися на таких темах: Абстрактна фабрика, як і всі фабричні патерни, до
<p>----------------------------------------</p>
Вітання! Сьогодні ми продовжимо вивчати патерни проектування та поговоримо про <strong>абстрактну фабрику</strong> . <img data-max-width="850" alt="Паттерни проектування: AbstractFactory - 1" src="https://cdn.javarush.com/images/article/1817e6d7-9806-46df-b607-e877a3ef222c/original.jpeg">Чим займемося на лекції: 
<ul>
 <li>обговоримо, що таке абстрактна фабрика та яку проблему даний патерн вирішує;</li>
 <li>створимо каркас кросплатформної програми для замовлення кави з інтерфейсом користувача;</li>
 <li>вивчимо інструкцію щодо застосування даного патерну з діаграмою та кодом;</li>
 <li>як бонус, у лекції захована пасхалка, завдяки якій ти навчишся визначати ім'я операційної системи за допомогою Java та в залежності від результату виконувати ту чи іншу дію.</li>
</ul>Для повного розуміння даного патерну тобі необхідно добре розумітися на таких темах: 
<ul>
 <li>успадкування в Java;</li>
 <li>абстрактні класи та методи в Java.</li>
</ul>
<h2>Які проблеми вирішує абстрактна фабрика патерн?</h2>Абстрактна фабрика, як і всі фабричні патерни, допомагає нам правильно організувати створення нових об'єктів. З її допомогою ми керуємо "випуском" різних сімейств взаємозалежних об'єктів. Різні сімейства взаємозалежних об'єктів ... Що це? Не хвилюйся: на практиці все простіше, ніж може здатися. Почнемо із того, що може бути сімейством взаємопов'язаних об'єктів? Припустимо, ми розробляємо з тобою стратегію і є кілька бойових одиниць: 
<ul>
 <li>піхота;</li>
 <li>кавалерія;</li>
 <li>лучники.</li>
</ul>Ці типи бойових одиниць пов'язані між собою, адже вони несуть службу в одній армії. Ми можемо сказати, що вищезазначені категорії — це сімейство взаємозалежних об'єктів. Із цим розібралися. Але патерн абстрактна фабрика застосовують для організації створення <strong>різних</strong>сімейств взаємозалежних об'єктів. Тут також нічого складного. Продовжимо приклад зі стратегією. Вони, зазвичай, є кілька різних протиборчих сторін. У різних сторін бойові одиниці можуть суттєво відрізнятися зовні. Піхотинці, вершники та лучники римської армії — не те саме, що піхотинці, вершники та лучники вікінгів. У рамках стратегії солдати різних армій — це різні сімейства взаємопов'язаних об'єктів. Було б кумедно, якби помилково програміста у лавах римських піхотинців розгулював солдатів у французькому мундирі часів Наполеона, з мушкетом напереваги. Саме для вирішення такої проблеми потрібний шаблон проектування абстрактної фабрики. Ні, не проблеми конфузів подорожей у часі, а створення різних груп взаємозалежних об'єктів. Абстрактна фабрика надає інтерфейс створення всіх існуючих продуктів (об'єктів сімейства). Абстрактна фабрика, як правило, має кілька реалізацій. Кожна з них відповідає за створення продуктів однієї із варіацій. У рамках стратегії ми мали б абстрактну фабрику, яка створює абстрактних піхотинців, лучників і кавалеристів, а також реалізації цієї фабрики. Фабрика, що створює римських легіонерів і, наприклад, фабрика, що створює воїнів карфагену. Абстракція - найважливіший принцип цього патерну. Клієнти фабрики працюють з нею та з продуктами лише через абстрактні інтерфейси. Тому можна не замислюватися над тим, яких воїнів ми зараз створюємо, а передати цей обов'язок якійсь конкретній реалізації абстрактної фабрики. Кожна з них відповідає за створення продуктів однієї із варіацій. У рамках стратегії ми мали б абстрактну фабрику, яка створює абстрактних піхотинців, лучників і кавалеристів, а також реалізації цієї фабрики. Фабрика, що створює римських легіонерів і, наприклад, фабрика, що створює воїнів карфагену. Абстракція - найважливіший принцип цього патерну. Клієнти фабрики працюють з нею та з продуктами лише через абстрактні інтерфейси. Тому можна не замислюватися над тим, яких воїнів ми зараз створюємо, а передати цей обов'язок якійсь конкретній реалізації абстрактної фабрики. Кожна з них відповідає за створення продуктів однієї із варіацій. У рамках стратегії ми мали б абстрактну фабрику, яка створює абстрактних піхотинців, лучників і кавалеристів, а також реалізації цієї фабрики. Фабрика, що створює римських легіонерів і, наприклад, фабрика, що створює воїнів карфагену. Абстракція - найважливіший принцип цього патерну. Клієнти фабрики працюють з нею та з продуктами лише через абстрактні інтерфейси. Тому можна не замислюватися над тим, яких воїнів ми зараз створюємо, а передати цей обов'язок якійсь конкретній реалізації абстрактної фабрики. що створює воїнів карфагену. Абстракція - найважливіший принцип цього патерну. Клієнти фабрики працюють з нею та з продуктами лише через абстрактні інтерфейси. Тому можна не замислюватися над тим, яких воїнів ми зараз створюємо, а передати цей обов'язок якійсь конкретній реалізації абстрактної фабрики. що створює воїнів карфагену. Абстракція - найважливіший принцип цього патерну. Клієнти фабрики працюють з нею та з продуктами лише через абстрактні інтерфейси. Тому можна не замислюватися над тим, яких воїнів ми зараз створюємо, а передати цей обов'язок якійсь конкретній реалізації абстрактної фабрики. 
<h2>Продовжуємо автоматизувати кав'ярню</h2>Минулої<a href="https://codegym.cc/groups/posts/2372--patternih-proektirovanija-factorymethod" target="_blank"> лекції</a>ми вивчабо патерн фабричний метод, за допомогою якого нам вдалося розширити кавовий бізнес та відкрити кілька нових точок з продажу кави. Сьогодні ми продовжимо роботу з модернізації нашої справи. За допомогою патерну абстрактна фабрика ми закладемо фундамент для нового десктопного додатку для замовлення кави онлайн. Коли пишемо додаток для робочого столу, ми завжди повинні думати про кросплатформенність. Наш додаток має працювати і на macOS, і на Windows (спойлер: Linux залишиться тобі як домашнє завдання). Як буде виглядати наша програма? Досить просто: це буде форма, яка складається з текстового поля, поля вибору та кнопки. Якщо ти маєш досвід використання різних операційних систем, ти точно помітив, що на вінді кнопки малюються не так, як на маку. Як, втім, і решта... Отже, почнемо. 
<ul>
 <li>кнопки;</li>
 <li>текстові поля;</li>
 <li>поля для вибору.</li>
</ul>Дисклеймер. Всередині кожного інтерфейсу ми могли б визначити методи, як <code class=" language-none">onClick</code>, <code class=" language-none">onValueChanged</code>або <code class=" language-none">onInputChanged</code>. Тобто. методи, які дозволять нам обробляти різні події (натискання кнопки, введення тексту, вибір значення у полі вибору). Все це свідомо опущено, щоб не перевантажувати приклад і зробити його наочнішим для вивчення фабричного патерну. Давай визначимо абстрактні інтерфейси для наших продуктів: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">Button</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">Select</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">TextField</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Для кожної операційної системи ми повинні створювати елементи інтерфейсу у стилі цієї операційної системи. Ми пишемо для Windows та MacOS. Створимо реалізації під Windows: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">WindowsButton</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Button</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">WindowsSelect</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Select</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">WindowsTextField</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">TextField</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тепер те саме для MacOS: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">MacButton</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Button</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">MacSelect</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Select</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">MacTextField</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">TextField</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Чудово. Тепер ми можемо розпочати нашу абстрактну фабрику, яка буде створювати всі існуючі абстрактні типи продуктів: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">GUIFactory</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token class-name"><span class="token class-name">Button</span></span> <span class="token function"><span class="token function">createButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token class-name"><span class="token class-name">TextField</span></span> <span class="token function"><span class="token function">createTextField</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token class-name"><span class="token class-name">Select</span></span> <span class="token function"><span class="token function">createSelect</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Чудово. Як бачиш, поки що нічого складного. Далі все також просто. За аналогією з продуктами створюємо різні реалізації нашої фабрики для кожної OS. Почнемо з Windows: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">WindowsGUIFactory</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">GUIFactory</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">WindowsGUIFactory</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating gui factory for Windows OS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Button</span></span> <span class="token function"><span class="token function">createButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating Button for Windows OS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">WindowsButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">TextField</span></span> <span class="token function"><span class="token function">createTextField</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating TextField for Windows OS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">WindowsTextField</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Select</span></span> <span class="token function"><span class="token function">createSelect</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating Select for Windows OS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">WindowsSelect</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Виведення в консоль усередині методів та конструктора додано для подальшої демонстрації роботи. Тепер для macOS: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">MacGUIFactory</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">GUIFactory</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">MacGUIFactory</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating gui factory for macOS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Button</span></span> <span class="token function"><span class="token function">createButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating Button for macOS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">MacButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">TextField</span></span> <span class="token function"><span class="token function">createTextField</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating TextField for macOS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">MacTextField</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Select</span></span> <span class="token function"><span class="token function">createSelect</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating Select for macOS"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">MacSelect</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Зауваж: кожен метод, згідно з сигнатурою, повертає абстрактний тип. Але всередині способу ми створюємо конкретну реалізацію товару. Це єдине місце, де ми контролюємо створення конкретних екземплярів. Тепер настав час написати клас форми. Це Java-клас, поля якого є елементами інтерфейсу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">OrderCoffeeForm</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">TextField</span></span> customerNameTextField<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">Select</span></span> coffeTypeSelect<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">Button</span></span> orderButton<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">OrderCoffeeForm</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">GUIFactory</span></span> factory<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Creating order coffee form"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        customerNameTextField <span class="token operator"><span class="token operator">=</span></span> factory<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">createTextField</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        coffeTypeSelect <span class="token operator"><span class="token operator">=</span></span> factory<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">createSelect</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        orderButton <span class="token operator"><span class="token operator">=</span></span> factory<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">createButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Конструктор форми передається абстрактна фабрика, яка створює елементи інтерфейсу. Ми передаватимемо в конструктор потрібну реалізацію фабрики, щоб у нас створювалися елементи інтерфейсу під ту чи іншу ОС. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Application</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">OrderCoffeeForm</span></span> orderCoffeeForm<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">drawOrderCoffeeForm</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token comment"><span class="token comment">// Определим ім'я операционной системы, получив значення системной проперти через System.getProperty</span></span>
        <span class="token class-name"><span class="token class-name">String</span></span> osName <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getProperty</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"os.name"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toLowerCase</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">GUIFactory</span></span> guiFactory<span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>osName<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">startsWith</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"win"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span> <span class="token comment"><span class="token comment">// Для windows</span></span>
            guiFactory <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">WindowsGUIFactory</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>osName<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">startsWith</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"mac"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span> <span class="token comment"><span class="token comment">// Для mac</span></span>
            guiFactory <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">MacGUIFactory</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Unknown OS, can't draw form :( "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
            <span class="token keyword"><span class="token keyword">return</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
        orderCoffeeForm <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">OrderCoffeeForm</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>guiFactory<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">Application</span></span> application <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Application</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        application<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">drawOrderCoffeeForm</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Якщо ми запустимо програму на вінді, отримаємо наступний висновок:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
Creating gui factory for Windows OS
Creating order coffee form
Creating TextField for Windows OS
Creating Select for Windows OS
Creating Button for Windows OS</code></pre><strong>На маку висновок буде наступним:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
Creating gui factory for macOS
Creating order coffee form
Creating TextField for macOS
Creating Select for macOS
Creating Button for macOS</code></pre> На лінуксі: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
Unknown OS, can't draw form :( </code></pre> А ми з тобою робимо наступний висновок. Ми написали каркас для програми з графічним інтерфейсом користувача, в якому створюються рівно ті елементи інтерфейсу, які доречні в даній ОС. Повторимо тезово, що ми створабо: 
<ul>
 <li>Сімейство продуктів: поле для введення, поле вибору та кнопки.</li>
 <li>Різні реалізації сімейства даних продуктів, для Windows та macOS.</li>
 <li>Абстрактна фабрика, всередині якої визначабо інтерфейс для створення наших продуктів.</li>
 <li>Дві реалізації нашої фабрики, кожна з яких відповідає за створення певної родини продуктів.</li>
 <li>Форму Java-клас, полями якого є абстрактні елементи інтерфейсу, які ініціалізуються в конструкторі необхідними значеннями за допомогою абстрактної фабрики.</li>
 <li>Клас застосування. Усередині нього ми створюємо форму, якою передаємо у конструктор потрібну реалізацію нашої фабрики.</li>
</ul>Разом: ми реалізували абстрактна фабрика патерн. <a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" class="img-fluid" alt="Паттерни проектування: AbstractFactory - 2" src="https://codegym-com.translate.goog/images/article/37577181-ba2c-46e8-bea1-8d51be98635c/original.jpeg"></a>
<h2>Абстрактна фабрика: інструкція із застосування</h2>Абстрактна фабрика - шаблон проектування для управління створенням різних сімейств продуктів без прив'язки до конкретних класів продуктів. Застосовуючи цей шаблон, необхідно: 
<ol>
 <li>Визначити самі сімейства продуктів. Припустимо, у нас є їх два: 
  <ul style="list-style-type: lower-alpha">
   <li><code class=" language-none">SpecificProductA1</code>,<code class=" language-none">SpecificProductB1</code></li>
   <li><code class=" language-none">SpecificProductA2</code>,<code class=" language-none">SpecificProductB2</code></li>
  </ul></li>
 <li>Для кожного продукту всередині сімейства можна визначити абстрактний клас (інтерфейс). У нашому випадку це: 
  <ul style="list-style-type: lower-alpha">
   <li><code class=" language-none">ProductA</code></li>
   <li><code class=" language-none">ProductB</code></li>
  </ul></li>
 <li>Всередині кожного сімейства продуктів кожен продукт повинен реалізовувати інтерфейс, визначений на кроці 2.</li>
 <li>Створити абстрактну фабрику з методами create для кожного продукту, визначеного на кроці 2. У нашому випадку такими методами будуть: 
  <ul style="list-style-type: lower-alpha">
   <li><code class=" language-none">ProductA createProductA();</code></li>
   <li><code class=" language-none">ProductB createProductB();</code></li>
  </ul></li>
 <li>Створити реалізації абстрактної фабрики те щоб кожна реалізація керувала створенням продуктів однієї родини. Для цього всередині кожної реалізації абстрактної фабрики необхідно реалізувати всі методи create, так щоб усередині них створювалися і поверталися конкретні реалізації продуктів.</li>
</ol>Нижче представлена ​​UML діаграма, яка ілюструє описану вище інструкцію: <img data-max-width="1024" data-id="4253c521-0ac6-4b0c-aaf9-01359cd82036" class="img-fluid" alt="Паттерни проектування: AbstractFactory - 3" src="https://cdn.javarush.com/images/article/4253c521-0ac6-4b0c-aaf9-01359cd82036/1024.jpeg" style="width: 1024px;">Тепер напишемо код за даною інструкцією: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token comment"><span class="token comment">// Определим общие интерфейсы продуктов</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">ProductA</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">ProductB</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token comment"><span class="token comment">// Создадим различные реализации (семейства) наших продуктов</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SpecificProductA1</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">ProductA</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SpecificProductB1</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">ProductB</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SpecificProductA2</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">ProductA</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SpecificProductB2</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">ProductB</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token comment"><span class="token comment">// Создадим абстрактную фабрику</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">AbstractFactory</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token class-name"><span class="token class-name">ProductA</span></span> <span class="token function"><span class="token function">createProductA</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token class-name"><span class="token class-name">ProductB</span></span> <span class="token function"><span class="token function">createProductB</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token comment"><span class="token comment">// Создадим реализацию абстрактной фабрики для создания продуктов семейства 1</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SpecificFactory1</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">AbstractFactory</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">ProductA</span></span> <span class="token function"><span class="token function">createProductA</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">SpecificProductA1</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">ProductB</span></span> <span class="token function"><span class="token function">createProductB</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">SpecificProductB1</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token comment"><span class="token comment">// Создадим реализацию абстрактной фабрики для создания продуктов семейства 1</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SpecificFactory2</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">AbstractFactory</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">ProductA</span></span> <span class="token function"><span class="token function">createProductA</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">SpecificProductA2</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">ProductB</span></span> <span class="token function"><span class="token function">createProductB</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">SpecificProductB2</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
<h2>Домашнє завдання</h2>Для закріплення матеріалу ти можеш зробити 2 речі: 
<ol>
 <li>Доопрацювати програму для замовлення кави так, щоб вона працювала і на Linux.</li>
 <li>Створити власну абстрактну фабрику для випуску юнітів будь-якої стратегії. Це може бути як історична стратегія з реальними арміями, так і фентезі з орками, гномами та ельфами. Головне, щоби тобі було цікаво. Вияви винахідливість, розстав висновки в консоль і отримуй задоволення від вивчення патернів!</li>
</ol>