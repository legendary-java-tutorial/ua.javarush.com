Сортування злиттям Merge-sort в Java
<p>----------------------------------------</p>
Кожен програміст спочатку повинен продумати схему/план/архітектуру майбутньої роботи, інакше це вивалюється в кашу, з повною анархією. Як і в будь-якому своєму пості, спочатку потрібен план, почнемо. Має на увазі принцип "поділяй і володарю
<p>----------------------------------------</p>
Кожен програміст спочатку повинен продумати схему/план/архітектуру майбутньої роботи, інакше це вивалюється в кашу, з повною анархією. Як і в будь-якому своєму пості, спочатку потрібен план, почнемо. 
<ul>
 <li>1) Візьмемо тему сортування злиттям Merge для новачків.</li>
 <li>2) Створимо архітектуру, план подальшої роботи.</li>
 <li>3) Пропрацюємо та опишемо всі частини плану.</li>
 <li>4) Перевіримо працездатність та якість.</li>
</ul><em>
 <ul>
  <li>2.1) Що таке сортування Merge?</li>
  <li>2.2) Опис можливих сигнатур.</li>
  <li>2.3) Навести приклад.</li>
  <li>2.4) На прикладі описати реалізацію Java.</li>
  <li>2.5) Щось додатково.</li>
 </ul></em><img data-id="b1ca3dd1-82a2-4e26-a068-6ac4a7c4cde2" data-max-width="848" alt="Сортування злиттям Merge-sort - 1" src="https://cdn.javarush.com/images/article/b1ca3dd1-82a2-4e26-a068-6ac4a7c4cde2/800.jpeg" style="width: 848px;">
<h2>Merge - сортування злиттям у Java</h2>Має на увазі принцип "поділяй і володарюй". У чому ідея та її зміст? 
<ol>
 <li>
  <p><em>Сортування.</em></p>
  <p>Розділяємо масив на частини, поки він не дорівнюватиме 1 елементу. Кожен один елемент є відсортованим.</p></li>
 <li>
  <p><em>Злиття.</em></p>
  <p>Злиття відсортованих елементів. <br>
    За принципом двох колод карт. Кладемо 2 колоди карт на стіл вгору значеннями, і карту яка з них молодша, кладемо в третій результуючий стос карт. Зрештою, якщо карти в якійсь колоді закінчабося, перекладаємо їх по черзі до результуючої. Вийде злитий із двох відсортованих масивів, один, новий, відсортований масив.</p></li>
</ol>Витрачений час O(n log2 n). Сортування вважається досить швидким. <a href="https://github.com/vinsler/JavaTechHelp/blob/master/Algorithm/AlgorithmicComplexity.md" target="_blank" rel="nofollow">Коротко про алгоритмічну складність, якщо комусь потрібно</a> Часто можна побачити функції типу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Sort</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">A</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> p<span class="token punctuation"><span class="token punctuation">,</span></span> q<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">Merge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">A</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> p<span class="token punctuation"><span class="token punctuation">,</span></span> q<span class="token punctuation"><span class="token punctuation">,</span></span> r<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Це приблизно те саме, тільки прив'язане на індекси. Змінні в них це: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">A</span></span> <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Array</span></span> <span class="token operator"><span class="token operator">=</span></span> Массив
p<span class="token punctuation"><span class="token punctuation">,</span></span> q<span class="token punctuation"><span class="token punctuation">,</span></span> r <span class="token operator"><span class="token operator">=</span></span> индексы для массива
p <span class="token operator"><span class="token operator">-</span></span> начало первого массива
q <span class="token operator"><span class="token operator">-</span></span> конец первого массива
q <span class="token operator"><span class="token operator">+</span></span> <span class="token number"><span class="token number">1</span></span> <span class="token operator"><span class="token operator">-</span></span> начало второго массива
r <span class="token operator"><span class="token operator">-</span></span> конец второго массива</code></pre> Якщо ці змінні не описані, значить той, хто просить зробити таку функцію сам, не знає, чого хоче. А вам доведеться лопатити гугл у пошуках, що це таке, напевно знайдете, можливо. Наведемо приклад до нашого сортування. Є масив <code class=" language-none">{6, 1, 3, 5, 2, 4, 7, 8}</code>, якщо його довжина більше 1, то ми ділимо його на 2 частини та отримуємо ліву частину <code class=" language-none">{6, 1, 3, 5}</code>та праву частину <code class=" language-none">{2, 4, 7, 8}</code>. Продовжуємо дію розподілу на 2 частини, поки його довжина буде більше 1. У результаті отримаємо купу масивів довжиною в 1 елемент, а саме: <code class=" language-none">{6} {1} {3} {5} {2} {4} {7} {8}</code>. Реалізація на Java приблизно така: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token function"><span class="token function">sortArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arrayA<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span> <span class="token comment"><span class="token comment">// сортування Массива который передается в функцию</span></span>
        <span class="token comment"><span class="token comment">// проверяем не нулевой ли он?</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>arrayA <span class="token operator"><span class="token operator">==</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
        <span class="token comment"><span class="token comment">// проверяем не 1 ли элемент в массиве?</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">&lt;</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token keyword"><span class="token keyword">return</span></span> arrayA<span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// возврат в рекурсию в строки ниже см комменты.</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
        <span class="token comment"><span class="token comment">// копируем левую часть от начала до середины</span></span>
        <span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arrayB <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span>arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">/</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">arraycopy</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arrayA<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arrayB<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">/</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token comment"><span class="token comment">// копируем правую часть от середины до конца массива, вычитаем из длины первую часть</span></span>
        <span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arrayC <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span>arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">-</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">/</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">arraycopy</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arrayA<span class="token punctuation"><span class="token punctuation">,</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">/</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arrayC<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">-</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">/</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token comment"><span class="token comment">// рекурсией закидываем поделенные обе части обратно в наш метод, он будет крутится до тех пор,</span></span>
        <span class="token comment"><span class="token comment">// пока не дойдет до 1 елемента в массиве, после чего вернется в строку и будет искать второй такой же,</span></span>
        <span class="token comment"><span class="token comment">// точнее правую часть от него и опять вернет его назад</span></span>
        arrayB <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">sortArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arrayB<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// левая часть возврат из рекурсии строкой return arrayA;</span></span>
        arrayC <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">sortArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arrayC<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// правая часть возврат из рекурсии строкой return arrayA;</span></span>

        <span class="token comment"><span class="token comment">// далее опять рекурсия возврата слияния двух отсортированных массивов</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token function"><span class="token function">mergeArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arrayB<span class="token punctuation"><span class="token punctuation">,</span></span> arrayC<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Далі потрібно злити ці масиви 1. Як це робиться? Щоб не проходити багаторазово по кожному масиву, введемо індекси позиції кожного масиву. Після чого один раз пройдемо по циклу, що дорівнює довжині суми цих двох масивів. Береться перший масив та другий масив, і береться перший елемент, порівнюється більше <em>елемент номер 1 у першому масиві</em> та <em>елемент номер 1 у другому масиві</em>? Найменший з них кладеться в результуючий масив. Тут важливо, якщо ми взяли елемент з першого масиву, то при переході циклу він повинен посилатися на 2 елемент першого масиву і на 1 елемент другого масиву. Для цього потрібно збільшити індекс другого масиву на +1 і при перевірці віднімати його з номера циклу, аналогічно для першого масиву. Зрозуміло навіщо це робити? Чи взагалі нічого не зрозуміло? :-) Наприклад є 2 масиви: <code class=" language-none">{1}{4}{8}</code>і <code class=" language-none">{3}{6}{7}</code> І є цикл: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">+</span></span> arrayB<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>arrayA<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">&lt;</span></span> arrayB<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayA<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayB<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> При першому проході циклу вийде <code class=" language-none">arrayC[1] = {1}</code>: ми взяли цей елемент з першого масиву. То при проході по другому циклу ми вже повинні порівнювати елемент <code class=" language-none">{4}</code>і <code class=" language-none">{3}</code>, але щоб це зробити нам потрібні враховувати індекси позицій і зміщення обох масивів, для цього вводимо їх. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">int</span></span> positionA <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> positionB <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">+</span></span> arrayB<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>arrayA<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionA<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">&lt;</span></span> arrayB<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionB<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayA<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionA<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	positionB<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayB<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionB<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	positionA<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Але це ще не все, треба врахувати, що якийсь масив може закінчитись раніше. Наприклад, є 3 масиви: <code class=" language-none">{1}{3}{5}</code>і <code class=" language-none">{6}{7}{9}</code> Перший масив закінчиться ще до того, як підійде другий, для цього потрібно ввести перевірку і, в принципі, готова функція злиття. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token function"><span class="token function">mergeArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arrayА<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arrayB<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

<span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arrayC <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span>arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token operator"><span class="token operator">+</span></span> arrayB<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">int</span></span> positionA <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> positionB <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> arrayC<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>positionA <span class="token operator"><span class="token operator">==</span></span> arrayA<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayB<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionB<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	positionB<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>positionB <span class="token operator"><span class="token operator">==</span></span> arrayB<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayA<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionA<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	positionA<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>arrayA<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionA<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">&lt;</span></span> arrayB<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionB<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayA<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionA<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	positionB<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	arrayC<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arrayB<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> positionB<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	positionA<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">return</span></span> arrayC<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Найважче у цьому сортуванні – це принцип переходу рекурсії. Тобто. ми закидаємо в рекурсію ліву частину доти, доки вона ділиться на 2, а потім розкручуємо її назад, на словах це дуже складно та заплутано, а коли намагаєшся уявити, якщо ще й не зрозуміло, то зовсім ліс. Беремо масив: <code class=" language-none">{2}{1}{4}{3}</code>. Перша рекурсія сортування поділить його на 2 частини і запустить функцію ще раз з елементами <em>2-1</em> потім ще раз з елементом <em>2</em> і <em>1</em> поверне їх по черзі, таким чином у функцію злиття потраплять першими вони, а вийдуть вже <em>1-2</em> потім рекурсія повернеться назад і закине в злиття вже <em>4-3</em> , потім <em>4</em> і <em>3</em> , після чого злиття поверне <em>3-4</em>, а потім рекурсія розкрутиться знову і у злиття потрапить вже <em>1-2</em> і <em>3-4</em> , а повернеться відсортований масив <em>1-2-3-4</em> . Ну ось загалом і все, сортування складається із двох функцій. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token function"><span class="token function">sortArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>array<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> 			<span class="token comment"><span class="token comment">// кладем массив который нужно отсортировать</span></span>
<span class="token function"><span class="token function">mergeArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arrayA<span class="token punctuation"><span class="token punctuation">,</span></span> arrayB<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> 	<span class="token comment"><span class="token comment">// кладем 2 массива которые нужно слить в один</span></span></code></pre> Якщо записати якийсь мейн, вийде щось на кшталт: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">Merge</span></span> testMerge <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Merge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">int</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> result <span class="token operator"><span class="token operator">=</span></span> testMerge<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sortArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token number"><span class="token number">4</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> result<span class="token punctuation"><span class="token punctuation">.</span></span>length <span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>result<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">" "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Для мене це сортування було повним провалом, питань було мільйон, а відповідей немає, я перекопав весь інтернет, перечитав, переглянув купу відео, але, як і завжди, відповіді знайшов лише сам. І тільки, коли почав писати рішення зовсім інше, ніж яке миготить скрізь) А в результаті вийшло схоже на всі інші))) Сортування насправді найпростіше, головне уявити інтерактивно її в дії, і все стає на свої місця, якщо руки дійдуть, зроблю відео)))) Поки що це все, на що мене вистачило: <a href="https://www.youtube.com/watch?v=J-CLaZlUv8U" target="_blank" rel="nofollow">Сортування злиттям Merge-sort</a> Найголовніше, завжди робіть план спочатку. Краще почекати і подумати, перш ніж почати щось робити. Нехай на це піде більше часу, але з'явиться розуміння і шлях вирішення, ніж доведеться переписувати кілька разів і вигадувати мабоці. Всім дякую, що приділабо час, удачі та гарного настрою. ) PS: Критика, хороше і погане, а також питання дуже вітаються. )))