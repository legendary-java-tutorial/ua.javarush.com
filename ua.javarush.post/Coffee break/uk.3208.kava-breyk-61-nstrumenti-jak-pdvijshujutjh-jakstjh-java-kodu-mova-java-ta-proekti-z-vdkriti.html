Кава-брейк #61. Інструменти, які підвищують якість Java коду. Мова Java та проекти з відкритим вихідним кодом
<p>----------------------------------------</p>
Джерело: Найкращий спосіб захистити ваш код від помилок, яких можна уникнути, - використовувати інструменти статичного аналізу коду. Вони можуть допомогти вам знайти і виправити проблемний код до того, як він вийде у прод. Погляньмо на деяк
<p>----------------------------------------</p>
<h2>Інструменти, які підвищують якість коду Java</h2>Джерело: <a href="https://dev.to/saifsadiq1995/java-code-quality-tools-recommended-by-developers-3j3e" rel="nofollow" target="_blank">Dev.to</a> Найкращий спосіб захистити ваш код від помилок, яких можна уникнути, - використовувати інструменти статичного аналізу коду. Вони можуть допомогти вам знайти і виправити проблемний код до того, як він вийде у прод. Погляньмо на деякі популярні інструменти статичного аналізу, які можна використовувати для тестування коду в різних ситуаціях.<img data-max-width="800" data-id="5791030f-e14a-4067-9382-1fa58d38c250" alt="Кава-брейк #61.  Інструменти, які підвищують якість Java коду.  Мова Java та проекти з відкритим вихідним кодом - 1" src="https://cdn.javarush.com/images/article/5791030f-e14a-4067-9382-1fa58d38c250/800.jpeg" style="width: 800px;">
<h3>DeepSource</h3><a href="https://deepsource.io/" rel="nofollow" target="_blank">DeepSource</a> - це, ймовірно, найкращий статичний аналізатор коду для Java, з усіх. DeepSource <a href="https://deepsource.io/docs/analyzer/java.html" rel="nofollow" target="_blank">виявляє понад</a> 170 проблем, пов'язаних з якістю коду Java, у тому числі помилки продуктивності, проблеми безпеки та антипатернів. В даний час він підтримує проекти Java на Gradle, у майбутньому DeepSource також додасть підтримку Maven та Android. Крім того, творці DeepSource працюють над додаванням підтримки Autofix: це дозволить Java розробникам виправляти проблеми без написання коду. особливості:
<ul>
 <li>Виявляє понад 170 проблем із якістю коду.</li>
 <li>Підтримуються версії OpenJDK з 8 до 14.</li>
 <li>Інтеграція: Gradle.</li>
</ul>Ліцензування: безкоштовне використання для проектів з відкритим вихідним кодом, студентів та некомерційних організацій. <a href="https://deepsource.io/pricing/" rel="nofollow" target="_blank">Платні тарифи</a> розпочинаються від 12 доларів для одного користувача на місяць.
<h3>SonarQube</h3><a href="https://www.sonarqube.org/" rel="nofollow" target="_blank">SonarQube</a> - це набір інструментів статичного аналізу коду Java з відкритим вихідним кодом, який поєднує функціональні можливості таких інструментів як FindBugs і PMD. Інтуїтивно зрозумілі панелі моніторингу SonarQube зберігають історію, що покращує відстеження якості коду. SonarQube використовує передові методи аналізу, такі як зіставлення зі зразком. Також він проводить аналіз потоку даних, знаходить явні проблеми у структурі коду, помилки та вразливості безпеки. особливості:
<ul>
 <li>Містить 597 правил виявлення різних проблем з якістю коду.</li>
 <li>Підтримує всі мовні версії Java 14.</li>
 <li>Інтеграція: Maven, Gradle, Ant.</li>
</ul>Ліцензування: версія Community Edition безкоштовна та має відкритий вихідний код. <a href="https://www.sonarsource.com/plans-and-pricing/" rel="nofollow" target="_blank">Вартість ліцензії</a> на комерційні версії – від 120 євро.
<h3>SpotBugs</h3><a href="https://spotbugs.github.io/" rel="nofollow" target="_blank">SpotBugs</a> - це наступник FindBugs: інструмент статичного аналізу коду Java, який досліджує байт-код JVM, знаходить ознаки потенційних помилок та вразливостей безпеки, виявляючи дефекти кодингу. Про ці дефекти повідомляють у попередженнях (warnings), але не всі попередження обов'язково є дефектами: вони можуть сповіщати про можливі проблеми з продуктивністю. В останній версії міститься понад 400 попереджень, розділених на чотири категорії: (1) найбільш небезпечні, (2) небезпечні, (3) серйозні, (4) потребують уваги. особливості:
<ul>
 <li>Виявляє у коді понад 400 типів помилок.</li>
 <li>Для роботи SpotBugs потрібен JRE (або JDK) 1.8.0 або новіший. Однак він може аналізувати програми, скомпіловані для будь-якої версії Java, починаючи з 1.0 до 1.9.</li>
 <li>Інтеграція: Ant, Maven, Gradle.</li>
</ul>Ліцензування: <a href="https://pmd.github.io/#downloads" rel="nofollow" target="_blank">безкоштовно</a> та з відкритим вихідним кодом.
<h3>PMD</h3><a href="https://pmd.github.io/" rel="nofollow" target="_blank">PMD</a> аналізує вихідний код Java, звіряє його зі своїм списком правил та повідомляє користувача про проблемні рядки. PMD вміє визначати загальні проблеми, такі як хардкодинг паролів та IP-адреса, використання циклу forEach замість традиційного for, а також код, який порушує <a href="https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%BA%D0%BE%D0%BD_%D0%94%D0%B5%D0%BC%D0%B5%D1%82%D1%80%D1%8B" rel="nofollow" target="_blank">закон Деметри</a> або реалізує антипаттерн God Class. особливості:
<ul>
 <li>Більше 250 правил виявлення проблем у Java.</li>
 <li>Мовна підтримка Java 13</li>
 <li>Інтеграція: Maven, Gradle.</li>
</ul>Ліцензування: <a href="https://pmd.github.io/#downloads" rel="nofollow" target="_blank">безкоштовно</a> та з відкритим вихідним кодом.
<h3>EclEmma</h3><a href="https://www.jacoco.org/" rel="nofollow" target="_blank">EclEmma</a> (на основі бібліотеки JaCoCo) – це безкоштовний набір інструментів покриття коду Java для Eclipse. Він вимірює покриття коду та видає дані про нього за допомогою візуальних звітів. EclEmma виділяє рядки коду та загальний відсоток виконаного коду, а також відстежує покриття рядків та гілок. Інструмент допомагає розробникам оцінювати код, який не протестували як слід, та фокусується на областях із низьким охопленням. Він підтримує 3 типи форматів звітів: HTML, XML та CSV. особливості:
<ul>
 <li>Підтримує файли Java класів від версії 1.0 до 14.</li>
 <li>Інтеграція: Ant, Maven.</li>
</ul>Ліцензування: <a href="https://www.jacoco.org/download.html" rel="nofollow" target="_blank">безкоштовно</a> та з відкритим вихідним кодом.
<h3>Checkstyle</h3><a href="https://checkstyle.sourceforge.io/" rel="nofollow" target="_blank">Checkstyle</a> — інструмент статичного аналізу коду Java, який допомагає розробникам встановити стандарти написання коду і підтримувати їх дотримання. Checkstyle виявляє порушення правил, допомагає їх виправити та переформатувати код за допомогою таких IDE, як Eclipse, IntelliJ IDEA або NetBeans. особливості:
<ul>
 <li>Понад 180 перевірок на дотримання стилю Java-коду.</li>
 <li>Підтримка мов Java 14.</li>
 <li>Інтеграція: Ant, Maven.</li>
</ul>Ліцензування: <a href="https://checkstyle.org/licenses.html" rel="nofollow" target="_blank">безкоштовно</a> та з відкритим вихідним кодом.
<h3>JArchitect</h3><a href="https://www.jarchitect.com/" rel="nofollow" target="_blank">JArchitect</a> – це інструмент статичного аналізу Java, який оцінює такі метрики коду, як кількість параметрів методу, змінних та рядків, складність організації циклів у програмі, аферентне та еферентне зв'язування тощо. Він вимірює, запитує та візуалізує ваш код, дозволяє уникнути непередбачених проблем та накопичення технічного боргу. особливості:
<ul>
 <li>Мовна підтримка Java 8 до 13.</li>
 <li>Понад 450 правил.</li>
 <li>Інтеграція: Maven, Gradle, Ant.</li>
</ul>Ліцензування: безкоштовна пробна версія на 14 днів, безкоштовна ліцензія з відкритим вихідним кодом для некомерційних проектів програмного забезпечення з відкритим вихідним кодом, персональна ліцензія – 149 доларів США, версія для розробників – 299 доларів США, Build Machine – 549 доларів США.
<h3>JUnit</h3><a href="https://junit.org/junit5/" rel="nofollow" target="_blank">JUnit</a> — популярне середовище модульного тестування для проектів, що розробляються на Java, що дозволяє розробникам писати та запускати модульні тести для Java 8 та вище. JUnit перевіряє стан та поведінку коду за допомогою простих, але потужних операторів контролю. Почати роботу з JUnit легко: у ньому безліч додаткових можливостей використання анотацій для складніших сценаріїв. особливості:
<ul>
 <li>JUnit 5 (останній випуск) вимагає Java 8 (або вище) під час виконання.</li>
 <li>Інтеграція: Maven, Gradle, Ant.</li>
</ul>Ліцензування: <a href="https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-junit-artifacts" rel="nofollow" target="_blank">безкоштовно</a> та з відкритим вихідним кодом.
<h2>Мова Java та проекти з відкритим вихідним кодом</h2>Джерело: <a href="https://opensource.com/article/20/8/open-source-java" rel="nofollow" target="_blank">Opensource</a> Якщо ви використовуєте Java для написання бізнес-додатків, ви повинні знати, що Java Standard Edition (SE) - це не програмне забезпечення з відкритим вихідним кодом. Більше того, у січні 2019 року корпорація Oracle змінила свою політику — тепер вона потребує комерційної ліцензії для будь-якого використання SE, від локального середовища розробника до виробничого середовища. Ця зміна викликала багато питань серед розробників щодо дотримання ліцензійних вимог під час використання Java. Якщо у вас ще є сумніви щодо застосування Java у проектах з відкритим вихідним кодом, у цій статті ви дізнаєтеся всю необхідну вам інформацію.<img data-max-width="800" data-id="986930fd-6060-4fb5-9df6-172769a4b3ce" alt="Кава-брейк #61.  Інструменти, які підвищують якість Java коду.  Мова Java та проекти з відкритим вихідним кодом - 2" src="https://cdn.javarush.com/images/article/986930fd-6060-4fb5-9df6-172769a4b3ce/800.jpeg" style="width: 800px;">
<h3>Розвиваючі платформи в спільноті Java</h3><a href="https://openjdk.java.net/" rel="nofollow" target="_blank">OpenJDK</a> (Open Java Development Kit) – це безкоштовна реалізація Java SE з відкритим вихідним кодом. Це альтернатива, яка дозволяє більше 70% Java-розробників продовжувати використовувати свої середовища додатків Java, залишаючись при цьому в екосистемі з відкритим вихідним кодом. OpenJDK поширюється під <a href="https://openjdk.java.net/legal/gplv2+ce.html" rel="nofollow" target="_blank">ліцензією GNU GPLv2</a>. Оскільки вона гарантує свободу розповсюдження, це робить OpenJDK вибором за замовчуванням для розробників Java при створенні настільних додатків, сумісних з Java SE. Oracle продовжує розробку та підтримку Enterprise Java (Java EE), побудованої на платформі Java SE. Java EE включає додаткові функції, що виходять за рамки SE, для підтримки великомасштабних, масштабованих, багаторівневих та захищених програм для різних корпоративних середовищ. У вересні 2017 року платформу Java EE передали <a href="https://www.eclipse.org/org/" rel="nofollow" target="_blank">Eclipse Foundation</a> , що призвело до впровадження більш гнучких процесів, зміни процесу управління та впровадження більш гнучкого ліцензування. Через рік, в 2018 році, Eclipse Foundation оголосив про випуск нового бренду <a href="https://opensource.com/article/18/5/jakarta-ee" rel="nofollow" target="_blank">Jakarta EE</a>. Він покликаний підтримати розробників, які переходять із Java EE на нову платформу. Еволюція від Java EE до Jakarta EE також вплинула багатьох корпоративних Java-розробників при реалізації нової бізнес-логіки.
<h3>Розвиток фреймворків у міру розвитку Java</h3>Тим часом нові технології, такі як RESTful API (2000), HTTP 2 (2015) і JSON (2017), розроблялися разом з веб-архітектурами, що швидко змінюються. Інтерес до мікросервісних архітектур зростав, але оскільки Java EE знаходилася в перехідному періоді, вона не вловила ці нові парадигми. У відповідь на запити спільноти Java, кілька компаній (IBM, Red Hat та Tomitribe) створабо у 2016 році <a href="https://microprofile.io/" rel="nofollow" target="_blank">MicroProfile</a> – специфікацію, яка оптимізує платформу Enterprise Java для мікросервісних архітектур. Пізніше MicroProfile приєднався до <a href="https://opensource.com/article/18/1/eclipse-microprofile" rel="nofollow" target="_blank">Eclipse Foundation</a>, надавши корпоративним Java-розробникам два варіанти реалізації мікросервісних архітектур: SpringBoot або MicroProfile. MicroProfile дозволяє розробникам створювати переносні мікросервіси на основі Java для різних рішень постачальників, забезпечуючи при цьому сумісність між відповідними API Java/Jakarta EE та MicroProfile в одному додатку. Якщо вас цікавить Enterprise-розробка на Java, <a href="https://start.microprofile.io/" rel="nofollow" target="_blank">MicroProfile Starter</a>стане чудовим вибором для вивчення мікросервісів на практиці. Графічний інтерфейс користувача MicroProfile Starter помітно спрощує генерацію коду при створенні монолітного сервера додатків Java. Середовище виконання MicroProfile підтримує розгортання артефакту програми (наприклад, файлу JAR або WAR) та його виконання як сервер програм Java зі специфікацією MicroProfile. Ви можете вибрати потрібне хмарне середовище виконання (наприклад, <a href="https://quarkus.io/" rel="nofollow" target="_blank">Quarkus</a> ) зі списку середовища виконання MicroProfle Starter, а потім вибрати специфікації для отримання додаткових корпоративних фіч, таких як стійкість до відмов, OpenAPI, OpenTracing та інші. Виконавши ці кроки, натисніть кнопку «Завантажити», щоб розпочати розробку програми.<img data-max-width="512" data-id="b42f294a-709d-4c49-bf20-4d7844eda61c" alt="Кава-брейк #61.  Інструменти, які підвищують якість Java коду.  Мова Java та проекти з відкритим вихідним кодом - 3" src="https://cdn.javarush.com/images/article/b42f294a-709d-4c49-bf20-4d7844eda61c/512.jpeg" style="width: 512px;">
<h3>Висновок</h3>Навігація по Java з погляду відкритого вихідного коду може бути трохи заплутаною, враховуючи довгу історію мови та її зміни. Використання OpenJDK та Jakarta EE дозволяє розробникам Java підтримувати стандартні корпоративні програми без шкоди для свободи відкритого вихідного коду. Якщо ви хочете детальніше дізнатися про це, радимо ознайомитися з MicroProfile або Quarkus.