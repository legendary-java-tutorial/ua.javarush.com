З 8 до 13: повний огляд версій Java. Частина 1
<p>----------------------------------------</p>
Кошенята, всім привіт)) Отже, сьогодні у нас на подвір'ї 2020 рік, і до виходу Java 14 залишилося зовсім небагато. Готову версію варто чекати 17 березня, аналізувати, що там прийшло свіженького і цікавого вже постфактум, ну а сьогодні хотіл
<p>----------------------------------------</p>
Кошенята, всім привіт)) Отже, сьогодні у нас на подвір'ї 2020 рік, і до виходу Java 14 залишилося зовсім небагато. Готову версію варто чекати 17 березня, аналізувати, що там прийшло свіженького і цікавого вже постфактум, ну а сьогодні хотілося б освіжити пам'ять за попередніми версіями Java. Що нового вони нам принесли? Давайте подивимося. А почнемо огляд з Java 8, оскільки вона ще досить актуальна і користується в більшості проектів. <img data-max-width="450" alt="З 8 до 13: повний огляд версій Java.  Частина 1 - 1" src="https://cdn.javarush.com/images/article/20a5b739-c7c2-440e-b2a4-e52cc24148d5/original.jpeg">Раніше нові версії виходабо раз на 3-5 років, але останнім часом у Oracle інший підхід - "нова Java раз на півроку". І ось кожні півроку ми спостерігаємо випуск фіч. Добре це чи погано – кожен бачить по-своєму. Наприклад мені це не дуже подобається, так як у нових версій не так вже й багато нових фіч, але при цьому версії ростуть, як гриби після дощу. Моргнув пару разів на проекті з Java 8, а там вже і Java 16 вийшла (зате коли вона виходить рідко, відбувається накопичення нових фіч, і в результаті ця подія довгоочікувана, як свято: всі обговорюють нові плюшки і ти ніяк не пройдеш повз це) . Тож давайте почнемо! 
<h2>Java 8</h2>
<h3>Functional Interface</h3>Що це? Функціональний інтерфейс - це інтерфейс, що містить один нереалізований (абстрактний) метод. <span class="text-bold">@FunctionalInterface</span> - необов'язкова інструкція, яка ставиться над таким інтерфейсом. Потрібна для перевірки того, чи він відповідає вимогам функціонального інтерфейсу (наявність лише одного абстрактного методу). Але, як завжди, у нас є деякі застереження: default і static методи не підпадають під ці вимоги. Тому може бути кілька таких методів + абстрактний, і інтерфейс буде функціональним. Також може містити методи класу Object, які впливають визначення інтерфейсу як функціонального. Додам пару слів про default та static методи: 
<ol>
 <li>
  <p>Методи з модифікатором <span class="text-bold">default</span> дозволяють додавати нові методи до інтерфейсів, не порушуючи їх існуючу реалізацію.</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">Something</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  <span class="token keyword"><span class="token keyword">default</span></span> <span class="token keyword"><span class="token keyword">void</span></span> someMethod <span class="token punctuation"><span class="token punctuation">{</span></span>
      <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Some text......"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Так-так, ми додаємо реалізований метод в інтерфейс, і при імплементації даного методу його можна не визначати, а використовувати як успадкований. Але якщо клас реалізує два інтерфейси з даним методом, у нас буде помилка компіляції, а якщо реалізує інтерфейси та успадковує клас з певним однаковим методом, метод класу батька перекриватиме методи інтерфейсу та ексепшен не вилізе.</p></li>
 <li>
  <p>Методи static в інтерфейсі працюють так само, як і <span class="text-bold">static</span> методи класу. Не забуваємо: успадковувати <span class="text-bold">static</span> методи не можна, як не можна викликати і <span class="text-bold">static</span> метод із класу-спадкоємця.</p></li>
</ol>Отже, ще кілька слів про функціональні інтерфейси і їдемо далі. Ось основні переліки ФІ (решта — це їх різновиди): 
<ul>
 <p>Predicate - приймає аргументом деяке значення T, повертає boolean.</p>
 <p>Приклад:<code class=" language-none">boolean someMethod(T t);</code></p>
 <li>
  <p>Consumer приймає аргумент типу Т, нічого не повертає (void).</p>
  <p>Приклад:<code class=" language-none">void someMethod(T t);</code></p></li>
 <li>
  <p>Supplier – нічого не приймає на вхід, але повертає деяке значення T.</p>
  <p>Приклад:<code class=" language-none">T someMethod();</code></p></li>
 <li>
  <p>Function – приймає на вхід параметр типу Т, повертає значення типу R.</p>
  <p>Приклад:<code class=" language-none">R someMethod(T t);</code></p></li>
 <li>
  <p>UnaryOperator - приймає аргумент Т і повертає значення типу Т.</p>
  <p>Приклад:<code class=" language-none">T someMethod(T t);</code></p></li>
</ul>
<h3>Stream</h3>Стрими - це спосіб обробляти структури даних у функціональному стилі. Як правило, це колекції (але можна використовувати їх в інших, менш поширених ситуаціях). Більш зрозумілою мовою, Stream - це потік даних, який ми обробляємо працюючи з усіма даними одночасно, а не перебором, як при for-each. Давайте розглянемо невеликий приклад. Припустимо, у нас є набір чисел, які ми хочемо відфільтрувати (менше 50), збільшити на 5, і з тих, що залишабося, вивести в консоль перші 4 числа. Як би ми це перевірабо раніше: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">Integer</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">46</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">34</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">24</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">93</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">91</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">34</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">94</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">int</span></span> count <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> x <span class="token operator"><span class="token operator">:</span></span> list<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

  <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>x <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">50</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token keyword"><span class="token keyword">continue</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

  x <span class="token operator"><span class="token operator">+=</span></span> <span class="token number"><span class="token number">5</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

  count<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

  <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>count <span class="token operator"><span class="token operator">&gt;</span></span> <span class="token number"><span class="token number">4</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token keyword"><span class="token keyword">break</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

  <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Начебто коду не так багато, а логіка вже трохи плутана. Подивимося, як це виглядатиме за допомогою стриму: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Stream</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">of</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">46</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">34</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">24</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">93</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">91</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">34</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">94</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>

      <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">filter</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x <span class="token operator"><span class="token operator">-&gt;</span></span> x <span class="token operator"><span class="token operator">&lt;</span></span> <span class="token number"><span class="token number">50</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>

      <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">map</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x <span class="token operator"><span class="token operator">-&gt;</span></span> x <span class="token operator"><span class="token operator">+</span></span> <span class="token number"><span class="token number">5</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>

      <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">limit</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">4</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>

      <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token operator"><span class="token operator">::</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Stream-и сильно полегшують життя, скорочуючи обсяг коду і роблячи його більш читаним. Хто хоче більш детально заглибитися в цю тему, ось непогана (я б навіть сказав чудова) <a href="https://codegym.cc/groups/posts/2203-stream-api" target="_blank">стаття на цю тему</a> . 
<h3>Lambda</h3>Мабуть, найважливішою та довгоочікуваною фічею є поява лямбд. <span class="text-bold">Що таке лямбда? </span>Це блок коду, який можна передати в різні місця, тому він може бути виконаний пізніше стільки разів, скільки потрібно. Звучить досить заплутано, чи не так? Простіше кажучи, за допомогою лямбд можна реалізовувати метод функціонального інтерфейсу (така собі реалізація анонімного класу): 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Runnable</span></span> runnable <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"I'm running !"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Thread</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>runnable<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">start</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Як швидко і без зайвої тяганини ми реалізували метод run(). І так: Runnable – це функціональний інтерфейс. Також лямбди використовую у роботі зі стримами (як у прикладах зі стримами вище). Не будемо сильно заглиблюватися, так як можна пірнути досить глибоко, залишу пару посилань, щоб хлопці, хто в душі той ще копаток, міг "поколупатися" на ура: 
<ul>
 <li><a href="https://habr.com/ru/post/224593/" rel="nofollow" target="_blank">стаття про лямбда-вирази в Java 8 на Хабрі</a></li>
 <li><a href="https://alexkosarev.name/2019/03/11/lambdas-in-java/" rel="nofollow" target="_blank">стаття про лямбда-висловлювання в Java</a> у блозі Олександра Косарєва</li>
</ul>
<h3>foreach</h3>У Java 8 з'явився новий foreach, який працює з потоком даних, як і стрим. Ось приклад: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">Integer</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> someList <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">5</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">7</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">9</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

someList<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> (аналог someList.stream().foreach(…)) 
<h3>Method reference</h3>Посилальні методи - це новий корисний синтаксис, створений для посилання на існуючі методи або конструктори Java-класів або об'єктів через :: Посилання на методи бувають чотирьох видів: 
<ol>
 <li>
  <p>Посилання на конструктор:</p>
  <p><code class=" language-none">SomeObject obj = SomeObject::new</code></p></li>
 <li>
  <p>Посилання на статичний метод:</p>
  <p><code class=" language-none">SomeObject::someStaticMethod</code></p></li>
 <li>
  <p>Посилання на нестатичний метод об'єкта певного типу:</p>
  <p><code class=" language-none">SomeObject::someMethod</code></p></li>
 <li>
  <p>Посилання на типовий (нестатичний) спосіб конкретного об'єкта</p>
  <p><code class=" language-none">obj::someMethod</code></p></li>
</ol>Часто посилання на методи використовуються в стримах замість лямбд (посилальні методи швидше за лямбд, але поступаються в читання). 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java">someList<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">stream</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>

        <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">map</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token operator"><span class="token operator">::</span></span><span class="token function"><span class="token function">toUpperCase</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>

      <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token operator"><span class="token operator">::</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Для тих, хто хоче більше інформації за посиланнями: 
<ul>
 <li><a href="https://ru.stackoverflow.com/questions/969552/%d0%9a%d0%b0%d0%ba-%d1%80%d0%b5%d0%b0%d0%bb%d0%b8%d0%b7%d0%be%d0%b2%d0%b0%d0%bd%d1%8b-%d1%81%d1%81%d1%8b%d0%bb%d0%ba%d0%b8-%d0%bd%d0%b0-%d0%bc%d0%b5%d1%82%d0%be%d0%b4%d1%8b-%d0%b2-java-8-%d0%b2%d0%bd%d1%83%d1%82%d1%80%d0%b8-jvm" rel="nofollow" target="_blank">Як реалізовані посилання на методи Java 8 всередині JVM?</a></li>
 <li><a href="https://vertex-academy.com/tutorials/ru/java-8-ssylki-na-metody/" rel="nofollow" target="_blank">Посилання на методи</a></li>
</ul>
<h3>API Time</h3>З'явилася нова бібліотека для роботи з датами та часом – java.time. <img data-max-width="450" alt="З 8 до 13: повний огляд версій Java.  Частина 1 - 2" src="https://cdn.javarush.com/images/article/f7edd5ee-a80c-4c2e-806d-c4b4e0d4f3ba/original.jpeg">Новий API схожий на будь-який Joda-Time. Найбільш значущі розділи цього API: 
<ul>
 <li><span class="text-bold">LocalDate</span> – це конкретна дата, як приклад – 2010-01-09;</li>
 <li><span class="text-bold">LocalTime</span> - час, що враховує часовий пояс - 19:45:55 (аналог LocalDate);</li>
 <li><span class="text-bold">LocalDateTime</span> - комбо LocalDate + LocalTime - 2020-01-04 15:37:47;</li>
 <li><span class="text-bold">ZoneId</span> - представляє часові пояси;</li>
 <li><span class="text-bold">Clock</span> — за допомогою цього типу можна достукатися до поточного часу та дати.</li>
</ul>Ось пара справді цікавих статей на цю тему: 
<ul>
 <li>Java та час: <a href="https://habr.com/ru/post/274811/" rel="nofollow" target="_blank">частина перша</a> та <a href="https://habr.com/ru/post/274905/" rel="nofollow" target="_blank">друга</a> на Хабрі</li>
 <li><a href="https://www.codeflow.site/ru/article/java-8-date-time-intro" rel="nofollow" target="_blank">Введення в API дати/часу в Java 8</a></li>
</ul>
<h3>Optional</h3>Це новий клас у пакеті <span class="text-bold">java.util</span> , обгортка (контейнер) для значень, фішкою якої є те, що вона також може безпечно містити <span class="text-bold">null</span> . Отримання optional: <code class=" language-none">Optional&lt;String&gt; someOptional = Optional.of("Something");</code> Якщо в <span class="text-bold">Optional.of</span> передавати <span class="text-bold">null</span> , у нас впаде наше улюблене <span class="text-bold">NullPointerException</span> . Для таких випадків юзають: <code class=" language-none">Optional&lt;String&gt; someOptional = Optional.ofNullable("Something");</code> - у цьому методі можна не боятися null. Далі, створення спочатку порожнього Optional: <code class=" language-none">Optional&lt;String&gt; someOptional = Optional.empty();</code> Для перевірки, чи він порожній, юзаєм: <code class=" language-none">someOptional.isPresent();</code> поверне нам true або false. Виконати певну дію, якщо значення є, і нічого не робити, якщо значення немає: <code class=" language-none">someOptional.ifPresent(System.out::println);</code> Зворотний метод, який повертає передане значення, якщо Optional порожній (такий собі запасний план): <code class=" language-none">System.out.println(someOptional.orElse("Some default content"));</code> Продовжувати можна дуже і дуже довго (благо, в Optional додали методів як із щедрою руки), все ж таки на цьому зупинятися не будемо. Краще я для затравки пару посилань залишу: 
<ul>
 <li><a href="https://sboychenko.ru/java-optional/" rel="nofollow" target="_blank">Java Optional - батько холіварів</a></li>
 <li><a href="https://habr.com/ru/post/346782/" rel="nofollow" target="_blank">Optional: Кіт Шредінгера в Java 8</a></li>
 <li><a href="https://habr.com/ru/post/225641/" rel="nofollow" target="_blank">Новий клас Optional в Java 8, не панацея від NullPointerException</a></li>
</ul>Ми пробіглися найвідомішими нововведеннями в Java 8 — це далеко не все. Якщо ви хочете знати більше, це я залишив для вас: 
<ul>
 <li>Особливості Java 8: максимальний посібник на CodeGym - <a href="https://codegym.cc/groups/posts/1037-osobennosti-java-8--maksimaljhnoe-rukovodstvo-chastjh-1" target="_blank">частина перша</a> і <a href="https://codegym.cc/groups/posts/1040-osobennosti-java-8--maksimaljhnoe-rukovodstvo-chastjh-2" target="_blank">друга</a> ;</li>
 <li><a href="https://habr.com/ru/post/216431/" rel="nofollow" target="_blank">Нове в Java 8 на Хабрі</a> ;</li>
 <li><a href="http://bazhenov.me/blog/2014/07/20/java-8-top10.html" rel="nofollow" target="_blank">Топ-10 фіч Java 8, про які не говорять</a> ;</li>
 <li><a href="https://howtodoinjava.com/java-8-tutorial/" rel="nofollow" target="_blank">Java 8 Tutorial</a> .</li>
</ul><a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-id="c8cdd918-f911-4ca6-91e9-4fa3499beea3" data-max-width="1080" alt="З 8 до 13: повний огляд версій Java.  Частина 1 - 3" src="https://cdn.javarush.com/images/article/c8cdd918-f911-4ca6-91e9-4fa3499beea3/1080.jpeg" style="width: 1080px;"></a>
<h2>Java 9</h2>Отже, 21 вересня 2017 року світ побачив JDK 9. Ця Java 9 поставляється з багатим набором функцій. Хоча немає нових концепцій мови, нові API та діагностичні команди безперечно будуть цікаві розробникам. <img data-max-width="450" alt="З 8 до 13: повний огляд версій Java.  Частина 1 - 4" src="https://cdn.javarush.com/images/article/5c390dfc-cd62-423c-8ebb-f544debf77f3/original.jpeg">
<h3>JShell (REPL - read-eval-print loop)</h3>Це реалізація Java інтерактивної консолі, яка використовується для тестування функціоналу і використання в консолі різних конструкцій, наприклад інтерфейсів, класів, enum, операторів і т.д. Для запуску <span class="text-bold">JShell</span> потрібно лише написати в терміналі – jshell. Далі можна писати все, що дозволить нам фантазія: <img data-max-width="450" alt="З 8 до 13: повний огляд версій Java.  Частина 1 - 5" src="https://cdn.javarush.com/images/article/333a6536-f196-46c0-a097-be9b0429400c/original.jpeg">За допомогою JShell можна створювати методи верхнього рівня та використовувати їх усередині тієї самої сесії. Методи будуть працювати, як і статичні методи, за винятком того, що ключове слово <em>static</em> можна пропустити Докладніше — у <a href="https://proselyte.net/tutorials/java9/repl-jshell/" rel="nofollow" target="_blank">посібнику з Java 9. REPL (JShell)</a> . 
<h3>Private</h3>Починаючи з 9 версії Java, у нас з'явилася можливість використовувати private методи в інтерфейсах (default і static методи, оскільки інші просто не можемо перевизначити через недостатній доступ). <code class=" language-none">private static void someMethod(){}</code> <code class=" language-none">try-with-resources</code> Було модернізовано можливість обробки винятків Try-With-Resources: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BufferedReader</span></span> reader <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BufferedReader</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">FileReader</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"....."</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token keyword"><span class="token keyword">try</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>reader2<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
<h3>Модульність ( <a href="http://openjdk.java.net/projects/jigsaw/" rel="nofollow" target="_blank">Jigsaw</a> )</h3>Модуль – це група взаємопов'язаних пакетів та ресурсів разом із новим файлом дескриптора модуля. Цей підхід використовується, щоб послабити зв'язаність коду. Ослаблення зв'язку - ключовий фактор для зручності підтримки та розширюваності коду. Модульність реалізується на різних рівнях: 
<ol>
 <li>Мова програмування.</li>
 <li>Віртуальна машина.</li>
 <li>Стандартний java API.</li>
</ol>JDK 9 поставляється з 92 модулями: ми можемо юзати їх чи створити свої. Ось пара посилань для глибшого ознайомлення: 
<ul>
 <li><a href="https://proselyte.net/tutorials/java9/modularity/" rel="nofollow" target="_blank">Посібник з Java 9. Модульність</a> ;</li>
 <li><a href="https://habr.com/ru/company/piter/blog/354532/" rel="nofollow" target="_blank">Модулі Java 9 та використання залежностей: використовуємо Guice</a> .</li>
</ul>
<h3>Immutable Collection</h3>У Java 9 стало можливим створення та заповнення колекції одним рядком, при цьому роблячи її immutable (раніше для створення immutable колекції нам потрібно було створити колекцію, заповнити її даними та виклик методу, наприклад — Collections.unmodifiableList). Приклад такого створення: <code class=" language-none">List someList = List.of("first","second","third");</code>
<h3>Інші нововведення:</h3>
<ul>
 <li>розширено Optional (додані нові методи);</li>
 <li>з'явабося інтерфейси ProcessHandle та ProcessHandle для керування діями операційної системи;</li>
 <li>G1 - дефолтний збирач сміття;</li>
 <li>HTTP клієнт з підтримкою як HTTP/2 протоколу та WebSocket;</li>
 <li>розширений Stream;</li>
 <li>додано фреймворк Reactive Streams API (для реактивного програмування);</li>
</ul>Для більш повного занурення в Java 9 раджу почитати: 
<ul>
 <li><a href="https://habr.com/ru/post/342170/" rel="nofollow" target="_blank">Огляд Java 9</a> на Хабрі</li>
 <li><a href="https://habr.com/ru/company/otus/blog/341058/" rel="nofollow" target="_blank">Java 9. Що нового?</a></li>
 <li><a href="https://www.codeflow.site/ru/article/new-java-9" rel="nofollow" target="_blank">Java 9: ​​нові можливості</a></li>
 <li><a href="https://habr.com/ru/post/350774/" rel="nofollow" target="_blank">Java 9 - Ви вже перейшли? Ні? І не треба ...!?</a></li>
 <li><a href="https://jug.ru/2018/03/sander-mak-on-java-modules/" rel="nofollow" target="_blank">Сандер Мак про перехід до Java-модулів</a></li>
</ul>
<h2>Java 10</h2>Отже, через шість місяців після випуску Java 9 у березні 2018 року (пам'ятаю як учора), на сцену виходить Java 10. <img data-max-width="450" alt="З 8 до 13: повний огляд версій Java.  Частина 1 - 6" src="https://cdn.javarush.com/images/article/6a237fb3-b46a-4862-88b5-17995333c67d/original.jpeg">
<h3>var</h3>Тепер ми можемо не надавати тип даних. Ми позначаємо повідомлення як var, і компілятор визначає тип повідомлення типу ініціалізатора, присутній праворуч. Дана фіча доступна тільки локальних змінних з ініціалізатором: її не можна використовувати для аргументів методів, типів даних, що повертаються і т.д., так як там немає ініціалізатора для можливості визначення типу. Приклад var (для типу String): 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">var</span></span> message <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Some message….."</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>message<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> var не є ключовим словом: по суті, це зарезервоване ім'я типу, як і <em>int</em> . Користь від <em>var</em> велика: оголошення типів забирають на себе багато уваги, не приносячи жодної користі, а ця фіча заощадить час. Але в той же час, якщо змінна виходить з довгого ланцюжка способів, код стає менш читаним, тому що відразу неясно, що за об'єкт там лежить. Присвячується тим, хто хоче ближче познайомитися з цим функціоналом: 
<ul>
 <li><a href="https://www.baeldung.com/java-10-local-variable-type-inference" rel="nofollow" target="_blank">Java 10 LocalVariable Type-Inference</a></li>
 <li><a href="https://habr.com/ru/post/346214/" rel="nofollow" target="_blank">Перший контакт із «var» у Java 10</a></li>
 <li><a href="https://habr.com/ru/post/438206/" rel="nofollow" target="_blank">26 рекомендацій щодо використання типу var в Java</a></li>
</ul><img id="click_banner1_articles" data-max-width="1024" data-id="168c8971-91da-4ffe-b3d8-1723b4a0f47c" class="img-fluid" alt="З 8 до 13: повний огляд версій Java.  Частина 1 - 7" src="https://cdn.javarush.com/images/article/168c8971-91da-4ffe-b3d8-1723b4a0f47c/1024.jpeg" style="width: 1024px;">
<h3>JIT-compiler (GraalVM)</h3>Без зайвих передмов нагадаю: при запуску команди javac програма Java компілюється з Java-коду в байткод JVM, який є бінарним поданням програми. Але звичайний процесор комп'ютера не може просто так виконати байткод JVM. Для роботи вашої програми JVM потрібен ще один компілятор вже для цього байткоду, який перетворюється на машинний код, який процесор вже може використовувати. У порівнянні з javac цей компілятор набагато складніший, але і в результаті видає більш високоякісний машинний код. На даний момент <em>OpenJDK</em> містить віртуальну машину HotSpot, у якої, у свою чергу, є два основні JIT-компілятори. Перший - C1 ( <em>клієнтський компілятор</em>), створений для більш високошвидкісної роботи, але при цьому страждає оптимізація коду. Другий - C2 (серверний компілятор). Страждає швидкість виконання, але при цьому код більш оптимізований. Коли використовується який? С1 відмінно підходить для настільних додатків, де небажані довгі паузи JIT-компілятора, а С2 — для серверних програм, що довго працюють, в яких цілком непогано витратити більше часу на компіляцію. <span class="text-bold">Багаторівнева компіляція</span> - це коли спочатку компіляція проходить за допомогою С1, а результат проходить через С2 (використовується для більшої оптимізації). <span class="text-bold">GraalVM</span>- Це проект, створений для повної заміни HotSpot. Ми можемо розглядати Graal як кілька пов'язаних проектів: новий JIT-компілятор для HotSpot та нову віртуальну машину polyglot. Особливість цього JIT-компілятора полягає в тому, що він написаний на Java. Перевага Graal компілятора – безпека, тобто не збої, а винятки, а не витоку пам'яті. Також ми матимемо хорошу підтримку IDE, і ми зможемо юзати налагоджувачі, профільники або інші зручні інструменти. Крім цього, компілятор цілком може бути незалежним від HotSpot, і він зможе створювати швидшу JIT-скомпільовану версію самого себе. <span class="text-bold">Копачам:</span>
<ul>
 <li><a href="https://www.codeflow.site/ru/article/graal-java-jit-compiler" rel="nofollow" target="_blank">Глибоке занурення у новий JIT-компілятор Java</a></li>
 <li><a href="https://habr.com/ru/company/billing/blog/351682/" rel="nofollow" target="_blank">Graal: як використовувати новий JIT-компілятор JVM у реальному житті</a></li>
 <li><a href="https://habr.com/ru/post/419637/" rel="nofollow" target="_blank">Як працює Graal - JIT-компілятор JVM на Java</a></li>
</ul>
<h3>Паралельний G1</h3>Складальник сміття G1 звичайно крутий, суперечки немає, але є і слабке місце: він виконує однопоточний повний цикл GC. У той час, коли вам потрібна вся потужність обладнання, яке ви можете зібрати для пошуку об'єктів, що не використовуються, ми обмежуємося одним потоком. У Java 10 це виправабо. Тепер GC тепер працює з усіма ресурсами, які ми до нього додаємо (тобто стає багатопотоковим). Для цього розробники мови покращабо ізоляцію основних вихідних джерел від GC, створивши для GC хороший чистий інтерфейс. Розробникам цієї милоты — OpenJDK, довелося безпосередньо розгребти звалище в коді, щоб максимально спростити створення нових GC, а й дати можливість швидко відключати непотрібні GC зі складання. Один із основних критеріїв успіху — відсутність просідання за швидкістю роботи після всіх цих поліпшень. <span class="text-bold">Дивимося ще:</span>
<ul>
 <li><a href="https://www.codeflow.site/ru/article/java-10-performance-improvements" rel="nofollow" target="_blank">Поліпшення продуктивності Java 10</a></li>
 <li><a href="https://www.javaspecialists.eu/archive/Issue256.html" rel="nofollow" target="_blank">Java 10: Parallel Full GC in G1GC</a></li>
</ul><span class="text-bold">Інші нововведення:</span>
<ol>
 <li>Вводиться чистий інтерфейс збирача сміття (Garbage-Collector Interface). Завдяки цьому покращується ізоляція вихідного коду від різних збирачів сміття, даючи можливість інтегрувати альтернативні збирачі швидко та «безболісно»;</li>
 <li>Поєднання вихідників JDK в один репозиторій;</li>
 <li>Колекції отримали новий метод - <em>copyOf (Collection)</em> , який повертає постійну копію цієї колекції;</li>
 <li><em>Optional</em> (і його різновиди) отримав новий метод <em>.orElseThrow()</em> ;</li>
 <li>Відтепер JVM знають про те, що вони запускаються в контейнері Docker, і витягуватимуть специфічну для контейнера конфігурацію, а не вимагатимуть саму операційну систему.</li>
</ol>Ось ще кілька матеріалів для детальнішого ознайомлення з Java 10: 
<ul>
 <li><a href="https://www.baeldung.com/java-10-overview" rel="nofollow" target="_blank">Guide to Java 10</a></li>
 <li><a href="https://javarevisited.blogspot.com/2018/03/java-10-released-10-new-features-java.html" rel="nofollow" target="_blank">10 JDK 10 нюансів Java developers should know</a></li>
 <li>Що нового в Java 10: <a href="https://blog.gypsyengineer.com/ru/tech-ru/what-is-new-in-java-10-ru.html" rel="nofollow" target="_blank">частина перша</a> та <a href="https://blog.gypsyengineer.com/ru/tech-ru/what-is-new-in-java-10-part-two.html" rel="nofollow" target="_blank">друга</a></li>
</ul>Раніше мене дуже плутало те, що деякі версії Java називалися 1.x. хотілося б зробити певну ясність: версії Java до 9 просто мали іншу схему іменування. Наприклад, Java 8 також можуть називати <em>1.8</em> , Java 5 - <em>1.5</em> і т. д. А зараз ми бачимо, що з переходом на випуски з Java 9 схема назв також змінилася, і версії Java більше не мають префіксу 1.x. Ось і кінець першої частини: ми пройшлися новими цікавими фічами java 8-10. Давайте продовжимо наше знайомство з найсвіжішим у <a href="https://codegym.cc/groups/posts/2549-iz-8-v-13-polnihy-obzor-versiy-java-chastjh-2" target="_blank">наступному пості</a> .