BigDecimal у Java
<p>----------------------------------------</p>
Вітання! На сьогоднішній лекції ми поговоримо про великі числа. Ні, про ДІЙСНО ВЕЛИКИХ. ми неодноразово зустрічали таблицю діапазонів значень для примітивних типів даних. Виглядає вона так: Якщо ми говоримо про цілі числа, найбільш містким 
<p>----------------------------------------</p>
Вітання! На сьогоднішній лекції ми поговоримо про великі числа. Ні, про ДІЙСНО ВЕЛИКИХ. <a href="https://codegym.cc/groups/posts/1945-rasshirenie-i-suzhenie-primitivnihkh-tipov" target="_blank">Раніше</a> ми неодноразово зустрічали таблицю діапазонів значень для примітивних типів даних. Виглядає вона так: 
<div class="table-container">
 <table>
  <thead>
   <tr>
    <th>Примітивний тип</th>
    <th>Розмір у пам'яті</th>
    <th>Діапазон значень</th>
   </tr>
  </thead>
  <tbody>
   <tr>
    <td>byte</td>
    <td>8 біт</td>
    <td>від -128 до 127</td>
   </tr>
   <tr>
    <td>short</td>
    <td>16 біт</td>
    <td>до -32768 до 32767</td>
   </tr>
   <tr>
    <td>char</td>
    <td>16 біт</td>
    <td>від 0 до 65536</td>
   </tr>
   <tr>
    <td>int</td>
    <td>32 біта</td>
    <td>від -2147483648 до 2147483647</td>
   </tr>
   <tr>
    <td>long</td>
    <td>64 біта</td>
    <td>від -9223372036854775808 до 9223372036854775807</td>
   </tr>
   <tr>
    <td>float</td>
    <td>32 біта</td>
    <td>від (2 у ступені -149) до ((2-2 у ступені -23)*2 у ступені 127)</td>
   </tr>
   <tr>
    <td>double</td>
    <td>64 біта</td>
    <td>від (-2 у ступені 63) до ((2 у ступені 63) - 1)</td>
   </tr>
   <tr>
    <td>boolean</td>
    <td>8 (при використанні в масивах), 32 (при використанні не в масивах)</td>
    <td>true або false</td>
   </tr>
  </tbody>
 </table>
</div>Якщо ми говоримо про цілі числа, найбільш містким типом даних є <span class="code">long</span> , а якщо йдеться про числа з плаваючою точкою - <span class="code">double</span> . Але що якщо потрібне нам число настільки велике, що не влазить навіть у <span class="code">long</span> ? Діапазон можливих значень Long досить великий, але обмежений певним розміром — 64 біта. Що нам придумати, якщо наше дуже велике число важить 100 біт? На щастя, нічого вигадувати не треба. У Java для таких випадків було створено два спеціальні класи — <span class="code">BigInteger</span> (для цілих чисел) та <span class="code">BigDecimal</span>(Для чисел з плаваючою точкою). У чому полягає їх особливість? Насамперед у тому, у них теоретично немає максимального розміру. Теоретично, тому що не буває комп'ютерів із нескінченним розміром пам'яті. І якщо ти створюєш у програмі число розміром більше розміру пам'яті комп'ютера, звичайно, програма працювати не буде. Але такі випадки малоймовірні. Тому можна сказати, що розмір чисел <code class=" language-none">BigInteger</code>практично <code class=" language-none">BigDecimal</code>нічим не обмежений. Навіщо використовуються ці класи? Насамперед для обчислень з вкрай високими вимогами до точності. Є, наприклад, програми, у яких від точності обчислень може залежати людське життя (ПЗ для літаків і ракет або медичного устаткування). Тому якщо навіть 150-й розряд після коми відіграє важливу роль,<code class=" language-none">BigDecimal</code>- кращий вибір. Крім того, досить часто ці об'єкти застосовуються у світі фінансів, де точність обчислень аж до найменших значень теж є вкрай важливою. <strong>Як працювати з об'єктами <code class=" language-none">BigInteger</code>та <code class=" language-none">BigDecimal</code>що важливо про них пам'ятати? </strong> Об'єкти цих класів створюються так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">BigInteger</span></span> integer <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>integer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">BigDecimal</span></span> decimal <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"123.444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>decimal<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Передача рядка як параметр — лише один із можливих конструкторів. Тут ми використовуємо рядки, тому що наші числа перевищують максимальні значення <code class=" language-none">long</code>і <code class=" language-none">double</code>, а якось треба пояснити компілятору, яке саме число ми хочемо отримати :) Просто передати в конструктор число <span class="text-green">111111111111111111111111111111111111111111111111111111111111111111111111111111111</span> не вийде: Java спробує «вмістити» передане число в один із примітивних типів даних, але в жодне з них воно не влізе. Тому використання рядка передачі потрібного числа — хороший варіант. Обидва класи можуть автоматично витягувати з переданих рядків числові значення. Ще один важливий момент, який необхідно пам'ятати при роботі з класами великих чисел - <strong>їх об'єкти є незмінними ( <code class=" language-none">Immutable</code>)</strong> . З принципом незмінності ти вже добре знайомий на прикладі класу <code class=" language-none">String</code>та класів-оберток для примітивів (Integer, Long та іншими). 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>math<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">BigInteger</span></span> integer <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>integer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       integer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">valueOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">33333333</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>integer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Виведення в консоль:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111</code></pre> Наше число не змінилося, як і слід очікувати. Щоб операція додавання пройшла успішно, необхідно створити новий об'єкт і присвоїти йому результат додавання. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>math<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">BigInteger</span></span> integer <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>integer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">BigInteger</span></span> result <span class="token operator"><span class="token operator">=</span></span> integer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">valueOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">33333333</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>result<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Виведення в консоль:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111144444444</code></pre> Ось тепер все працює як треба :) До речі, звернув увагу, як незвичайно виглядає операція складання? 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> result <span class="token operator"><span class="token operator">=</span></span> integer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">valueOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">33333333</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Це ще один важливий момент. <strong>Класи великих чисел не використовують у своїй роботі оператори +-*/, а надають натомість набір методів. </strong> Давай ознайомимося з основними (повний перелік методів ти, як і завжди, можеш знайти в документації Oracle: <a href="https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html" rel="nofollow" target="_blank">тут</a> і <a href="https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html" rel="nofollow" target="_blank">тут</a> ). 
<ol>
 <li>
  <p><strong>Методи здійснення арифметичних операцій:</strong> <code class=" language-none">add()</code> , <code class=" language-none">subtract()</code>, <code class=" language-none">multiply()</code>, <code class=" language-none">divide()</code>. Використовуються для операцій складання, віднімання, множення та поділу відповідно.</p></li>
 <li>
  <p><code class=" language-none"><strong>doubleValue()</strong></code>, <code class=" language-none"><strong>intValue()</strong></code>, <code class=" language-none"><strong>floatValue()</strong></code>, <code class=" language-none"><strong>longValue()</strong></code>і т.д. використовуються для перетворення великого числа до примітивного типу Java. Будь обережний при їх використанні та не забувай про різницю у місткості!</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>math<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">BigInteger</span></span> integer <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token keyword"><span class="token keyword">long</span></span> result <span class="token operator"><span class="token operator">=</span></span> integer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">longValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>result<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p><strong>Виведення в консоль:</strong></p>
  <pre class=" language-none" tabindex="0"><code class=" language-none">
8198552921648689607</code></pre></li>
 <li>
  <p><code class=" language-none"><strong>min()</strong></code>і – дозволяють знайти мінімальне та максимальне значення з двох переданих великих чисел. Зверни увагу: методи не статичні!<code class=" language-none"><strong>max()</strong></code><br></p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>math<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">BigInteger</span></span> integer <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">BigInteger</span></span> integer2 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>integer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">max</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>integer2<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p><strong>Виведення в консоль:</strong></p>
  <pre class=" language-none" tabindex="0"><code class=" language-none">
222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222</code></pre></li>
</ol>
<h2>Управління округленням BigDecimal</h2>Ця тема винесена в окремий розділ, оскільки округлення великих чисел та його налаштування — річ не така проста. Ти можеш встановити кількість цифр після коми для числа <code class=" language-none">BigDecimal</code>за допомогою методу <code class=" language-none"><strong>setScale()</strong></code>. Наприклад, ми хочемо встановити для числа <span class="text-green">111.5555555555</span> точність три цифри після коми. Однак ми не зможемо передати число 3 як аргумент у метод <code class=" language-none">setScale()</code>і таким чином вирішити наше завдання. Як було сказано вище, <code class=" language-none">BigDecimal</code>це числа для обчислень з підвищеною точністю. У поточному вигляді наше число має 10 цифр після коми. Ми хочемо відкинути 7 їх і залишити лише 3. Тому крім числа 3 ми маємо передати як параметр режим округлення ( <strong>rounding mode</strong> ). <strong>Всього у<code class=" language-none">BigDecimal</code>Існує 8 режимів округлення. </strong>Чимало! Але якщо тобі в програмі знадобиться справді тонке настроювання точності обчислень, тобі буде для цього все необхідне. Отже, ось які 8 режимів округлення є в <code class=" language-none">BigDecimal</code>: 
<ol>
 <li>
  <p><code class=" language-none"><strong>ROUND_CEILING</strong></code>- Округлення у велику сторону</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token number"><span class="token number">111.5555555555</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_CEILING<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">111.556</span></span></code></pre></li>
 <li>
  <p><code class=" language-none"><strong>ROUND_DOWN</strong></code>- відкидання розряду</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token number"><span class="token number">111.5555555555</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_DOWN<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">111.555</span></span></code></pre></li>
 <li>
  <p><code class=" language-none"><strong>ROUND_FLOOR</strong></code>- Округлення в менший бік</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token number"><span class="token number">111.5555555555</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_FLOOR<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">111.555</span></span></code></pre>
  <p></p></li>
 <li>
  <p><code class=" language-none"><strong>ROUND_HALF_UP</strong></code>— заокруглення у велику сторону, якщо число після коми &gt;= .5</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token number"><span class="token number">0.55</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_HALF_UP<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">0.6</span></span>
<span class="token number"><span class="token number">0.54</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_HALF_UP<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">0.5</span></span></code></pre></li>
 <li>
  <p><code class=" language-none"><strong>ROUND_HALF_DOWN</strong></code>— округлення у велику сторону, якщо число після коми &gt; .5</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token number"><span class="token number">0.55</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_HALF_DOWN<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">0.5</span></span>
<span class="token number"><span class="token number">0.56</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_HALF_DOWN<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">0.6</span></span></code></pre></li>
 <li>
  <p><code class=" language-none"><strong>ROUND_HALF_EVEN</strong></code>- Заокруглення залежатиме від цифри зліва від коми. Якщо цифра зліва буде парною, то округлення буде зроблено вниз, у бік. Якщо цифра ліворуч від коми непарна, то округлення буде зроблено вгору.</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token number"><span class="token number">2.5</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_HALF_EVEN<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">2</span></span></code></pre>
  <p>Цифра зліва від коми – 2 – парна. Округлення відбувається вниз. Оскільки нам потрібно 0 знаків після коми, результатом буде 2.</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token number"><span class="token number">3.5</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_HALF_EVEN<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">4</span></span></code></pre>
  <p>Цифра зліва від коми – 3 – непарна. Округлення відбувається вгору. Оскільки нам потрібно 0 знаків після коми, результатом буде 4.</p></li>
 <li>
  <p><code class=" language-none"><strong>ROUND_UNNECCESSARY</strong></code>— використовується в тих випадках, коли якийсь метод потрібно передати режим округлення, але число округлення не потребує. Якщо спробувати зробити округлення числа при виставленому режимі ROUND_UNNECCESSARY — викинутий виняток ArithmeticException.</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token number"><span class="token number">3.51</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_UNNECCESSARY<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token class-name"><span class="token class-name">ArithmeticException</span></span></code></pre></li>
 <li>
  <p><code class=" language-none"><strong>ROUND_UP</strong></code>- Округлення у велику сторону.</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token number"><span class="token number">111.5551</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> ROUND_UP<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token number"><span class="token number">111.556</span></span></code></pre></li>
</ol>
<h2>Порівняння великих чисел</h2>Це питання також важливе. Ти вже пам'ятаєш, що для порівняння об'єктів Java використовується метод <code class=" language-none"><strong>equals()</strong></code>. Він або надається самою мовою (у разі вбудованих Java класів), або перевизначається програмістом. Але у випадку з об'єктами класів <code class=" language-none">BigDecimal</code>використовувати метод <code class=" language-none">equals()</code>порівняння не рекомендується. Причина цього в тому, що метод <code class=" language-none"><strong>BigDecimal.equals()</strong></code>двох чисел повертає <em>true</em> тільки у випадку, якщо <strong>2 числа мають однакове значення та масштаб (scale)</strong> : Давай порівняємо поведінку методів <code class=" language-none">equals()</code>у <code class=" language-none">Double</code>і <code class=" language-none">BigDecimal</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>math<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">Double</span></span> a <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">1.5</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">Double</span></span> b <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">1.50</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>b<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">BigDecimal</span></span> x <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"1.5"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">BigDecimal</span></span> y <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"1.50"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>y<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Виведення в консоль:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
true
false</code></pre> Як бачиш, числа 1.5 і 1.50 у випадку <code class=" language-none">BigDecimal</code>виявабося нерівними! Це сталося саме через специфіку роботи методу <code class=" language-none">equals()</code>, в класі <code class=" language-none">BigDecimal</code>. Для більш коректного порівняння двох <code class=" language-none">BigDecimal</code>краще використовувати метод <code class=" language-none">compareTo()</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>math<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">BigDecimal</span></span> x <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"1.5"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token class-name"><span class="token class-name">BigDecimal</span></span> y <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"1.50"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">compareTo</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>y<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Виведення в консоль:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
0</code></pre> Метод <code class=" language-none">compareTo()</code>повернув 0, що означає рівність 1.5 та 1.50. Це той результат, на який ми розраховували! :) На цьому наше сьогоднішнє заняття закінчено. Саме час повернутися до завдань! :)