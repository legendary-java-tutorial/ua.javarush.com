BigInteger та BigDecimal
<p>----------------------------------------</p>
У мові Java додаток складається з класів, а класи - з методів та змінних. Змінні, своєю чергою, діляться на примітивні та посилальні. У Java є 8 видів змінних і, якщо не рахувати і , вони поділяються на такі типи: Усередині цих невеликих гр
<p>----------------------------------------</p>
У мові Java додаток складається з класів, а класи - з методів та змінних. Змінні, своєю чергою, діляться на примітивні та посилальні. <img data-max-width="800" data-id="d8cc0760-5a1a-42d0-a712-732d45d0409c" class="img-fluid" alt="BigInteger та BigDecimal - 1" src="https://cdn.javarush.com/images/article/d8cc0760-5a1a-42d0-a712-732d45d0409c/800.jpeg" style="width: 800px;">У Java є 8 видів змінних і, якщо не рахувати <code class=" language-none">boolean</code>і <code class=" language-none">char</code>, вони поділяються на такі типи: 
<ul>
 <li>цілі: <code class=" language-none">byte</code>, <code class=" language-none">short</code>, <code class=" language-none">int</code>і <code class=" language-none">long</code>;</li>
 <li>з плаваючою точкою (також називають речовими числами): <code class=" language-none">float</code>і <code class=" language-none">double</code>​​.</li>
</ul>Усередині цих невеликих груп відмінності існують тільки в діапазоні значень, що вміщаються (і відповідно, різниться займане місце такої змінної). Найбільший з цілих типів — <code class=" language-none">long</code>, з діапазоном від -9223372036854775808 до 9223372036854775807. З чисел з плаваючою точкою — <code class=" language-none">double</code>, з діапазоном від 1.7e-308 до 1.7e+308. Докладніше про речові числа можна почитати в <a href="https://codegym.cc/groups/posts/2136-ustroystvo-vejshestvennihkh-chisel" target="_blank">цій статті</a> . Але якщо нам знадобиться зберігати числа, які перевищують допустимий діапазон? У такому разі нам знадобляться <code class=" language-none">BigInteger</code>і <code class=" language-none">BigDecimal</code>. 
<h2>BigInteger в Java</h2>Клас Java <code class=" language-none">BigInteger</code>використовується як аналог цілісних значень довільної довжини, який не має обмеження в 64 бітів, як наприклад у long. При цьому він нащадок класу <code class=" language-none">Number</code>, як і стандартні обгортки для числових простих типів - <code class=" language-none">Integer</code>, <code class=" language-none">Long</code>, <code class=" language-none">Byte</code>, <code class=" language-none">Double</code>і так далі - тому має реалізації методів, що призводять до простих типів: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"32145"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">int</span></span> intValue <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">intValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//32145</span></span>

<span class="token keyword"><span class="token keyword">long</span></span> longValue <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">longValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//32145</span></span>

<span class="token keyword"><span class="token keyword">double</span></span> doubleValue <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">doubleValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//32145.0</span></span></code></pre> Тут ми бачимо створення такого об'єкта <code class=" language-none">BigInteger</code>з передачею в конструктор нашого значення, але у форматі рядка. Конструктор у нього не один, а на всі випадки життя. Якщо прості типи не містять повний обсяг даних з <code class=" language-none">BigInteger</code>, дані будуть урізані до діапазону цього примітивного типу. Але при цьому є аналоги цих методів ( <code class=" language-none">intValueExact()</code>, <code class=" language-none">longValueExact()</code>і т. д.), з тією лише різницею, що якщо простий тип, в який йде перетворення, не містить діапазон даних, викидається <a href="https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/ArithmeticException.html" rel="nofollow" target="_blank">ArithmeticException</a> . 
<h3>Константи BigInteger</h3>Для внутрішнього користування клас має константи: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ZERO
<span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ONE
<span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>TEN</code></pre> Це константні об'єкти <code class=" language-none">BigInteger</code>зі значеннями, відповідно, <code class=" language-none">0</code>, <code class=" language-none">1</code>і <code class=" language-none">10</code>. 
<h3>Методи BigInteger</h3>Однією з головних особливостей цього класу є повний методів, що реалізують стандартні арифметичні операції на Java. Наприклад: 
<ul>
 <li>
  <p>операції підсумовування:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"37995"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"35466"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> resultValue <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>secondValue<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//73461</span></span></code></pre></li>
 <li>
  <p>операції множення:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"37995"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"35466"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> resultValue <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">multiply</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>secondValue<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//1347530670</span></span></code></pre></li>
 <li>
  <p>операції знаходження залишку при розподілі одного числа на інше:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"37995"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"35466"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> resultValue <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">remainder</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>secondValue<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2529</span></span></code></pre></li>
 <li>
  <p>отримання абсолютного значення числа (тобто за модулем, без знака):</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"-37995"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> resultValue <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">abs</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//37995</span></span></code></pre></li>
</ul>Також є методи для більш складних (специфічних) операцій: 
<ul>
 <li>
  <p>операції з обчисленням <a href="https://habr.com/ru/post/421071/" rel="nofollow" target="_blank">mod</a> :</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"-34"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"5"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> resultValue <span class="token operator"><span class="token operator">=</span></span> firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">mod</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>secondValue<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">//1</span></span></code></pre></li>
</ul>Існують кілька різних варіацій цієї функції: 
<ul>
 <li>
  <p>отримання рандомного числа із завданням кількості бітів, яке використовуватиме отримане значення:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">probablePrime</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">8</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Random</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//211</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">probablePrime</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">16</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Random</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//42571</span></span></code></pre></li>
 <li>
  <p>операції побітових зрушень(this &gt;&gt; n)</p>
  <p>Зрушення вліво:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"5"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> firstResultValue <span class="token operator"><span class="token operator">=</span></span> firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">shiftLeft</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//40</span></span></code></pre>
  <p>Зсув праворуч:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigInteger</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"34"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigInteger</span></span> secondResultValue <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">shiftRight</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">//8</span></span></code></pre></li>
</ul>Звичайно ж, повний перелік методів краще подивитися у <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigInteger.html" rel="nofollow" target="_blank">документації</a> . <img data-max-width="800" data-id="bbea36bc-0673-45d3-875b-a44c1f8d61d7" class="img-fluid" alt="BigInteger та BigDecimal - 2" src="https://cdn.javarush.com/images/article/bbea36bc-0673-45d3-875b-a44c1f8d61d7/800.jpeg" style="width: 800px;">
<h2>BigDecimal у Java</h2>Коли нам потрібне дійсне число довільної довжини, використовується клас Java - <code class=" language-none">BigDecimal</code>. Як правило його застосовують для роботи з фінансами замість <code class=" language-none">double</code>того, що він дає більше можливості налаштування. Як і <code class=" language-none">BigInteger</code>є <code class=" language-none">BigDecimal</code>нащадком класу <code class=" language-none">Number</code>і має методи, що повертають значення об'єкта у вигляді певного примітивного типу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">35563.3</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">long</span></span> longValue <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">longValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//35563</span></span>

<span class="token keyword"><span class="token keyword">double</span></span> doubleValue <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">doubleValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//35563.3</span></span></code></pre> Як ми можемо бачити при наведенні до <code class=" language-none">long</code>, залишається лише ціла частина, а знаки після коми відкидаються. 
<h3>Конструктори BigDecimal</h3>З конструкторами <code class=" language-none">BigDecimal</code>ми ознайомимося докладніше, оскільки клас має їх набагато ширший вибір. Є конструктори, дозволяють задати значення об'єкта різними способами (передачею <code class=" language-none">int</code>, <code class=" language-none">long</code>, <code class=" language-none">double</code>, <code class=" language-none">String</code>і навіть <code class=" language-none">BigInteger</code>), а є такі, які дозволяю. задавати налаштування створюваного об'єкта (способи округлення, кількість знаків після коми): 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"455656.545"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//455656.545</span></span></code></pre> Тут все зрозуміло, ми безпосередньо задали значення та кількість знаків після коми, які хочемо бачити. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3445.54</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//3445.5399999999999636202119290828704833984375</span></span></code></pre> Результати цього конструктора можуть бути непередбачуваними, адже ми задаємо double, який за своєю природою дуже неоднозначний тип. Тому зазвичай рекомендується використовувати у конструкторі <code class=" language-none">String</code>. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> thirdValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3445.554645675444</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">MathContext</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>DECIMAL32<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//3445.555</span></span></code></pre> Ми задаємо <code class=" language-none">double</code>, але при цьому і задаємо параметр, який описує правило округлення (який містить кількість знаків після коми та алгоритм для округлення). 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">char</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arr <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"455656.545"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toCharArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token class-name"><span class="token class-name">BigDecimal</span></span> fourthValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arr<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">6</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//5656.5</span></span></code></pre> Задаємо масив знаків, з якого елемента беремо значення об'єкта і скільки цих елементів беремо. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> fifthValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigInteger</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"44554"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//44.554</span></span></code></pre> Беремо вже існуючий об'єкт <code class=" language-none">BigInteger</code>, задаємо якусь кількість знаків після коми. 
<h3>Методи BigDecimal</h3>Клас <code class=" language-none">BigDecimal</code>також містить у собі методи для різноманітних арифметичних операцій, але методів роботи з бітами, як у <code class=" language-none">BigInteger</code>, у нього немає. Проте головна фішка <code class=" language-none">BigDecimal</code>— гнучкість у роботі з числами з плаваючою комою. Давайте розглянемо деякі методи, які дають нам можливість панувати над речовими числами: 
<ul>
 <li>
  <p>отримуємо точність (кількість чисел):</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"454334.34334"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">int</span></span> result <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">precision</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//11</span></span></code></pre></li>
 <li>
  <p>задаємо кількість знаків після коми та правило округлення:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3445.544445</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_CEILING<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//3445.545</span></span></code></pre>
  <p>Дещо нижче ми розглянемо докладніше константи для завдання правил округлення.</p></li>
 <li>
  <p>ділимо <code class=" language-none">BigDecimal</code>на інший <code class=" language-none">BigDecimal</code>, при цьому вказуючи необхідну кількість знаків після коми і правило округлення:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"455656.545"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3445.544445</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token class-name"><span class="token class-name">BigDecimal</span></span> result <span class="token operator"><span class="token operator">=</span></span> firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">divide</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>secondValue<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token class-name"><span class="token class-name">RoundingMode</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>DOWN<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//132.24</span></span></code></pre></li>
 <li>
  <p>переміщення комою вправо/ліворуч на певну кількість знаків:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"455656.545"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span>movePointRight <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//45565654.5</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span>movePointLeft <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//4556.56545</span></span></code></pre></li>
 <li>
  <p>обрізаємо кінцеві нулі:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"45056.5000"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> result <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">stripTrailingZeros</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//45056.5</span></span></code></pre>
  <p>Якщо ж у нас у речовій частині всі нулі і в цілій теж є (або у нас зовсім немає знаків після коми), тоді:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"450000.000"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> result <span class="token operator"><span class="token operator">=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">stripTrailingZeros</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//4.5E+5</span></span></code></pre></li>
</ul><a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="6cb9276b-8cab-483c-9ac9-7425ddadd983" class="img-fluid" alt="BigInteger та BigDecimal - 3" src="https://cdn.javarush.com/images/article/6cb9276b-8cab-483c-9ac9-7425ddadd983/1024.jpeg" style="width: 1024px;"></a>
<h3>Правила округлення BigDecimal</h3>Для завдання правил округлення, всередині <code class=" language-none">BigDecimal</code>ми можемо побачити спеціальні константи, що описують алгоритми округлення: <code class=" language-none">ROUND_UP</code>- Заокруглення від нуля, округлення в бік речовинної частини: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_UP <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.6</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"-2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_UP <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//-2.5</span></span></code></pre><code class=" language-none">ROUND_DOWN</code>- Округлення до нуля, тобто усічення речовинної частини: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_DOWN  <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.5</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"-2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_DOWN  <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//-2.6</span></span></code></pre><code class=" language-none">ROUND_CEILING</code>- Округлення до позитивної нескінченності. Тобто якщо число у нас позитивне, то -&gt; <code class=" language-none">ROUND_UP</code>, якщо негативне, то -&gt;<code class=" language-none">ROUND_DOWN</code>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_CEILING<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.6</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"-2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_CEILING<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//-2.5</span></span></code></pre><code class=" language-none">ROUND_FLOOR</code>- Округлення до негативної нескінченності, тобто якщо число у нас позитивне, то -&gt; <code class=" language-none">ROUND_DOWN</code>, якщо негативне, то -&gt;<code class=" language-none">ROUND_UP</code>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_FLOOR<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.5</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"-2.578"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_FLOOR<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//-2.6</span></span></code></pre> Для значення, що розглядається, це найближче число з урізаним знаком після коми будемо розглядати як найближчого сусіда розглянутого числа. Наприклад, 2.43 буде ближче до 2.4, ніж до 2.5, але 2.48 буде ближче до 2.5. <code class=" language-none">ROUND_HALF_DOWN</code>- Округлення до «найближчого сусіда». Якщо обидва сусіди рівновіддалені від конкретного значення, проводиться округлення до нуля. Рівновіддалені - це, наприклад, коли округлюване число - 5, і воно знаходиться на однаковій відстані від 0 і 10): 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.58"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_HALF_DOWN <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.6</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.55"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_HALF_DOWN <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.5</span></span></code></pre><code class=" language-none">ROUND_HALF_UP</code>— режим округлення у бік «найближчого сусіда». Якщо обидва сусіди рівновіддалені, округлення виконується до більшого числа (це саме округлення, якому нас навчали в школі): 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.53"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_HALF_UP  <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.5</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.55"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_HALF_UP  <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.6</span></span></code></pre><code class=" language-none">ROUND_HALF_EVEN</code>— округлення до «найближчого сусіда», якщо обидва сусіди не віддалені. У разі якщо перед округленим числом стоїть непарне, виконується округлення у більшу сторону, якщо парне — меншу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2222.2225"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_HALF_EVEN <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2222.222</span></span></code></pre> Такий результат ми отримуємо, тому що при округленні 5 дивиться на попереднє число 2, і бачачи, що воно парне округлення йде меншу сторону. Але якщо: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2222.22255"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_HALF_EVEN <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2222.223</span></span></code></pre> Те округлення йде у бік, оскільки остання 5 дивиться на попереднє значення і бачить непарне число. Як наслідок, число округляється у велику сторону до 6, після чого наступна 6 теж йде на заокруглення. Але шістка вже не дивиться на число зліва, оскільки число явно ближче у велику сторону, і в результаті остання 2 збільшується на 1. <code class=" language-none">ROUND_UNNECESSARY</code>- використовується для перевірки, що число округлення не потребує. Тобто, ми перевіряємо, що число має потрібну нам кількість знаків після коми: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.55"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span>  firstValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_UNNECESSARY<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.55</span></span></code></pre> Тут все добре, значення має два знаки і ми перевіряємо, що після коми лише два знаки. Але якщо: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.55"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> secondValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_UNNECESSARY<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Ми отримаємо — <code class=" language-none">ArithmeticException</code>, оскільки перевірене значення перевищує задану кількість знаків після коми. Але якщо ми перевірятимемо два знаки після коми, а за фактом там є один, то виняток не випаде, а знаки, що бракують, просто доповнюються нулями: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">BigDecimal</span></span> thirdValue <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"2.5"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">BigDecimal</span></span> thirdResult <span class="token operator"><span class="token operator">=</span></span> thirdValue<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setScale</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">BigDecimal</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>ROUND_UNNECESSARY   <span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span><span class="token comment"><span class="token comment">//2.500</span></span></code></pre> Ще хотілося б відзначити що <code class=" language-none">BigDecimal</code>є константи, аналогічні константам <code class=" language-none">BigInteger ZERO</code>, <code class=" language-none">ONE</code>і <code class=" language-none">TEN</code>. Ось посилання на <a href="https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html#ROUND_CEILING" rel="nofollow" target="_blank">документацію</a> . І насамкінець: як ви, напевно, помітабо, виконуючи операції з об'єктами <code class=" language-none">BigInteger</code>і <code class=" language-none">BigDecimal</code>ми не змінюємо старі, а завжди отримуємо нові. Це нам говорить про те, що вони — <code class=" language-none">immutable</code>тобто незмінні після їх створення, як і <code class=" language-none">String</code>. Інакше кажучи, всі їх методи що неспроможні змінити внутрішній стан об'єкта, максимум — повернути новий об'єкт із параметрами, заданими використовуваної нами функцією.