Округлення чисел у Java
<p>----------------------------------------</p>
Числа з плаваючою точкою (float, double) застосовуються при обчисленні виразів, які потребують точності до десяткового знака. Висока точність часто потрібна у бухгалтерських та інших обчислювальних операціях. Але чи завжди нам потрібний дов
<p>----------------------------------------</p>
Числа з плаваючою точкою (float, double) застосовуються при обчисленні виразів, які потребують точності до десяткового знака. Висока точність часто потрібна у бухгалтерських та інших обчислювальних операціях. <img data-max-width="800" data-id="1dfeffa5-d995-4370-8015-6431e4f884f1" class="img-fluid" alt="Округлення чисел у Java - 1" src="https://cdn.javarush.com/images/article/1dfeffa5-d995-4370-8015-6431e4f884f1/800.jpeg" style="width: 800px;">Але чи завжди нам потрібний довгий "хвіст" чисел після коми? Чи може нам достатньо точності в три знаки речової частини? І чи є нас такий варіант влаштовує, як правильно виконати округлення? Саме про це ми сьогодні і поговоримо: розглянемо <span class="text-bold">способи округлення чисел у Java</span> . 
<h2>String format</h2>Як перший спосіб ми розглянемо округлення double: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.766674</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%.3f"</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//  34,767</span></code></pre> В результаті ми відформатуємо наше число з плаваючою комою 34766674 з точністю до <span class="text-bold">3 десяткових розрядів</span> , тому що в інструкції для форматування ми вказали три знаки після коми "%.3f. У свою чергу %f при форматуванні рядка позначає тип чисел з плаваючою комою, яке включає тип даних <span class="text-bold">double</span> і <span class="text-bold">float</span> в Java.У прикладі вище ми виводабо отримане значення в консоль.Тепер питання: як би можна було це скоротити?Все просто: потрібно використовувати printf, який у свою чергу є format + print. приклад у нас скоротився б до: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.766674</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%.3f"</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> У екземпляра out класу <a href="https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html" rel="nofollow" target="_blank">PrintStream</a> крім цього є ще метод format, який працює аналогічно: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.766674</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%.3f"</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> Округлення відбувається за режимом <span class="text-bold">HALF_UP</span> — у бік числа, яке ближче до обрізаного (до 0 або 10). Якщо ці числа рівновіддалені (у разі 5), то округлення виконується у велику сторону. Приклад: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token class-name">String</span> firstResult <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%.3f"</span><span class="token punctuation">,</span><span class="token number">7.0004</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 7,000</span>
<span class="token class-name">String</span> secondResult <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%.3f"</span><span class="token punctuation">,</span><span class="token number">7.0005</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 7,001</span>
<span class="token class-name">String</span> thirdResult <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%.3f"</span><span class="token punctuation">,</span><span class="token number">7.0006</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 7,001</span></code></pre> Детальніше режими округлення ми розберемо трохи нижче. <img data-max-width="512" data-id="48ce1c96-a2eb-4e82-8de0-ed0d942248e8" class="img-fluid" alt="Округлення чисел у Java - 2" src="https://cdn.javarush.com/images/article/48ce1c96-a2eb-4e82-8de0-ed0d942248e8/512.jpeg" style="width: 512px;">
<h2>DecimalFormat</h2>Ще один варіант - використовувати клас <a href="https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html" rel="nofollow" target="_blank">DecimalFormat</a> . Він призначений для форматування будь-якого числа в Java, чи це ціле чи число з плаваючою комою. Під час створення екземпляра <span class="text-bold">DecimalFormat</span> ми можемо передати йому рядок форматування. Вона вкаже, скільки десяткових розрядів потрібно відформатувати для введення. Як буде виглядати наш приклад з використанням <span class="text-bold">DecimalFormat</span> : 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.766674</span><span class="token punctuation">;</span>
<span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span> <span class="token string">"#.###"</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> result <span class="token operator">=</span> decimalFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//34,767</span></code></pre> Рядок <span class="text-bold">#.###</span> — це шаблон, який вказує, що ми форматуємо значення, що передається, до 3 десяткових знаків. Щоб змінити шаблон після створення об'єкта DecimalFormat, можна використовувати його методи <span class="text-bold">applyPattern</span> і <span class="text-bold">applyLocalizedPattern</span> : 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"#.###"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
decimalFormat<span class="token punctuation">.</span><span class="token function">applyPattern</span><span class="token punctuation">(</span><span class="token string">"#.#"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
decimalFormat<span class="token punctuation">.</span><span class="token function">applyLocalizedPattern</span><span class="token punctuation">(</span><span class="token string">"#.#####"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> Але ми сьогодні говоримо про округлення, чи не так? При обрізанні числа зі знаками після коми, що виходять за заданий шаблон, <span class="text-bold">DecimalFormat</span> округлює число у більшу сторону, якщо останній число, що обрізається, більше 5. Але що якщо число — 5? Виходить, що воно рівно посередині між найближчими цілими. Що тоді? І тут враховується попереднє число. Якщо воно парне, округлення виконується: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"#.###"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> result <span class="token operator">=</span> decimalFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">7.4565</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 7,457</span></code></pre> Якщо непарне — не робиться: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"#.###"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> result <span class="token operator">=</span> decimalFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">7.4575</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 7,457</span></code></pre> Є невелика різниця між форматуванням чисел із плаваючою комою з використанням String.format() та DecimalFormat.format(). Перший завжди друкуватиме кінцеві нулі, навіть якщо немає дробової частини. Наприклад: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token class-name">String</span> firstResult <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">"%.3f"</span><span class="token punctuation">,</span> <span class="token number">7.000132</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>firstResult<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7.000</span>

<span class="token class-name">DecimalFormat</span> decimalFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecimalFormat</span><span class="token punctuation">(</span><span class="token string">"#.###"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> secondResult <span class="token operator">=</span> decimalFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token number">7.000132</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>secondResult<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 7</span></code></pre> Як бачимо, при форматуванні числа 7.000132 з точністю до трьох десяткових розрядів, метод format() у String виводить 7.000, тоді як у DecimalFormat метод format() виведе 7. Тобто ви можете вибирати String.format() <span class="text-bold">чи</span> DecimalFormat <span class="text-bold">. format()</span> в залежності від того, потрібні вам кінцеві нулі чи ні. Застосовуючи вищеописані способи, ми отримували результат у вигляді рядка. Давайте розглянемо способи, як можна отримати назад саме числові значення. 
<h2>Math</h2>Не можна не згадати спеціальний клас, заточений під різні арифметичні операції з числами - <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html" rel="nofollow" target="_blank">Math</a> . <img data-max-width="512" data-id="eec5cda9-2efb-4184-8ef6-0792a00616e2" class="img-fluid" alt="Округлення чисел у Java - 3" src="https://cdn.javarush.com/images/article/eec5cda9-2efb-4184-8ef6-0792a00616e2/512.jpeg" style="width: 512px;">У цьому класі є й методи для округлення, але на відміну від описаних, вони не дозволяють задати певну кількість знаків після коми, а округляють до цілого числа: 
<ul>
 <li>
  <p><span class="text-bold">Math.ceil()</span> округляє до найближчого цілого числа вгору, але віддає не цілий тип, а double:</p>
  <pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.777774</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//35.0</span></code></pre>
  <p>Навіть якщо у нас буде 34.0000000, все одно після використання <span class="text-bold">Math.ceil</span> ми отримаємо 35,0.</p> Math.floor() округляє до найближчого цілого вниз, також результатом віддає double:
  <p></p>
  <pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.777774</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//34.0</span></code></pre>
  <p>Знову ж таки, навіть якщо у нас буде значення 34.999999999, то після використання <span class="text-bold">Math.floor</span> ми отримаємо 34,0.</p></li>
 <li>
  <p><span class="text-bold">Math.round ()</span> - округляє до найближчого цілого числа, як результат віддає int:</p>
  <pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.777774</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//35</span></code></pre>
  <p>Якщо в нас число 34.5, округлення виконується до 35, якщо трохи менше 34.499, число обрізається до 34.</p>
  <p>Щоб не просто обрізати всю речову частину, а регулювати цей процес до певної кількості знаків і при цьому округляти, число множать на 10 n (10 в ступені n), де n дорівнює кількості необхідних знаків після коми. Після цього застосовують якийсь метод класу <span class="text-bold">Math</span> для округлення, а потім знову ділять на 10^n:</p>
  <pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.777774</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> scale <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> result <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>value <span class="token operator">*</span> scale<span class="token punctuation">)</span> <span class="token operator">/</span> scale<span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//34.778</span></code></pre>
  <p><span class="text-bold">Math.pow</span> - приймає два аргументи. Перший — число, другий — ступінь, на який його треба звести.</p></li>
</ul><a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="49841092-9157-457a-a2f8-b8e1c80de2aa" class="img-fluid" alt="Округлення чисел у Java - 4" src="https://cdn.javarush.com/images/article/49841092-9157-457a-a2f8-b8e1c80de2aa/1024.jpeg" style="width: 1024px;"></a>
<h2>Округлення з BigDecimal</h2><span class="text-bold">BigDecimal</span> - це клас, який дозволяє працювати з числами з плаваючою комою. Зокрема, його основною фішкою є те, що в ньому можна зберігати подрібнені числа довільної довжини (тобто немає обмеження в діапазоні числа). Крім цього, цей клас зберігає різні методи для арифметичної обробки, включаючи заокруглення. Клас даного об'єкта можна створити, задавши в конструктор double, string відображення числа з плаваючою комою, double і <a href="https://docs.oracle.com/javase/8/docs/api/java/math/MathContext.html#getRoundingMode--" rel="nofollow" target="_blank">MathContext</a> і так далі. <span class="text-bold">MathContext</span> - комбінація правила округлення <a href="https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html" rel="nofollow" target="_blank">RoundingMode</a> і числа, що описує загальну кількість цифр у значенні. Правила заокруглення RoundingMode: <span class="text-bold">DOWN</span> — заокруглення убік до нуля. <span class="text-bold">UP</span> – режим заокруглення від нуля. <span class="text-bold">CEILING</span> - округлення у бік позитивної нескінченності. <span class="text-bold">FLOOR</span> — заокруглення у бік негативної нескінченності. <span class="text-bold">HALF_UP</span> — округлення до «найближчого сусіда», якщо обидва сусіди не рівновіддалені (тобто коли округлене число — 5). У цьому випадку виконується заокруглення вгору. <span class="text-bold">HALF_DOWN</span> — округлення у бік «найближчого сусіда». Якщо обидва сусіди нерівновіддалені, у цьому випадку округлення вниз. <span class="text-bold">HALF_EVEN</span> — заокруглення до «найближчого сусіда», якщо обидва сусіди нерівні. У цьому випадку округляються до парного сусіда (як описано вище DecimalFormat). <span class="text-bold">UNNECESSARY</span>— використовується для підтвердження того, що ця операція має точний результат. Отже, округлення не потрібне. Приклад: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token class-name">MathContext</span> context <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MathContext</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>HALF_UP<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.777554</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//34.778</span></code></pre> Крім можливості задавати правило округлення в конструкторі, <span class="text-bold">BigDecimal</span> дозволяє встановити режим округлення вже після створення екземпляра. Для цього використовується метод <span class="text-bold">setScale</span> , який потрібно задати кількість знаків після коми і правила округлення: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token number">34.777554</span><span class="token punctuation">;</span>
<span class="token class-name">BigDecimal</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">RoundingMode</span><span class="token punctuation">.</span>DOWN<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//34.777</span></code></pre> Також у <span class="text-bold">BigDecimal</span> є внутрішні <span class="text-bold">int</span> змінні, призначені для завдання режиму округлення ( <span class="text-bold">ROUND_DOWN</span> , <span class="text-bold">ROUND_CEILING</span> , <span class="text-bold">ROUND_FLOOR</span> ...) Є правила округлення, аналогічні представленим у класі <span class="text-bold">RoundingMode</span> і аналогічно використовуються в <span class="text-bold">setScale</span> : 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class=" language-java"><span class="token class-name">BigDecimal</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">setScale</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">.</span>ROUND_DOWN<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre> Докладніше про клас BigDecimal - у <a href="https://codegym.cc/groups/posts/2709-biginteger-i-bigdecimal" target="_blank">цій статті</a> .