10 питань щодо абстрактних класів та інтерфейсів із співбесід з Java
<p>----------------------------------------</p>
Абстрактні класи та інтерфейси дуже популярні у всіх об'єктно-орієнтованих мовах програмування. І практично на кожній співбесіді з Java трапляється хоча б одне питання на цю тему. Інтерфейси згадуються частіше, через їхню популярність серед
<p>----------------------------------------</p>
Абстрактні класи та інтерфейси дуже популярні у всіх об'єктно-орієнтованих мовах програмування. І практично на кожній співбесіді з Java трапляється хоча б одне питання на цю тему. Інтерфейси згадуються частіше, через їхню популярність серед проектувальників ПЗ, але іноді зустрічаються й питання абстрактних класів. Останні найчастіше задають претендентам на посаду джуніор-розробників, скажімо, з не більше ніж дворічним досвідом розробки на Java, тоді як питання щодо інтерфейсів найчастіше зустрічаються при співбесіді тих, чий досвід уже перевалив за чотири роки. В основному, їх задають разом з іншими питаннями з патерн проектування Java, наприклад, з патерн Decorator (Декоратор) або Factory (Фабрика). <img data-id="f6a08c53-3048-455b-acaf-45bbd76b5e16" data-max-width="850" alt="10 питань щодо абстрактних класів та інтерфейсів із співбесід з Java - 1" src="https://cdn.javarush.com/images/article/f6a08c53-3048-455b-acaf-45bbd76b5e16/800.jpeg" style="width: 850px;">У цій статті ми розглянемо часті питання щодо абстрактних класів та інтерфейсів, які задавалися на співбесідах з Java різного рівня. Більшість з них не повинна представляти складності навіть для Java-програміста-початківця. В основному це питання на чисте знання, але деякі з них, наприклад, <strong>про відмінності між абстрактними класами та інтерфейсами Java</strong> або про те, <strong>коли краще віддати перевагу абстрактному класу інтерфейсу</strong> , можуть виявитися досить непростими. Пропонуємо вам десяток цікавих питань на тему. 
<div class="table-container">
 <table class="table table--striped">
  <tbody>
   <tr>
    <td>Якщо вам коли-небудь задавали на співбесіді або доводилося ставити будь-яке питання про абстрактні класи та інтерфейси, але його в даному списку немає, ділитесь ним в коментарях.</td>
   </tr>
  </tbody>
 </table>
</div>
<h2>1. Чи можуть у мові Java у абстрактного класу бути конструктори?</h2>Так, в абстрактному класі Java можна оголосити і визначити конструктори. Оскільки створювати екземпляри абстрактних класів не можна, викликати такий конструктор можна лише за формуванні ланцюжка конструкторів, тобто за створення екземпляра конкретного класу-реализации. Але уявіть, що інтерв'юер запитає потім: а який сенс у конструкторі, якщо створити екземпляр абстрактного класу все одно не можна? Справа в тому, що його все одно можна використовувати для завдання початкових значень загальних змінних, оголошених в абстрактному класі та використовуваних різними реалізаціями. Навіть якщо ви не оголосабо жодного конструктора, компілятор додасть до абстрактного класу конструктор за умовчанням без аргументів. Без нього ваш підклас не скомпілюється, оскільки перший оператор у будь-якому конструкторі є неявним викликом.<code class=" language-none">super()</code>– конструктора суперкласу за замовчуванням у Java. 
<h2>2. Чи можуть абстрактні класи у мові Java реалізовувати інтерфейси? Чи вони реалізовувати всі методи?</h2>Так, абстрактні класи можуть реалізовувати інтерфейси за допомогою ключового слова <code class=" language-none">implements</code>. Оскільки вони абстрактні, то мають реалізовувати всі методи. Наявність абстрактного базового класу та інтерфейсу для оголошення типу є рекомендованою практикою. Приклад - інтерфейс <code class=" language-none">java.util.List</code>та відповідний абстрактний клас <code class=" language-none">java.util.AbstractList</code>. Оскільки <code class=" language-none">AbstractList</code>реалізує всі загальні методи, то конкретні реалізації (наприклад, <code class=" language-none">LinkedList</code>і <code class=" language-none">ArrayList</code>) не повинні реалізувати всі методи, як у випадку, якби вони реалізували <code class=" language-none">List</code>безпосередньо інтерфейс. Це рішення поєднує перевагу використання інтерфейсу для оголошення типу та гнучкість абстрактного класу для реалізації всієї загальної поведінки в одному місці. У книзі Джошуа Блох <strong>«Java. Ефективне програмування»</strong>Існує чудова глава на тему використання інтерфейсів і абстрактних класів в Java, для кращого розуміння має сенс її вивчити. 
<h2>3. Чи може бути абстрактний клас бути final?</h2>Ні не може. Ключове слово <code class=" language-none">final</code>означає, що клас на вершині ієрархії, і він не може бути спадкоємців. А абстрактний клас без спадкоємців — це сферичний кінь у вакуумі, тому що не можна створити екземпляр <code class=" language-none">abstract class</code>. Таким чином, якщо клас одночасно <code class=" language-none">abstract</code>і <code class=" language-none">final</code>, то він не має спадкоємців і не можна створити його екземпляр. Компілятор Java видасть помилку, якщо зробити клас одночасно <code class=" language-none">abstract</code>та <code class=" language-none">final</code>. 
<h2>4. Чи можуть у абстрактного класу у мові Java бути статичні методи?</h2>Так, абстрактні класи можуть оголошувати та визначати статичні методи. Тільки необхідно дотримуватися загальних принципів створення статичних методів Java, оскільки вони небажані при об'єктно-орієнтованому проектуванні, адже перевизначення статичних методів Java неможливо. Статичні методи в абстрактному класі – явище дуже рідкісне, але якщо на це є поважні причини, вам нічого не завадить їх використовувати. 
<h2>5. Чи можна створити екземпляр абстрактного класу?</h2>Ні, це робити не можна. Суть абстрактного класу полягає в тому, що він не завершений і його потрібно завершити в класах-спадкоємцях. Тобто, цей клас не готовий до використання. У ньому, наприклад, може бути відсутня реалізація якихось методів. Якщо клас не готовий до використання, то не можна створювати його об'єкт. А ось екземпляри спадкоємців абстрактного класу створювати можна. Компілятор Java видасть помилку, якщо програма спробує створити екземпляр абстрактного класу. 
<h2>6. Чи обов'язково в абстрактному класі мають бути абстрактні методи?</h2>Ні, в абстрактному класі може бути жодного абстрактного методу. Зробити клас абстрактним у мові Java можна просто, використовуючи ключове слово <code class=" language-none">abstract</code>при оголошенні. Компілятор забезпечить виконання всіх структурних обмежень, наприклад, заборони створення екземплярів цього класу. До речі, питання, чи мають бути абстрактні методи в абстрактному класі чи інтерфейсі – спірне. Мені видається, що в абстрактному класі мають бути абстрактні методи, оскільки це перше, про що думає програміст, бачачи абстрактний клас. Це добре узгоджується із принципом мінімізації несподіванок. 
<div class="email-subscription">
 <iframe frameborder="0" src="https://secure.esputnik.com.ua/4Q0Ef6d2SOs" width="100%" height="200" scrolling="no" data-savepage-key="0-2"></iframe>
</div>
<h2>7. Які відмінності між абстрактним класом та інтерфейсом у Java?</h2>Це найважливіше і одне з класичних питань на співбесідах з мови Java. Я не можу порахувати, скільки разів зустрічав це питання на співбесідах з Java для всіх рівнів. Цікавим це питання робить, зокрема, можливість для претендента надати приклад. Відповідати на питання з основ об'єктно-орієнтованого програмування, наприклад, розповісти про абстракцію, інкапсуляцію, поліморфізм і успадкування, легко, але коли справа доходить до подібних тонких нюансів, претенденти на посаду дуже часто губляться і кажуть, що перше спадає на думку. <strong>Відповідь на це питання тягне на окрему статтю (особливо після змін у Java 8), проте якщо коротко:</strong>
<ul>
 <li>Інтерфейс описує лише поведінку (методи) об'єкта, тоді як станів (полів) в нього немає (крім <code class=" language-none">public static final</code>), тоді як в абстрактного класу може бути.</li>
 <br>
 <li>Абстрактний клас успадковується (extends), а інтерфейс – реалізується (implements). Ми можемо успадкувати лише один клас, а реалізувати інтерфейсів – скільки завгодно. Інтерфейс може наслідувати (extends) інший інтерфейс/інтерфейси.</li>
 <br>
 <li>Абстрактні класи використовуються, коли є відношення "is-a", тобто клас-спадкоємець розширює базовий абстрактний клас, а інтерфейси можуть бути реалізовані різними класами, які зовсім не пов'язані один з одним.</li>
</ul>
<h2>8. Коли має сенс віддати перевагу абстрактному класу інтерфейсу і навпаки?</h2>Це продовження попередніх питань щодо абстрактних класів та інтерфейсів. Якщо ви знаєте, які їх синтаксичні відмінності, то відповідь на це питання не доставить вам проблем, оскільки саме вони є визначальним фактором прийняття рішення. Оскільки до опублікованого інтерфейсу практично неможливо додати новий метод, у разі потенційної необхідності доопрацювання краще використовувати абстрактний клас. Розвивати абстрактні класи в Java простіше, ніж інтерфейси. Аналогічно, якщо в інтерфейсі занадто багато методів і реалізація їх стає справжнім головним болем, краще створити абстрактний клас для реалізації за умовчанням. Цьому патерну випливають і в пакеті колекцій Java, абстрактний клас <code class=" language-none">AbstractList</code>забезпечує реалізацію за умовчанням для інтерфейсу <code class=" language-none">List</code>. <strong>Використовуйте абстрактні класи, якщо:</strong>
<ul>
 <li>Ви хочете поділитися кодом між кількома тісно пов'язаними класами.</li>
 <br>
 <li>Ви очікуєте, що класи, які розширюють ваш абстрактний клас, мають багато спільних методів або полів, або вимагають інших модифікаторів доступу, окрім <code class=" language-none">public</code>(наприклад, <code class=" language-none">protected</code>та <code class=" language-none">private</code>).</li>
 <br>
 <li>Ви хочете оголосити нестатичні або <code class=" language-none">не-final</code>поля. Це дозволяє визначити методи, які можуть отримати доступ і змінити стан об'єкта, якому вони належать.</li>
</ul><strong>Використовуйте інтерфейси, якщо:</strong>
<ul>
 <li>Ви очікуєте, що непов'язані класи будуть реалізовувати ваш інтерфейс. Наприклад, інтерфейси <code class=" language-none">Comparable</code>і <code class=" language-none">Cloneable</code>реалізуються багатьма незв'язаними класами.</li>
 <br>
 <li>Ви хочете визначити поведінку конкретного типу даних, але вам не важливо, хто її реалізує.</li>
 <br>
 <li>Ви хочете використовувати множинне наслідування типу.</li>
</ul>
<h2>9. Що таке абстрактний метод у мові Java?</h2><strong>Абстрактний метод</strong> – це метод без тіла. Ви просто повідомляєте метод, не визначаючи його, з використанням ключового слова <code class=" language-none">abstract</code>в оголошенні методу. Усі оголошені всередині інтерфейсу у мові Java методи – за умовчанням абстрактні. Ось приклад абстрактного методу у мові Java: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token keyword"><span class="token keyword">abstract</span></span> <span class="token function"><span class="token function">printVersion</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Тепер для реалізації цього методу необхідно розширити абстрактний клас і цей метод перевизначити. 
<h2>10. Чи може абстрактний клас у Java містити метод <code class=" language-none">main</code>?</h2>Так, абстрактний клас Java може містити метод <code class=" language-none">main</code>, адже це просто ще один статичний метод, і абстрактний клас можна виконувати за допомогою методу <code class=" language-none">main</code>, якщо не створювати його екземплярів. Ось і все, що я хотів розповісти. І пам'ятайте: абстрактні класи та інтерфейси – ключові проектні рішення в процесі об'єктно-орієнтованого аналізу та проектування, і застосовувати їх слід з обачністю, звичайно, якщо ви хочете створити гнучку систему. 
<div class="table-container">
 <table>
  <tbody>
   <tr>
    <th>Що ще почитати?</th>
   </tr>
   <tr>
    <td>
     <p><a href="https://codegym.cc/groups/posts/1973-abstraktnihe-klassih-v-java-na-konkretnihkh-primerakh" target="_blank">Абстрактні класи в Java на конкретних прикладах</a></p>
     <p><a href="https://codegym.cc/groups/posts/399-skaz-o-dvukh-iteratorakh-strategii-konkurentnoy-modifikacii-v-java-" target="_blank">Оповідь про двох ітераторів: стратегії конкурентної модифікації в Java</a></p>
     <p><a href="https://codegym.cc/groups/posts/394-mashinnihy-kod-i-bayt-kod-na-kakom-jazihke-govorit-vasha-programma" target="_blank">Машинний код та байт код: якою мовою говорить ваша програма?</a></p></td>
   </tr>
  </tbody>
 </table>
</div>