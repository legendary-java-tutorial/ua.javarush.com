Питання-відповідь: чому пароль у Java краще зберігати в масиві символів, а не в String?
<p>----------------------------------------</p>
Ви можете почути таке питання на інтерв'ю на позицію Java Junior. Але моєму приятелю його поставили на співбесіді на посаду Technical Lead. І , і масив символів можна використовуватиме зберігання текстових даних. Але усвідомлений вибір одно
<p>----------------------------------------</p>
Ви можете почути таке питання на інтерв'ю на позицію Java Junior. Але моєму приятелю його поставабо на співбесіді на посаду Technical Lead. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="5ce23145-a61f-45d3-978d-3572e1495e17" data-max-width="710" alt="Питання-відповідь: чому пароль у Java краще зберігати в масиві символів, а не в String?  - 1" src="https://cdn.javarush.com/images/article/5ce23145-a61f-45d3-978d-3572e1495e17/512.jpeg" style="width: 710px;">
 </div>
</div> І <code class=" language-none">String</code>, і масив символів можна використовуватиме зберігання текстових даних. Але усвідомлений вибір одного чи іншого для конкретного завдання складний, якщо ви ще не стикалися з подібною ситуацією. Однак, як зауважив мій друг, будь-яке питання, пов'язане з <code class=" language-none">String</code>, зазвичай пов'язане з таким особливим властивістю рядків, як незмінність ( <code class=" language-none">Immutable</code>), і він скористався цим на співбесіді. Отже, давайте розберемо кілька причин, чому для зберігання пароля потрібно використовувати <code class=" language-none">char []</code>, а не <code class=" language-none">String</code>. 
<h3>Причина 1. Рядки – незмінні</h3>Оскільки рядки в Java є незмінними, ваш пароль у вигляді звичайного тексту буде доступний у пам'яті, поки збирач сміття не очистить її. І оскільки <code class=" language-none">String</code>використовуються <code class=" language-none">String pool</code>для повторного використання, існує досить висока ймовірність того, що пароль залишиться в пам'яті надовго, що зовсім не безпечно. 
<div class="table-container">
 <table>
  <tbody>
   <tr>
    <td><em><strong>Java String pool</strong></em> - це пул або набір об'єктів (рядків), який розташований у спеціальному місці - купі (Heap). String в Java - один із найпоширеніших типів даних. Не примітивний тип, а об'єкт, оскільки дуже ресурсозатратний. Так, для зберігання рядка із чотирьох символів необхідно виділити 56 байт пам'яті. Ось чому рядки, як і інші об'єкти, зберігаються в купі.</td>
   </tr>
  </tbody>
 </table>
</div> Будь-який, хто має доступ до дампи пам'яті, може знайти пароль у текстовому вигляді, і це є серйозною причиною, щоб використовувати зашифрований пароль, а не простий текст. Оскільки рядки є незмінними, їх не можна змінити. Будь-яка зміна призведе до створення нового рядка. А ось у випадку з <code class=" language-none">char []</code>, ви можете замінити будь-який його елемент банкрутом або порожнім символом. Таким чином зберігання пароля в масиві символів явно знижує ризик перехоплення пароля. 
<h3>Причина 2. Рекомендації авторів</h3>Java сама по собі (ну, через своїх творців, зрозуміло) рекомендує використовувати метод <code class=" language-none">getPassword ()</code>із класу <code class=" language-none">JPasswordField</code>, який повертає <code class=" language-none">char []</code>. Можна також спробувати застарілий (deprecated) метод <code class=" language-none">getText ()</code>. Чому б не наслідувати рекомендації авторів мови? 
<h2>Причина 3. Друк</h2>З типом <code class=" language-none">String</code>завжди існує небезпека того, що текст, що зберігається в рядку, буде надрукований у файлі логів або в консолі. У той же час у випадку використання <code class=" language-none">Array</code>, ви не друкуватимете вміст масиву, а тільки його розташування в пам'яті. Звичайно, це не те щоб серйозна причина, але все ж таки в цьому теж є сенс. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> strPassword <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Unknown"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">char</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> charPassword <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">char</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span><span class="token string"><span class="token string">'U'</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">'n'</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">'k'</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">'w'</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">'o'</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">'n'</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span>println <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"String password:"</span></span> <span class="token operator"><span class="token operator">+</span></span> strPassword<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span>println <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"char password:"</span></span> <span class="token operator"><span class="token operator">+</span></span> charPassword<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token class-name"><span class="token class-name">String</span></span> password<span class="token operator"><span class="token operator">:</span></span> <span class="token class-name"><span class="token class-name">Unknown</span></span>
<span class="token class-name"><span class="token class-name">Character</span></span> password<span class="token operator"><span class="token operator">:</span></span> <span class="token punctuation"><span class="token punctuation">[</span></span><span class="token class-name"><span class="token class-name">C</span></span><span class="token annotation punctuation"><span class="token annotation punctuation">@110b053</span></span></code></pre> Зрозуміло, використання <code class=" language-none">char []</code>для зберігання паролів Java само по собі не є панацеєю. Вам потрібно потурбуватися про безпеку, наприклад, працювати з хешами та шифрувати паролі, а не зберігати їх у текстовому вигляді. І, звичайно, видаляти його з пам'яті одразу після процедури аутентифікації. <em><strong>За матеріалами <a href="http://javarevisited.blogspot.sg/" target="_blank">Javarevisited</a></strong></em>
<div class="table-container">
 <table>
  <tbody>
   <tr>
    <th>Що ще почитати?</th>
   </tr>
   <tr>
    <td>
     <p><a href="https://codegym.cc/groups/posts/404-khitrihe-voprosih-po-java-kotorihe-chasto-zadajut-na-sobesedovanijakh-" target="_blank">Хитрі питання щодо Java, які часто ставлять на співбесідах</a></p>
     <p><a href="https://codegym.cc/groups/posts/392-kak-v-java-napechatatjh-chisla-ot-1-do-100-bez-ciklov-i-usloviy-" target="_blank">Як у Java надрукувати числа від 1 до 100 без циклів та умов?</a></p>
     <p><a href="https://codegym.cc/groups/posts/416-ispoljhzovanie-java-arrayssort-dlja-ljubogo-spiska-obhhektov-" target="_blank">Використання Java Arrays.sort() для будь-якого списку об'єктів</a></p></td>
   </tr>
  </tbody>
 </table>
</div>