Java Core. Запитання до співбесіди, ч. 2
<p>----------------------------------------</p>
Для тих, хто вперше чує слово Java Core, це фундаментальні основи мови. З цими знаннями вже можна сміливо йти на стажування/інтернатуру. Наведені питання допоможуть вам освіжити знання перед співбесідою, або почерпнути щось нове. Для отрима
<p>----------------------------------------</p>
Для тих, хто вперше чує слово Java Core, це фундаментальні основи мови. З цими знаннями вже можна сміливо йти на стажування/інтернатуру. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="0a46c7cc-30da-4840-8626-96008b63c96e" data-max-width="710" alt="Java Core.  Запитання до співбесіди, ч. 2 - 1" src="https://cdn.javarush.com/images/article/0a46c7cc-30da-4840-8626-96008b63c96e/512.jpeg" style="width: 710px;">
 </div>
</div>Наведені питання допоможуть вам освіжити знання перед співбесідою, або почерпнути щось нове. Для отримання практичних навичок займайтеся на <a href="https://cdn.javarush.com/images/article/155cea79-acfd-4968-9361-ad585e939b82/original.png">CodeGym</a> . <em><a href="http://howtodoinjava.com/2013/03/04/core-java-interview-questions-series-part-2/" rel="nofollow">Посилання</a> на інші частини: <a href="http://info.codegym.cc/translation/2014/02/12/Java-Core-%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%BA-%D1%81%D0%BE%D0%B1%D0%B5%D1%81%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E-%D1%87-1.html">Java Core. Запитання до співбесіди, ч. 1 </a> <a href="http://info.codegym.cc/translation/2014/03/22/Java-Core-%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%BA-%D1%81%D0%BE%D0%B1%D0%B5%D1%81%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E-%D1%87-3.html">Java Core. Запитання до співбесіди, ч. 3</a></em>
<h2>Чому потрібно уникати методу finalize()?</h2>Всі ми знаємо твердження, що метод <code class=" language-none">finalize()</code>викликається збирачем сміття перед звільненням пам'яті, яку об'єкт займає. Ось приклад програми, яка доводить, що виклик методу <code class=" language-none">finalize()</code>не гарантовано: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">TryCatchFinallyTest</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Runnable</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

	<span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">testMethod</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token keyword"><span class="token keyword">throws</span></span> <span class="token class-name"><span class="token class-name">InterruptedException</span></span>
	<span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">try</span></span>
		<span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In try block"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token keyword"><span class="token keyword">throw</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">NullPointerException</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
		<span class="token keyword"><span class="token keyword">catch</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">NullPointerException</span></span> npe<span class="token punctuation"><span class="token punctuation">)</span></span>
		<span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In catch block"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
		<span class="token keyword"><span class="token keyword">finally</span></span>
		<span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In finally block"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>

	<span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
	<span class="token keyword"><span class="token keyword">protected</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">finalize</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token keyword"><span class="token keyword">throws</span></span> <span class="token class-name"><span class="token class-name">Throwable</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In finalize block"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">super</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">finalize</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>

	<span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
	<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">run</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">try</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token function"><span class="token function">testMethod</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">catch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">InterruptedException</span></span> e<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			e<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">printStackTrace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">TestMain</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token annotation punctuation"><span class="token annotation punctuation">@SuppressWarnings</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"deprecation"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
	<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">for</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i<span class="token operator"><span class="token operator">=</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>i<span class="token operator"><span class="token operator">&lt;</span></span> <span class="token operator"><span class="token operator">=</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
	<span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Thread</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">TryCatchFinallyTest</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">start</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Висновок: <em>In try block In catch block In finally block In try block In catch block In finally block In try block In catch block In finally block Дивно</em></strong> , метод <code class=" language-none">finalize</code>не був виконаний для жодної нитки. Це доводить мої слова. Я думаю, причина у тому, що фіналізатори виконуються окремою ниткою збирача сміття. Якщо віртуальна машина Java завершується зарано, тоді збирач сміття не має достатньо часу для створення та виконання фіналізаторів. Іншими причинами не використовувати метод <code class=" language-none">finalize()</code>можуть бути: 
<ol>
 <li>Метод <code class=" language-none">finalize()</code>не працює з ланцюжками, як конструктори. Мається на увазі, що коли ви викликаєте конструктор класу, то конструктори суперкласів будуть викликані беззастережно. Але у випадку з методом <code class=" language-none">finalize()</code>, цього не буде. Метод <code class=" language-none">finalize()</code>суперкласу має бути викликаний явно.</li>
 <li>Будь-який виняток, кинутий методом <code class=" language-none">finalize</code>, ігнорується ниткою збирача сміття, і не буде поширюватися далі, що означає, що подія не буде занесена до ваших логів. Це дуже погано, чи не так?</li>
 <li>
  <p>Також ви отримуєте значне погіршення продуктивності, якщо метод <code class=" language-none">finalize()</code>є у вашому класі. В «Ефективному програмуванні» (2-ге вид.) Джошуа Блох сказав: <br>
    «Так, і ще одне: є велика втрата продуктивності під час використання фіналізаторів. На моїй машині час створення та знищення простих об'єктів становить приблизно 5,6 наносекунд. <br>
    Додавання фіналізатора збільшує час до 2400 наносекунд. Іншими словами, приблизно в 430 разів повільніше відбувається створення та видалення об'єкта з фіналізатором.</p></li>
</ol>
<h2>Чому HashMap не повинна використовуватись у багатопотоковому оточенні? Чи може це викликати безкінечний цикл?</h2>Ми знаємо, що <code class=" language-none">HashMap</code>це не синхронізована колекція, синхронізованим аналогом якої є <code class=" language-none">HashTable</code>. Таким чином, коли ви звертаєтеся до колекції та багатопотокового оточення, де всі нитки мають доступ до одного екземпляра колекції, тоді безпечніше використовувати <code class=" language-none">HashTable</code>з очевидних причин, наприклад, щоб уникнути брудного читання та забезпечення узгодженості даних. У гіршому випадку це багатопотокове оточення викличе нескінченний цикл. Так це правда. <code class=" language-none">HashMap.get()</code>може спричинити нескінченний цикл. Давайте подивимося як? Якщо ви подивитеся на вихідний код методу <code class=" language-none">HashMap.get(Object key)</code>, він виглядає так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Object</span></span> <span class="token function"><span class="token function">get</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Object</span></span> key<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token class-name"><span class="token class-name">Object</span></span> k <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">maskNull</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>key<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">int</span></span> hash <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">hash</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>k<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">indexFor</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>hash<span class="token punctuation"><span class="token punctuation">,</span></span> table<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token class-name"><span class="token class-name">Entry</span></span> e <span class="token operator"><span class="token operator">=</span></span> table<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">while</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>e <span class="token operator"><span class="token operator">==</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
            <span class="token keyword"><span class="token keyword">return</span></span> e<span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>e<span class="token punctuation"><span class="token punctuation">.</span></span>hash <span class="token operator"><span class="token operator">==</span></span> hash <span class="token operator"><span class="token operator">&amp;&amp;</span></span> <span class="token function"><span class="token function">eq</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>k<span class="token punctuation"><span class="token punctuation">,</span></span> e<span class="token punctuation"><span class="token punctuation">.</span></span>key<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
            <span class="token keyword"><span class="token keyword">return</span></span> e<span class="token punctuation"><span class="token punctuation">.</span></span>value<span class="token punctuation"><span class="token punctuation">;</span></span>
        e <span class="token operator"><span class="token operator">=</span></span> e<span class="token punctuation"><span class="token punctuation">.</span></span>next<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><code class=" language-none">while(true)</code>завжди може стати жертвою нескінченного циклу в багатопотоковому оточенні часу виконання, якщо з якоїсь причини <code class=" language-none">e.next</code>зможе вказати на себе. Це спричинить нескінченний цикл, але як <code class=" language-none">e.next</code>вкаже на себе(тобто на <code class=" language-none">e</code>)? Це може статися у методі <code class=" language-none">void transfer(Entry[] newTable)</code>, який викликається, тоді як <code class=" language-none">HashMap</code>змінює розмір. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">do</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token class-name"><span class="token class-name">Entry</span></span> next <span class="token operator"><span class="token operator">=</span></span> e<span class="token punctuation"><span class="token punctuation">.</span></span>next<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">indexFor</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>e<span class="token punctuation"><span class="token punctuation">.</span></span>hash<span class="token punctuation"><span class="token punctuation">,</span></span> newCapacity<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    e<span class="token punctuation"><span class="token punctuation">.</span></span>next <span class="token operator"><span class="token operator">=</span></span> newTable<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    newTable<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> e<span class="token punctuation"><span class="token punctuation">;</span></span>
    e <span class="token operator"><span class="token operator">=</span></span> next<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">while</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>e <span class="token operator"><span class="token operator">!=</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Цей фрагмент коду схильний до створення нескінченного циклу, якщо зміна розміру відбувається в той же час, коли інша нитка намагається змінити екземпляр картки ( <code class=" language-none">HashMap</code>). Єдиний спосіб уникнути описаного сценарію - використовувати синхронізацію в коді, або ще краще використовувати синхронізовану колекцію. 
<h2>Поясніть абстракцію та інкапсуляцію. Як вони пов'язані?</h2>Простими словами<em> « <strong>Абстракція</strong> відображає ті властивості об'єкта, які значимі для поточного ракурсу»</em>. Теоретично об'єктно-орієнтованого програмування, абстракція включає можливість визначення об'єктів, що представляють абстрактних «діючих осіб», які можуть виконувати роботу, змінювати та повідомляти про зміну свого стану, та «взаємодіяти» з іншими об'єктами в системі. Абстракція у будь-якій мові програмування працює у багатьох відношеннях. Це видно починаючи від створення підпрограм визначення інтерфейсів низькорівневих мовних команд. Деякі абстракції намагаються обмежити ширину загального уявлення потреб програміста, повністю приховуючи абстракції, де вони побудовані, наприклад шаблони проектування. Як правило, абстракцію можна побачити у двох відносинах: <strong>Абстракція даних</strong>– це спосіб створення складних типів даних та виставляючи лише значущі операції для взаємодії з моделлю даних, водночас приховуючи всі деталі реалізації від зовнішнього світу. <strong>Абстракція виконання</strong> – це процес виявлення всіх значних операторів та виставляючи їх як робочу одиницю. Ми зазвичай використовуємо цю особливість, коли ми створюємо метод для виконання будь-якої роботи. <strong>Висновок даних та методів усередині класів у комбінації із здійсненням приховання (використовуючи контроль доступу) часто називається інкапсуляцією. </strong>Результатом є тип даних з характеристиками та поведінкою. Інкапсуляція, по суті, містить також приховування даних та приховування реалізації. <strong><em>"Інкапсулюйте все, що може змінитися"</em></strong>. Ця цитата є відомим принципом проектування. Якщо на те пішло, у будь-якому класі зміни даних можуть відбутися під час виконання і зміни в реалізації може відбутися в наступних версіях. Таким чином, інкапсуляція може бути застосована як до даних, так і до реалізації. Отже, вони можуть бути пов'язані таким чином: 
<ul>
 <li>Абстракція здебільшого є <strong>Що</strong> клас може робити [Ідея]</li>
 <li>Інкапсуляція більше є <strong>Як</strong> досягти даної функціональності [Реалізація]</li>
</ul>
<h2>Відмінності між інтерфейсом та абстрактним класом?</h2>Основні відмінності можуть бути перелічені наступним: 
<ul>
 <li>Інтерфейс не може реалізувати жодних методів, проте абстрактний клас може.</li>
 <li>Клас може реалізувати безліч інтерфейсів, але може мати лише один суперклас (абстрактний чи не абстрактний)</li>
 <li>Інтерфейс не є частиною ієрархії класів. Незв'язані класи можуть реалізовувати той самий інтерфейс.</li>
</ul> Ви повинні запам'ятати таке: «Коли ви можете повністю описати поняття у словах «що це робить» без необхідності уточнювати «як це робить», тоді ви маєте використовувати інтерфейс. Якщо вам необхідно включити деякі деталі реалізації, то вам треба представити вашу концепцію в абстрактному класі». Також, кажучи іншими словами: Чи багато є класів, які можуть бути «груповані разом» і описані одним іменником? Якщо так, створіть абстрактний клас з іменником, і успадкуйте класи від нього. Наприклад, <code class=" language-none">Cat</code>і <code class=" language-none">Dog</code>можуть успадковуватися від абстрактного класу <code class=" language-none">Animal</code>, і цей абстрактний базовий клас реалізовуватиме метод<code class=" language-none">void Breathe()</code>– дихати, що всі тварини таким чином виконуватимуть однаковим способом. Які дієслова можуть бути використані до мого класу і можуть застосовуватися до інших? Створіть інтерфейс для кожного з цих дієслів. Наприклад, всі тварини можуть харчуватися, тому я створю інтерфейс <code class=" language-none">IFeedable</code>і зроблю <code class=" language-none">Animal</code>цей інтерфейс. Тільки <code class=" language-none">Dog</code>і <code class=" language-none">Horse</code>досить хороші для реалізації інтерфейсу <code class=" language-none">ILikeable</code>(здатні мені подобатися), але не всі. Хтось сказав: головна відмінність у тому, де ви хочете вашу реалізацію. Створюючи інтерфейс, ви можете перемістити реалізацію до будь-якого класу, який реалізує ваш інтерфейс. Створюючи абстрактний клас, ви можете поділити реалізацію всіх похідних класів в одному місці і уникнути багато поганих речей, таких як дублювання коду. 
<h2>Як StringBuffer заощаджує пам'ять?</h2>Клас <code class=" language-none">String</code>реалізований як постійний (immutable) об'єкт, тобто, коли ви спочатку вирішабо покласти щось в об'єкт <code class=" language-none">String</code>, віртуальна машина виділяє масив фіксованої довжини, точно такого розміру, як і ваше початкове значення. Надалі це буде оброблятися як константа всередині віртуальної машини, що надає значне покращення продуктивності у разі, якщо значення рядка не змінюється. Однак якщо ви вирішите змінити вміст рядка будь-яким способом, насправді віртуальна машина копіює вміст вихідного рядка в тимчасовий простір, робить ваші зміни, потім зберігає ці зміни до нового масиву пам'яті. Таким чином, внесення змін до значення рядка після ініціалізації є дорогою операцією. <code class=" language-none">StringBuffer</code>, з іншого боку виконаний у вигляді масиву, що динамічно розширюється всередині віртуальної машини, що означає, що будь-яка операція зміни може відбуватися на існуючій комірці пам'яті, і нова пам'ять буде виділятися при необхідності. Однак немає жодної можливості віртуальній машині зробити оптимізацію <code class=" language-none">StringBuffer</code>, оскільки його вміст вважається непостійним у кожному екземплярі. 
<h2>Чому методи wait і notify оголошені у класу Object замість Thread?</h2>Методи <code class=" language-none">wait</code>, <code class=" language-none">notify</code>, <code class=" language-none">notifyAll</code>необхідні тільки тоді, коли ви хочете, щоб ваші нитки мали доступ до загальних ресурсів і загальний ресурс міг бути будь-яким об'єктом java в хіпі (heap). Таким чином, ці методи визначені на базовому класі <code class=" language-none">Object</code>, так що кожен об'єкт має контроль, що дозволяє ниткам чекати на своєму моніторі. Java не має спеціального об'єкта, який використовується для розділення загального ресурсу. Жодної такої структури даних не визначено. Тому клас <code class=" language-none">Object</code>покладено відповідальність мати можливість ставати загальним ресурсом, і надавати допоміжні методи, такі як <code class=" language-none">wait()</code>, <code class=" language-none">notify()</code>,<code class=" language-none">notifyAll()</code>. Java ґрунтується на ідеї моніторів Чарльза Хоара (Hoare). У Java усі об'єкти мають монітор. Нитки чекають на моніторах, тому для виконання очікування нам потрібні два параметри: 
<ul>
 <li>нитка</li>
 <li>монітор (будь-який об'єкт).</li>
</ul> У проектуванні Java, нитка не може бути точно визначена, це завжди поточна нитка, що виконує код. Проте ми можемо визначити монітор (який є об'єктом, у якого можемо викликати метод <code class=" language-none">wait</code>). Це хороший задум, оскільки якщо ми можемо змусити будь-яку іншу нитку очікувати на певному моніторі, це призведе до «вторгнення», завдаючи труднощів проектування/програмування паралельних програм. Пам'ятайте, що Java всі операції, які вторгаються в інші нитки є застарілими(наприклад, <code class=" language-none">stop()</code>). 
<h2>Напишіть програму для створення deadlock в Java та виправте його</h2>У Java <code class=" language-none">deadlock</code>– це ситуація, коли мінімум дві нитки утримують блок на різних ресурсах, і обидві очікують на звільнення іншого ресурсу для завершення свого завдання. І жодна не в змозі залишити блокування ресурсу, що утримується. <img data-max-width="249" alt="Java Core.  Запитання до співбесіди, ч. 2 - 2" src="https://cdn.javarush.com/images/article/5f7eb0a9-0861-4f37-bdd2-f62548c67f79/original.jpeg"> Приклад програми: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">package</span></span> <span class="token namespace"><span class="token namespace">thread</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">ResolveDeadLockTest</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

	<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token class-name"><span class="token class-name">ResolveDeadLockTest</span></span> test <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ResolveDeadLockTest</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

		<span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">A</span></span> a <span class="token operator"><span class="token operator">=</span></span> test<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">A</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">B</span></span> b <span class="token operator"><span class="token operator">=</span></span> test<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">B</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

		<span class="token comment"><span class="token comment">// Thread-1</span></span>
		<span class="token class-name"><span class="token class-name">Runnable</span></span> block1 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Runnable</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">run</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
				<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
					<span class="token keyword"><span class="token keyword">try</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
					<span class="token comment"><span class="token comment">// Добавляем задержку, чтобы обе нити могли начать попытки</span></span>
					<span class="token comment"><span class="token comment">// блокирования ресурсов</span></span>
						<span class="token class-name"><span class="token class-name">Thread</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sleep</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">100</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
					<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">catch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">InterruptedException</span></span> e<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
						e<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">printStackTrace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
					<span class="token punctuation"><span class="token punctuation">}</span></span>
					<span class="token comment"><span class="token comment">// Thread-1 заняла A но также нуждается в B</span></span>
					<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
						<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In block 1"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
					<span class="token punctuation"><span class="token punctuation">}</span></span>
				<span class="token punctuation"><span class="token punctuation">}</span></span>
			<span class="token punctuation"><span class="token punctuation">}</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

		<span class="token comment"><span class="token comment">// Thread-2</span></span>
		<span class="token class-name"><span class="token class-name">Runnable</span></span> block2 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Runnable</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">run</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
				<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
					<span class="token comment"><span class="token comment">// Thread-2 заняла B но также нуждается в A</span></span>
					<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
						<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In block 2"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
					<span class="token punctuation"><span class="token punctuation">}</span></span>
				<span class="token punctuation"><span class="token punctuation">}</span></span>
			<span class="token punctuation"><span class="token punctuation">}</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

		<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Thread</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>block1<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">start</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Thread</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>block2<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">start</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>

	<span class="token comment"><span class="token comment">// Resource A</span></span>
	<span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">A</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">10</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

		<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">getI</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">return</span></span> i<span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>

		<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">setI</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>i <span class="token operator"><span class="token operator">=</span></span> i<span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>

	<span class="token comment"><span class="token comment">// Resource B</span></span>
	<span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">B</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">20</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

		<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">getI</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">return</span></span> i<span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>

		<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">setI</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>i <span class="token operator"><span class="token operator">=</span></span> i<span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Запуск наведеного коду призведе до deadlock з очевидних причин (пояснені вище). Тепер нам потрібно вирішити цю проблему. Я вірю, що вирішення будь-якої проблеми лежить в корені самої проблеми. У нашому випадку модель доступу до А та В є головною проблемою. Тому для вирішення її, ми просто змінимо порядок операторів доступу до ресурсів, що розділяються. Після зміни це виглядатиме так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token comment"><span class="token comment">// Thread-1</span></span>
<span class="token class-name"><span class="token class-name">Runnable</span></span> block1 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Runnable</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">run</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">try</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
				<span class="token comment"><span class="token comment">// Добавляем задержку, чтобы обе нити могли начать попытки</span></span>
				<span class="token comment"><span class="token comment">// блокирования ресурсов</span></span>
				<span class="token class-name"><span class="token class-name">Thread</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sleep</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">100</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">catch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">InterruptedException</span></span> e<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
				e<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">printStackTrace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token punctuation"><span class="token punctuation">}</span></span>
			<span class="token comment"><span class="token comment">// Thread-1 заняла B но также нуждается в А</span></span>
			<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
				<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In block 1"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token punctuation"><span class="token punctuation">}</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token comment"><span class="token comment">// Thread-2</span></span>
<span class="token class-name"><span class="token class-name">Runnable</span></span> block2 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Runnable</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">run</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>b<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token comment"><span class="token comment">// Thread-2 заняла B но также нуждается в А</span></span>
			<span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>a<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
				<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In block 2"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token punctuation"><span class="token punctuation">}</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Запустіть знову цей клас і тепер ви не побачите deadlock. Я сподіваюся, це допоможе вам уникнути deadlocks і позбутися їх, якщо зіткнетеся. 
<h2>Що трапиться, якщо ваш клас, що реалізує Serializable інтерфейс містить компонент, що не серіалізується? Як виправити це?</h2>У такому разі буде викинуто <code class=" language-none">NotSerializableException</code>у процесі виконання. Для виправлення цієї проблеми є дуже просте рішення – відзначити ці поля <code class=" language-none">transient</code>. Це означає, що ці поля не будуть серіалізовані. Якщо ви також хочете зберегти стан цих полів, тоді вам необхідно розглянути змінні, які вже реалізують інтерфейс <code class=" language-none">Serializable</code>. Також вам може знадобитися використовувати методи <code class=" language-none">readResolve()</code>та <code class=" language-none">writeResolve()</code>. Підведемо підсумки: 
<ul>
 <li>По-перше, зробіть ваше поле, що не серіалізується <code class=" language-none">transient</code>.</li>
 <li>Насамперед <code class=" language-none">writeObject</code>викличте <code class=" language-none">defaultWriteObject</code>на потоці, для збереження всіх не <code class=" language-none">transient</code>полів, потім викличте інші методи для серіалізації індивідуальних властивостей вашого об'єкта, що не серіалізується.</li>
 <li>У <code class=" language-none">readObject</code>, спершу викличте <code class=" language-none">defaultReadObject</code>на потоці для читання всіх <code class=" language-none">transient</code>полів, потім викличте інші методи (відповідні тим, які ви додали в <code class=" language-none">writeObject</code>) для десеріалізації вашого не <code class=" language-none">transient</code>об'єкта.</li>
</ul>
<h2>Поясніть ключові слова transient і volatile у Java</h2>"Ключове слово <code class=" language-none">transient</code>використовується для позначення полів, які не будуть серіалізовані". Відповідно до специфікації мови Java: Змінні можуть бути марковані індикатором transient для позначення, що вони є частиною стійкого стану об'єкта. Наприклад, ви можете містити поля, отримані з інших полів, і їх краще отримувати програмно, ніж відновлювати стан через серіалізацію. Наприклад, у класі <code class=" language-none">BankPayment.java</code>такі поля, як <code class=" language-none">principal</code>(директор) та <code class=" language-none">rate</code>(ставка) можуть бути серіалізовані, а<code class=" language-none">interest</code>(нараховані відсотки) можуть бути обчислені у будь-який час, навіть після десеріалізації. Якщо ми згадаємо, кожна нитка Java має власну локальну пам'ять і здійснює операції читання/запису в цю локальну пам'ять. Коли всі операції зроблено, вона записує модифікований стан змінної у загальну пам'ять, звідки всі нитки отримують доступ до змінної. Як правило, це звичайний потік усередині віртуальної машини. Але модифікатор volatile говорить віртуальній машині, що звернення нитки до цієї змінної завжди має узгоджувати свою власну копію цієї змінної з основною копією змінної пам'яті. Це означає, що кожного разу, коли нитка хоче прочитати стан змінної, вона повинна очистити стан внутрішньої пам'яті та оновити змінну з основної пам'яті. <code class=" language-none"><strong>Volatile</strong></code>найбільш корисно у вільних від блокувань алгоритмах. Ви відзначаєте змінну, що зберігає загальні дані як volatile, тоді ви не використовуєте блокування для доступу до цієї змінної, і всі зміни, зроблені однією ниткою, будуть помітні для інших. Або якщо ви хочете створити ставлення «трапилося після» для забезпечення того, щоб не повторювалися обчислення, знову ж таки для забезпечення видимості змін в реальному часі. Volatile має використовуватися для безпечної публікації незмінних об'єктів у багатопотоковому оточенні. Оголошення поля <code class=" language-none">public volatile ImmutableObject</code>забезпечує, що всі нитки завжди бачать поточне посилання на екземпляр. 
<h2>Різниця між Iterator та ListIterator?</h2>Ми можемо використовувати <code class=" language-none">Iterator</code>для перебору елементів <code class=" language-none">Set</code>або <code class=" language-none">List</code>. <code class=" language-none">Map</code>Але <code class=" language-none">ListIterator</code>може бути застосований тільки для перебору елементів <code class=" language-none">List</code>. Інші відмінності описані нижче. Ви можете: 
<ol>
 <li>ітерувати у зворотному порядку.</li>
 <li>отримати індекс у будь-якому місці.</li>
 <li>додати будь-яке значення у будь-якому місці.</li>
 <li>встановити будь-яке значення у поточній позиції.</li>
</ol> Удачі у навчанні!! <em>Автор статті <a href="https://plus.google.com/+LokeshGupta/posts" rel="nofollow">Lokesh Gupta </a> <a href="http://howtodoinjava.com/2013/03/04/core-java-interview-questions-series-part-2/" rel="nofollow">Оригінал статті </a> <a href="http://info.codegym.cc/translation/2014/02/12/Java-Core-%D0%92%D0%BE%D0%BF%D1%80%D0%BE%D1%81%D1%8B-%D0%BA-%D1%81%D0%BE%D0%B1%D0%B5%D1%81%D0%B5%D0%B4%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8E-%D1%87-1.html">Java Core. Запитання до співбесіди, ч. 1 </a> <a href="https://codegym.cc/groups/posts/780-java-core-voprosih-k-sobesedovaniju-ch-3" target="_blank">Java Core. Запитання до співбесіди, ч. 3</a></em>