Тернарний оператор Java
<p>----------------------------------------</p>
Вітання! Сьогоднішня лекція буде не дуже великою, але абсолютно точно корисною :) Ми поговоримо про так званий . "Тернарний" у перекладі означає "потрійний". Це альтернатива умовному оператору , який тобі вже знайомий. Наведемо приклад. При
<p>----------------------------------------</p>
Вітання! Сьогоднішня лекція буде не дуже великою, але абсолютно точно корисною :) Ми поговоримо про так званий <span class="text-bold">тернарний оператор</span> . <img data-max-width="850" alt="Тернарний оператор - 1" src="https://cdn.javarush.com/images/article/8236d11f-d86c-48f9-b72d-1ffc6ae68b4c/original.jpeg">"Тернарний" у перекладі означає "потрійний". Це альтернатива умовному оператору <span class="text-bold"><code class=" language-none">if-else</code></span>, який тобі вже знайомий. Наведемо приклад. Припустимо, якась людина вирішила піти у кіно на фільм із рейтингом 18+. Охоронець перевіряє його вік на вході: якщо він проходить за віком – дозволяє пройти до зали, якщо ні – відправляє додому. Створимо клас <code class=" language-none">Man</code>і перевіримо це за допомогою <code class=" language-none">if-else</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Man</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">int</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Man</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> age<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>age <span class="token operator"><span class="token operator">=</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">setAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> age<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>age <span class="token operator"><span class="token operator">=</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

       <span class="token class-name"><span class="token class-name">Man</span></span> man <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Man</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">22</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token class-name"><span class="token class-name">String</span></span> securityAnswer<span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
           securityAnswer <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Все гаразд, проходьте!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
           securityAnswer <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Цей фільм не підходить для вашого віку!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token punctuation"><span class="token punctuation">}</span></span>

       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>securityAnswer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Виведення в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
"Все в порядке, проходите!"</code></pre> Якщо вибрати висновок у консоль, наша перевірка виглядає так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
           securityAnswer <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Все гаразд, проходьте!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
           securityAnswer <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Цей фільм не підходить для вашого віку!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тут, по суті, працює проста логіка: перевіряється одна умова (вік = 18). Залежно від цього змінну <code class=" language-none">securityAnswer</code>присвоюється один із двох рядків з відповіддю охоронця. Такі ситуації, "одна умова - два можливі результати", зустрічаються в програмуванні дуже часто. Тому для них створабо цей тернарний оператор. З його допомогою ми можемо спростити нашу перевірку до одного рядка коду: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token class-name"><span class="token class-name">Man</span></span> man <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Man</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">22</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> securityAnswer <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token string"><span class="token string">"Все гаразд, проходьте!"</span></span> <span class="token operator"><span class="token operator">:</span></span> <span class="token string"><span class="token string">"Цей фільм не підходить для вашого віку!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>securityAnswer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Так і виглядає робота цього оператора. Тернарним (потрійним) його називають тому, що в його роботі беруть участь 3 компоненти: 
<ul>
 <li>Одна умова ( <code class=" language-none">man.getAge() &gt;= 18</code>)</li>
 <li>Два можливі результати ( <em><span class="text-green">"Все в порядку, проходьте!"</span></em> і <em><span class="text-green">"Цей фільм не підходить для вашого віку!"</span></em> )</li>
</ul>Спочатку в коді записується умова, після якої ставиться знак запитання. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span> <span class="token operator"><span class="token operator">?</span></span></code></pre><em>"Вік людини більше або дорівнює 18?" </em> Далі слідує перший результат. Він спрацьовує у разі, якщо умова повертає <code class=" language-none">true</code>, тобто є істинною: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> securityAnswer <span class="token operator"><span class="token operator">=</span></span> man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token string"><span class="token string">"Все гаразд, проходьте!"</span></span></code></pre><em>Вік людини більше чи дорівнює 18? Якщо так - присвоїти змінній </em> <code class=" language-none">securityAnswer</code> <em>значення <span class="text-green">"Все в порядку, проходьте!" </span>. </em> Далі слідує оператор “ <code class=" language-none">:</code>”, після якого записується другий результат. Він спрацьовує у разі, якщо умова повертає <code class=" language-none">false</code>, тобто є хибним: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> securityAnswer <span class="token operator"><span class="token operator">=</span></span> man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token string"><span class="token string">"Все гаразд, проходьте!"</span></span> <span class="token operator"><span class="token operator">:</span></span> <span class="token string"><span class="token string">"Цей фільм не підходить для вашого віку!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre><em>Вік людини більше чи дорівнює 18? Якщо так - присвоїти змінній </em> <code class=" language-none">securityAnswer</code> <em>значення <span class="text-green">"Все в порядку, проходьте!" </span>. Якщо ні - присвоїти змінної </em> <code class=" language-none">securityAnswer</code> <em>значення <span class="text-gren">"Цей фільм не підходить для вашого віку!" </span></em> Отак і виглядає загальна логіка тернарного оператора. умова? результат 1: результат 2 <img data-max-width="850" alt="Тернарний оператор - 2" src="https://cdn.javarush.com/images/article/18c73c7b-9e4a-46d4-9c96-c7a5d812c3ec/original.jpeg">До речі, дужки навколо умови ставити не обов'язково: ми зробабо це для більшої читальності. Спрацює і без них: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token class-name"><span class="token class-name">Man</span></span> man <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Man</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">22</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> securityAnswer <span class="token operator"><span class="token operator">=</span></span> man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token string"><span class="token string">"Все гаразд, проходьте!"</span></span> <span class="token operator"><span class="token operator">:</span></span> <span class="token string"><span class="token string">"Цей фільм не підходить для вашого віку!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>securityAnswer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Що ж використовувати: <code class=" language-none">if-else</code>, або тернарний оператор? З погляду продуктивності особливої ​​різниці немає. Точніше, може вона є, але незначна. Тут питання стосується швидше читання твого коду. Він дуже важливий у програмуванні: код, який ти пишеш, має не тільки коректно працювати, а й легко читатись. Адже він може перейти “у спадок” до інших програмістів, твоїх колег! І якщо він буде важким для розуміння, це ускладнить і їхню роботу, і твою – саме до тебе вони бігатимуть за поясненнями кожні 5 хвабон. Загальна рекомендація може звучати так: якщо умова проста та легко перевіряється, можна без шкоди використовувати тернарний оператор. Таким чином ти скоротиш обсяг коду та кількість перевірок<code class=" language-none">if-else</code>, яких там і так може бути чимало. А от якщо умова є складною та багатоступінчастою — краще використовувати <code class=" language-none">if-else</code>. Наприклад, у цьому випадку використовувати тернарний оператор буде поганою ідеєю: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> securityAnswer <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">18</span></span> <span class="token operator"><span class="token operator">&amp;&amp;</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">hasTicket</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">||</span></span> man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">hasCoupon</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&amp;&amp;</span></span> <span class="token operator"><span class="token operator">!</span></span>man<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">hasChild</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>  <span class="token operator"><span class="token operator">?</span></span> <span class="token string"><span class="token string">"Проходьте!"</span></span> <span class="token operator"><span class="token operator">:</span></span> <span class="token string"><span class="token string">"Ви не можете пройти!"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Так і не зрозумієш, що тут відбувається! Код став дуже складним для читання. А все через складні умови: 
<ul>
 <li>Якщо людині більше або дорівнює 18 років + у неї є квиток (або має купон на безкоштовне відвідування) + з нею немає маленьких дітей - тоді вона може пройти.</li>
 <li>Якщо хоч одна з частин умови повертає false — тоді не може.</li>
</ul>Ось тут явно краще б підійшло використання <code class=" language-none">if-else</code>. Так, наш код став би більшим у розмірах, але він був би в рази більш читаним. І ніхто з колег не схопиться за голову, якщо такий код дістанеться йому у спадок :) <a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="0cad1e45-c060-4b79-8179-b2c2b83a895e" class="img-fluid" alt="Тернарний оператор - 3" src="https://cdn.javarush.com/images/article/0cad1e45-c060-4b79-8179-b2c2b83a895e/1024.jpeg" style="width: 1024px;"></a>Насамкінець можу порекомендувати тобі книгу. Ми торкнулися лекції теми читання коду. Їй присвячена книга "Чистий код" Роберта Мартіна, що стала класикою. <img data-max-width="500" alt="Тернарний оператор - 3" src="https://cdn.javarush.com/images/article/692797f4-403f-4a20-a0ca-852a9bd4dd3f/original.jpeg">У ній зібрані кращі практики та рекомендації для програмістів, які дозволять тобі писати не тільки працюючий, але й код, що легко читається. <a href="https://codegym.cc/groups/posts/526-chistihy-kod-robert-martin-obzor-knigi-dlja-" target="_blank">Огляд цієї книги</a> є CodeGym.