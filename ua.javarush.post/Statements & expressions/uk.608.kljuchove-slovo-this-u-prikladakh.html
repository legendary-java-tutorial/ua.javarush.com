Ключове слово this {у прикладах}
<p>----------------------------------------</p>
На JavaRush студентів буквально з перших лекцій знайомлять із ключовим словом . І з часом стає зрозуміло, що все ж таки воно означає. Але багато хто, обернувшись назад, напевно, чесно собі скажуть, що довго не могли усвідомити дзен цього кл
<p>----------------------------------------</p>
На CodeGym студентів буквально з перших лекцій знайомлять із ключовим словом <code class=" language-none">this</code>. І з часом стає зрозуміло, що все ж таки воно означає. Але багато хто, обернувшись назад, напевно, чесно собі скажуть, що довго не могли усвідомити дзен цього ключового слова. У статті відкриваємо завісу таємниць застосування ключовика <code class=" language-none">this</code>для тих, хто досі не може… Welcome! Якщо ви візьмете довідник <a href="https://www.ozon.ru/context/detail/id/31249554/" target="_blank" rel="nofollow">Шилдта по Java</a> , то на 171 сторінці ви прочитаєте про те, що ключове слово <code class=" language-none">this</code>потрібно для того, щоб метод міг послатися на об'єкт, що його викликав. На цьому, власне, можна було б і закінчити. Але нам потрібна конкретика. <img data-max-width="850" alt="Ключове слово this {у прикладах} - 1" src="https://cdn.javarush.com/images/article/0590d815-4654-4673-bee2-9570bfb546d5/original.jpeg">Як правило, застосовувати <code class=" language-none">this</code>потрібно <span class="text-bold">у двох випадках:</span>
<ol>
 <li>Коли у змінної екземпляра класу та змінної методу/конструктора однакові імена;</li>
 <li>Коли потрібно викликати конструктор одного типу (наприклад, за замовчуванням конструктор або параметризований) з іншого. Це ще називається очевидним викликом конструктора.</li>
</ol>Ось і все, насправді не так багато, — лише два випадки, коли застосовується це страшне ключове слово. Тепер розглянемо ці дві ситуації на прикладах. 
<h2>Приклад перший - у змінної екземпляра та методу однакові імена</h2>Припустимо, у нас є клас <code class=" language-none">Human</code>, для якого визначено поле «ім'я»: <img data-max-width="462" alt="Ключове слово this {у прикладах} - 2" src="https://cdn.javarush.com/images/article/39ffe31d-3128-4762-8fd9-d2a922b25434/original.jpeg">Давайте для змінної <code class=" language-none">name</code>створимо сеттер (setter цілком робочий і ніякої каверзи тут немає): <img data-max-width="700" alt="Ключове слово this {у прикладах} - 3" src="https://cdn.javarush.com/images/article/1c627f48-c5e8-4c56-a08d-d90425b60c8d/original.jpeg">Зверніть увагу, що в метод (сеттер) <code class=" language-none">setName</code>ми передаємо змінну <code class=" language-none">String newName</code>. Ми ввели нову змінну і (загалом) могли назвати її як завгодно, адже вона буде видно тільки в межах {фігурних дужок} методу <code class=" language-none">setName</code>. Зверніть увагу, що в сеттері є один рядок: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">name <span class="token operator"><span class="token operator">=</span></span> newName<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Тобто за фактом ми запровадабо нову змінну <code class=" language-none">newName</code>і привласнабо її вже існуючій у класі змінній <code class=" language-none">name</code>. Багатьом програмістом здавалося це дивним — вводити змінну з новим ім'ям, якщо в результаті йдеться про те саме. Про ім'я в класі <code class=" language-none">Human</code>. Тому розробники мови замислабося над тим, щоб зручно зробити використання одного імені змінної. Іншими словами, навіщо мати два імені для змінної, що позначає одне й те саме. Тобто хотілося б зробити якось так: <img data-max-width="700" alt="Ключове слово this {у прикладах} - 4" src="https://cdn.javarush.com/images/article/eb499d8c-df06-4656-9d51-da83ba68578d/original.jpeg">Але в цьому випадку <u>виникає проблема</u> . У нас тепер дві змінні, які називаються однаково. Один <code class=" language-none">String name</code>належить класу <code class=" language-none">Human</code>, а інший <code class=" language-none">String name</code>його методу <code class=" language-none">setName</code>. Тому Java – машина не знає, яку змінну ви маєте на увазі, коли пишете рядок у сеттері: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">name <span class="token operator"><span class="token operator">=</span></span> name<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Java бере найближчу - <code class=" language-none">name</code>з методу <code class=" language-none">setName</code>: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="5c2f3174-c5ae-4c42-97a5-702bfeeb466e" data-max-width="700" alt="Ключове слово this {у прикладах} - 5" src="https://cdn.javarush.com/images/article/5c2f3174-c5ae-4c42-97a5-702bfeeb466e/512.jpeg" style="width: 700px;">
 </div>
</div>і виходить, що ви просто надаєте значення змінної <code class=" language-none">name</code>з цього методу, їй же. Що звичайно не має жодного сенсу. Тому потрібен був якийсь спосіб, щоб відрізнити змінну з <code class=" language-none">name</code>класу <code class=" language-none">Human</code>, від змінної з <code class=" language-none">name</code>методу . <code class=" language-none">setName</code><code class=" language-none">this</code><code class=" language-none">Human</code>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="4bb572e6-3b10-4122-860e-56f9fa614723" data-max-width="700" alt="Ключове слово this {у прикладах} - 6" src="https://cdn.javarush.com/images/article/4bb572e6-3b10-4122-860e-56f9fa614723/512.jpeg" style="width: 700px;">
 </div>
</div>Тобто <code class=" language-none">this</code>пошлеться на об'єкт, що викликав, як було сказано на початку статті. Внаслідок чого ім'я людини через сетер <code class=" language-none">setName</code>буде встановлено об'єкту, що створюється. Нижче наведено програмний код без використання ключового слова <code class=" language-none">this</code>. У коді створюється об'єкт класу <code class=" language-none">Human</code>та присвоюється йому ім'я: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="e9f92f1a-b12b-4538-b56c-19ad6a1895d1" data-max-width="939" alt="Ключове слово this {у прикладах} - 7" src="https://cdn.javarush.com/images/article/e9f92f1a-b12b-4538-b56c-19ad6a1895d1/800.jpeg" style="width: 939px;">
 </div>
</div>А нижче програмний код з ключовим словом <code class=" language-none">this</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">Human</span></span> human1 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Human</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        human1<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Volodya"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        human1<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Human</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token class-name"><span class="token class-name">String</span></span> name<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> name<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">setName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> name<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>name <span class="token operator"><span class="token operator">=</span></span> name<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>name<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Таким чином, тут <code class=" language-none">this</code>дозволяє не вводити нові змінні для позначення того самого, що дозволяє зробити код менш «перевантаженим» додатковими змінними. 
<div class="email-subscription">
 <iframe frameborder="0" src="https://secure.esputnik.com.ua/4Q0Ef6d2SOs" width="100%" height="200" scrolling="no" data-savepage-key="0-2"></iframe>
</div>
<h2>Приклад другий — Застосування цього для явного виклику конструктора</h2>Виклик одного конструктора з іншого може стати в нагоді тоді, коли у вас (як не дивно) кілька конструкторів і вам не хочеться в новому конструкторі переписувати код ініціалізації, наведений у конструкторі раніше. Заплутав? Все не так страшно, як здається. Подивіться на код нижче, у ньому два конструктори класу <code class=" language-none">Human</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Human</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">int</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">int</span></span> weight<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">int</span></span> height<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token class-name"><span class="token class-name">Human</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> age<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> weight<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>age <span class="token operator"><span class="token operator">=</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>weight <span class="token operator"><span class="token operator">=</span></span> weight<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token class-name"><span class="token class-name">Human</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> age<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> weight<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> height<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token comment"><span class="token comment">//ви викликаєте конструктор із двома параметрами</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>age<span class="token punctuation"><span class="token punctuation">,</span></span> weight<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token comment"><span class="token comment">//і додаєте мінливу змінну</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>height <span class="token operator"><span class="token operator">=</span></span> height<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тут у нас спочатку наводиться конструктор із двома параметрами, який приймає <code class=" language-none">int age</code>і <code class=" language-none">int weight</code>. Допустимо, ми написали в ньому два рядки коду: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>age <span class="token operator"><span class="token operator">=</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>weight <span class="token operator"><span class="token operator">=</span></span> weight<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> а потім вирішабо додати ще один конструктор, з трьома параметрами, який крім віку та ваги набуває ще й зростання. У новому конструкторі ви могли б написати так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>age <span class="token operator"><span class="token operator">=</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>weight <span class="token operator"><span class="token operator">=</span></span> weight<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>height <span class="token operator"><span class="token operator">=</span></span> height<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Але замість того, щоб повторювати вже написаний раніше код цього конструктора, ви можете за допомогою ключового слова <code class=" language-none">this</code>явно викликати конструктор з двома параметрами: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>age<span class="token punctuation"><span class="token punctuation">,</span></span> weight<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token comment"><span class="token comment">// і дописуєте змінну, що бракує:</span></span>
<span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>height <span class="token operator"><span class="token operator">=</span></span> height<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre><a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="f9d5fafe-96dd-484e-97b9-f3cf3e2c67b9" class="img-fluid" alt="Ключове слово this {у прикладах} - 8" src="https://cdn.javarush.com/images/article/f9d5fafe-96dd-484e-97b9-f3cf3e2c67b9/1024.jpeg" style="width: 1024px;"></a>Таким чином, ви ніби говорите конструктору з трьома параметрами: 
<ul>
 <li>Виклич this (цей) конструктор, який має два параметри.</li>
 <li>і додати змінну, що бракує.</li>
</ul>Ось і все =). Насамкінець зазначимо, що ключове слово this в Java використовується лише у складі методів чи конструкторів екземпляра класу. Але неявно ключове слово <code class=" language-none">this</code>передається у всі методи, крім статичних (тому <code class=" language-none">this</code>часто називають неявним параметром) і може бути використане для звернення до об'єкта, що викликав метод. Боятися цього ключового слова не треба, бо <code class=" language-none">This</code>не страшно. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="a9a853e7-3c89-432a-b66f-f122afdf7c50" data-max-width="700" alt="Ключове слово this {у прикладах} - 9" src="https://cdn.javarush.com/images/article/a9a853e7-3c89-432a-b66f-f122afdf7c50/512.jpeg" style="width: 700px;">
 </div>
</div>