Веб-додаток на Java
<p>----------------------------------------</p>
Колись Java зміцнив свої позиції завдяки тому, що вибрав пріоритетним напрямком веб-програми. З перших днів Java намагався знайти свій шлях. Спочатку – запропонував аплети. Це надало багато можливостей розробникам створення динамічного конт
<p>----------------------------------------</p>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="81e98417-8e66-4c88-9695-3ebe693acaf0" data-max-width="256" alt="Веб-додаток на Java - 1" src="https://cdn.javarush.com/images/article/81e98417-8e66-4c88-9695-3ebe693acaf0/256.jpeg" style="width: 256px;">
 </div>
</div>
<h2>Вступ</h2>Колись Java зміцнив свої позиції завдяки тому, що вибрав пріоритетним напрямком веб-програми. З перших днів Java намагався знайти свій шлях. Спочатку – запропонував аплети. Це надало багато можливостей розробникам створення динамічного контенту (вмісту) на статичних HTML сторінках. Проте аплети не виправдали очікувань із багатьох причин: безпека, накладні витрати та інші. Тоді розробники мови Java запропонували альтернативу - <strong>Servlet API</strong> . І це виявилося правильним рішенням. <strong>Servlet API</strong> — це специфікація, на якій побудовано будь-який веб-додаток на Java, будь то програма з веб-інтерфейсом або веб-сервіс, який повертає інформацію згідно з запитом. Тому шлях до розуміння роботи веб-додатків Java починається з розуміння Servlet API. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="cd25ed9c-f802-4dc7-a29f-d2457fcfdbf2" data-max-width="269" alt="Веб-додаток на Java - 2" src="https://cdn.javarush.com/images/article/cd25ed9c-f802-4dc7-a29f-d2457fcfdbf2/256.jpeg" style="width: 269px;">
 </div>
</div>
<h2>Servlet API</h2>Отже, <strong>Servlet API</strong> це те, що запропонували розробники мови Java-розробникам. Servlet API — це специфікація, яка має відповідати на наші основні питання. Знайти її можна тут: " <a href="https://download.oracle.com/otndocs/jcp/servlet-3_1-fr-eval-spec/index.html" target="_blank" rel="nofollow">JSR-000340 JavaTM Servlet 3.1 Final Release for Evaluation</a> ". У розділі " <strong>1.1 What is a Servlet?</strong> " сказано, що <u>сервлет - це веб-компонент</u> , заснований на Java-технології, який створює динамічний контент (тобто вміст). "Заснований на Java-технології" означає, що <strong>сервлет - це Java-клас, скомпільований в байт-код</strong> . Сервлети керуються контейнером сервлетів, який іноді називають Servlet Engine. <u>Сервлет контейнер — це розширення веб-сервера</u>, що надає функціональність сервлетів У свою чергу, сервлети забезпечують взаємодію з клієнтом у парадигмі запит/відповідь, яка й реалізується сервлет-контейнером. У розділі " <strong>1.2 What is a Servlet Container?</strong> " сказано, що <u>сервлет контейнер - це частина веб-сервера</u>або сервера додатків, який надає мережеві сервіси, за допомогою яких надсилаються запити та відповіді, формуються та обробляються MIME-based запити та відповіді. Крім того, сервлет контейнери керують життєвим циклом сервлетів (тобто вирішують, коли їх створювати, видаляти тощо). Всі сервлет контейнери повинні підтримувати протокол HTTP для отримання запитів та надсилання відповідей. Тут хочеться додати, що MIME — це такий стандарт, специфікація, яка каже, як треба кодувати інформацію та форматувати повідомлення, щоб їх можна було пересилати інтернетом. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="230" alt="Веб-додаток на Java - 3" src="https://cdn.javarush.com/images/article/e4dac51c-69b0-4ff6-aabb-9d89fdb2ce2f/original.jpeg">
 </div>
</div>
<h2>Web-server</h2>Веб-сервер - це сервер, який приймає HTTP-запити від клієнтів і видає їм HTTP відповіді (як правило, разом із HTML сторінкою, зображенням, файлом або іншими даними). Затребувані ресурси дізнаються URL-адресаами. Одним із найпопулярніших веб-серверів з підтримкою Servlet API є <a href="https://tomcat.apache.org/download-90.cgi" target="_blank" rel="nofollow">Apache Tomcat</a> . Більшість веб-серверів складні механізми, які складаються з різних компонентів, і кожен з них виконує певні функції. Наприклад: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="9f216a07-8b51-4fd7-b31f-f333a24c3a91" data-max-width="296" alt="Веб-додаток на Java - 4" src="https://cdn.javarush.com/images/article/9f216a07-8b51-4fd7-b31f-f333a24c3a91/256.jpeg" style="width: 296px;">
 </div>
</div>
<h2>Connectors</h2>— На вході ми маємо Connectors (тобто конектори), які приймають вхідні запити від клієнтів. HTTP конектор Tomcat реалізований за допомогою компонента "Coyote". Конектори приймають дані від клієнта і передають їх у Tomcat Engine. <strong>Servlet Container</strong> - Tomcat Engine у ​​свою чергу обробляє отриманий від клієнта request за допомогою компонента "Catalina", який є сервлет контейнером. Докладніше див. документацію Tomcat: " <a href="http://tomcat.apache.org/tomcat-9.0-doc/architecture/overview.html" target="_blank" rel="nofollow">Architecture Overview</a> ". Існують і інші веб-сервери, що підтримують специфікацію Servlet API. Наприклад, " <a href="https://www.eclipse.org/jetty/documentation/current/architecture.html#basic-architecture" target="_blank" rel="nofollow">Jetty</a> " або " <a href="http://undertow.io/undertow-docs/undertow-docs-1.2.0/#architecture-overview" target="_blank" rel="nofollow">Undertow</a> ". Їхня архітектура схожа, тому розуміючи принцип роботи з одним сервлет контейнером, можна перебудуватися на роботу з іншим. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="231" alt="Веб-додаток на Java - 5" src="https://cdn.javarush.com/images/article/d8c11b24-effe-4f43-8085-ece2df5eaa17/original.jpeg">
 </div>
</div>
<h2>Веб-додаток (Web Application)</h2>Отже, щоб ми змогли запустити веб-програму, нам потрібен веб-сервер, який підтримує Servlet API (тобто в якому є компонент-розширення, що реалізує для веб-сервера підтримку Servlet API). Добре. <strong>А що ж таке взагалі веб-додаток? </strong> Згідно з розділом " <strong>10 Web Applications</strong> " специфікації Servlet API, <strong>Web application</strong> - це набір сервлетів, HTML сторінок, класів та інших ресурсів, які становлять кінцевий додаток на веб-сервері. Згідно з розділом " <strong>10.6 Web Application Archive File</strong> ", веб-додаток може бути запакований в Web ARchive (архів з розширенням WAR). Як сказано на сторінці " <strong>Glossary-219</strong> ": 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="c1047032-0cff-479d-b86f-bc83a16811aa" data-max-width="448" alt="Веб-додаток на Java - 6" src="https://cdn.javarush.com/images/article/c1047032-0cff-479d-b86f-bc83a16811aa/256.jpeg" style="width: 448px;">
 </div>
</div>Тобто WAR зроблено замість JAR, щоб показати, що це веб-програма. Наступний важливий факт: маємо бути певна структура каталогів у нашому WAR архіві. У специфікації Servlet API у розділі " <strong>10.5 Directory Structure</strong> ". У цьому розділі сказано, що є особливий каталог, який називається "WEB-INF". Даний каталог особливий тим, що він не видно клієнту і йому не показується, але він доступний для коду сервлетів. Також сказано, що може містити каталог WEB-INF: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="7fcfd600-54e1-4f08-86ae-c633ae81105a" data-max-width="504" alt="Веб-додаток на Java - 7" src="https://cdn.javarush.com/images/article/7fcfd600-54e1-4f08-86ae-c633ae81105a/256.jpeg" style="width: 504px;">
 </div>
</div>З цього списку нам тепер невідомий і незрозумілий пункт про якийсь файл <strong>web.xml</strong> , званий <strong>deployment descriptor</strong> (дескриптор розгортання). Що це таке? Деплойменту дескриптору відведено розділ " <strong>14. Deployment Descriptor</strong> ". Якщо коротко, то <strong>деплоймент дескриптор</strong> - це такий xml файл, який описує, як потрібно розгортати (тобто запускати) на веб-сервері наш веб-додаток. Наприклад, у деплоймент дескрипторі вказується за якими URL потрібно звертатися до нашого додатку, вказуються налаштування безпеки, які відносяться до нашого додатку і т.д. У розділі " <strong>14.2 Rules for Processing the Deployment</strong>" сказано, що web.xml перш ніж наш додаток буде налаштовано і запущено буде провалідовано за схемою (тобто буде виконано перевірку, що вміст web.xml написано правильно згідно зі схемою). А в розділі " 14.3 Deployment Descriptor " зазначено, що <strong>схема</strong> лежить тут: <code class=" language-none">http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd</code> Якщо подивитися на вміст файлу, ми можемо побачити: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="9035c425-c263-4f22-b305-5d9b4a770dfd" data-max-width="494" alt="Веб-додаток на Java - 8" src="https://cdn.javarush.com/images/article/9035c425-c263-4f22-b305-5d9b4a770dfd/256.jpeg" style="width: 494px;">
 </div>
</div>Навіщо використовується схема для XML файлів? У схемах зазначено, як правильно заповнювати XML документ: які елементи можна використовувати, якого типу дані в елементах можуть бути вказані, в якому порядку елементи повинні йти, які обов'язкові елементи і т.д. Можна порівняти схему XML документа з інтерфейсом Java, адже схема Java також вказує, яким чином повинні бути написані класи, які задовольняють даному інтерфейсу (тобто які реалізують даний інтерфейс). Отже, ми озброєні таємними знаннями і готові створювати свій перший веб-додаток! 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="d0c5fe25-79f9-4840-ae4e-85ee31bb82f2" data-max-width="321" alt="Веб-додаток на Java - 9" src="https://cdn.javarush.com/images/article/d0c5fe25-79f9-4840-ae4e-85ee31bb82f2/256.jpeg" style="width: 321px;">
 </div>
</div>
<h2>Створення веб-програми</h2>Роботи із сучасним Java-додатком вже важко уявити без використання систем автоматичного складання проектів. Одними з найпопулярніших систем є <strong>Maven та Gradle</strong> . Скористайтеся даним оглядом Gradle. Установка Gradle описана на <a href="https://gradle.org/install/" target="_blank" rel="nofollow">офіційному сайті</a> . Для створення нової програми нам знадобиться вбудований у Gradle плагін: " <a href="https://docs.gradle.org/current/userguide/build_init_plugin.html" target="_blank" rel="nofollow">Build Init Plugin</a> ". Для створення Java-програми необхідно виконати таку команду: <code class=" language-none">gradle init --type java-application</code>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="fa6b1de0-b722-49d0-81f5-191104eac720" data-max-width="484" alt="Веб-додаток на Java - 10" src="https://cdn.javarush.com/images/article/fa6b1de0-b722-49d0-81f5-191104eac720/256.jpeg" style="width: 484px;">
 </div>
</div>Після створення проекту нам знадобиться відредагувати файл <strong>build.gradle</strong> . Це так званий Build Script (докладніше див. документацію Gradle: " <a href="https://docs.gradle.org/current/userguide/writing_build_scripts.html" target="_blank" rel="nofollow">Writing Build Scripts</a> "). У цьому файлі описується те, як необхідно збирати проект та інші аспекти роботи з Java проектом. У блоці plugins описується, які " <a href="https://docs.gradle.org/current/userguide/plugins.html" target="_blank" rel="nofollow">Gradle плагіни</a> " необхідно використовувати для поточного Gradle проекту. Плагіни розширюють можливості нашого проекту. Наприклад, за умовчанням використовується плагін " <a href="https://docs.gradle.org/current/userguide/java_plugin.html" target="_blank" rel="nofollow">java</a> ". Цей плагін завжди використовується, якщо нам потрібна підтримка Java. Але ось плагін " <a href="https://docs.gradle.org/current/userguide/application_plugin.html" target="_blank" rel="nofollow">application</a>" нам не потрібен, тому що в його описі вказано, що він служить для створення "executable JVM application", тобто виконуваних JVM додатків. Нам же потрібне створення Web додатка у вигляді WAR архіву. пошукаємо слово WAR, знайдемо і " <a href="https://docs.gradle.org/current/userguide/war_plugin.html#header" target="_blank" rel="nofollow">War Plugin</a> ". Отже, вкажемо наступні плагіни: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java">plugins <span class="token punctuation"><span class="token punctuation">{</span></span>
    id <span class="token string"><span class="token string">'java'</span></span>
    id <span class="token string"><span class="token string">'war'</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Так само в " <a href="https://docs.gradle.org/current/userguide/war_plugin.html#sec:war_default_settings" target="_blank" rel="nofollow">War Plugin Default Settings</a> " сказано, що каталог з усім вмістом веб-програми повинен бути "src/main/webapp", там повинен лежати той самий каталог WEB-INF, в якому повинен лежати web.xml. Створимо такий файл. Заповнювати його будемо трохи пізніше, т.к. ми ще не маємо достатньо інформації для цього. У блоці "dependencies" вказуємо залежності нашого проекту, тобто бібліотеки/фреймворки, без яких не може працювати наша програма. В даному випадку ми пишемо веб-додаток, а значить ми не можемо працювати без Servlet API: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java">dependencies <span class="token punctuation"><span class="token punctuation">{</span></span>
    providedCompile <span class="token string"><span class="token string">'javax.servlet:javax.servlet-api:3.1.0'</span></span>
    testCompile <span class="token string"><span class="token string">'junit:junit:4.12'</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Забезпеченакомпіле говорить про те, що залежність не потрібно включати в наш WAR архів веб-додатків: вона потрібна тільки для компіляції. А при виконанні цю залежність буде надано кимось іншим (тобто веб-сервером). Ну і залишаємо в build script інформацію про те, який репозиторій залежностей ми хочемо використовувати - з нього будуть завантажені всі вказані dependencies: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java">repositories <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token function"><span class="token function">jcenter</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Решта з файлу build script'а прибираємо. Тепер відредагуємо клас src\main\java\App.java. Зробимо з нього сервлет. У специфікації Servlet API у розділі " <strong>CHAPTER 2. The Servlet Interface</strong> " сказано, що Servlet Interface має базову реалізацію <a href="https://tomcat.apache.org/tomcat-8.0-doc/servletapi/javax/servlet/http/HttpServlet.html" target="_blank" rel="nofollow">HttpServlet</a> , якої має досить у більшості випадків і розробникам достатньо успадкуватися від неї. На главі " <strong>2.1.1 HTTP Specific Request Handling Methods</strong> " вказані основні методи, які обробляють вхідні запити. Таким чином, перепишемо клас App.java: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">javax<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">ServletException</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">javax<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span>http<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">HttpServlet</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">javax<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span>http<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">javax<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span>http<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>io<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">PrintWriter</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">java<span class="token punctuation"><span class="token punctuation">.</span></span>io<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">IOException</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">App</span></span> <span class="token keyword"><span class="token keyword">extends</span></span> <span class="token class-name"><span class="token class-name">HttpServlet</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getGreeting</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token string"><span class="token string">"Hello world."</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">doGet</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">HttpServletRequest</span></span> req<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">HttpServletResponse</span></span> resp<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token keyword"><span class="token keyword">throws</span></span> <span class="token class-name"><span class="token class-name">ServletException</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">IOException</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
 		<span class="token comment"><span class="token comment">// https://www.oracle.com/technetwork/java/servlet-142430.html</span></span>
 		<span class="token class-name"><span class="token class-name">PrintWriter</span></span> out <span class="token operator"><span class="token operator">=</span></span> resp<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getWriter</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
 		out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getGreeting</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
 		out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">close</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
 	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Отже, у нас начебто все готове. Залишилося правильно написати дескриптор розгортання. Зі схеми скопіюємо в web.xml наступний текст: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token operator"><span class="token operator">&lt;</span></span>web<span class="token operator"><span class="token operator">-</span></span>app xmlns<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span>
      xmlns<span class="token operator"><span class="token operator">:</span></span>xsi<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span></span>
      xsi<span class="token operator"><span class="token operator">:</span></span>schemaLocation<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"..."</span></span>
      version<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"3.1"</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
      <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>web<span class="token operator"><span class="token operator">-</span></span>app<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> А також шлях до схеми, який вказаний у ній: <code class=" language-none">http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd</code> Тепер подивимося приклад того, як має виглядати web.xml у специфікації Servlet API. Цей приклад наведено у розділі " <strong>14.5.1 A Basic Example</strong> " . Сумісний те, що вказано у схемі з прикладом, який вказаний у специфікації. Отримаємо таке: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token operator"><span class="token operator">&lt;</span></span>web<span class="token operator"><span class="token operator">-</span></span>app xmlns<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span>
      xmlns<span class="token operator"><span class="token operator">:</span></span>xsi<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span></span>
      xsi<span class="token operator"><span class="token operator">:</span></span>schemaLocation<span class="token operator"><span class="token operator">=</span></span>"http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>xmlns<span class="token punctuation"><span class="token punctuation">.</span></span>jcp<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>xml<span class="token operator"><span class="token operator">/</span></span>ns<span class="token operator"><span class="token operator">/</span></span>javaee
      http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>xmlns<span class="token punctuation"><span class="token punctuation">.</span></span>jcp<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>xml<span class="token operator"><span class="token operator">/</span></span>ns<span class="token operator"><span class="token operator">/</span></span>javaee<span class="token operator"><span class="token operator">/</span></span>web<span class="token operator"><span class="token operator">-</span></span>app_3_1<span class="token punctuation"><span class="token punctuation">.</span></span>xsd"
      version<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"3.1"</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
      <span class="token operator"><span class="token operator">&lt;</span></span>display<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span><span class="token class-name"><span class="token class-name">A</span></span> <span class="token class-name"><span class="token class-name">Simple</span></span> <span class="token class-name"><span class="token class-name">Web</span></span> <span class="token class-name"><span class="token class-name">Application</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>display<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
      <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>servlet<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
		<span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>app<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
		<span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token operator"><span class="token operator">&gt;</span></span><span class="token class-name"><span class="token class-name">App</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
	  <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">&gt;</span></span>
	  <span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>mapping<span class="token operator"><span class="token operator">&gt;</span></span>
		<span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>app<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
		<span class="token operator"><span class="token operator">&lt;</span></span>url<span class="token operator"><span class="token operator">-</span></span>pattern<span class="token operator"><span class="token operator">&gt;</span></span><span class="token operator"><span class="token operator">/</span></span>app<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>url<span class="token operator"><span class="token operator">-</span></span>pattern<span class="token operator"><span class="token operator">&gt;</span></span>
	  <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>mapping<span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>web<span class="token operator"><span class="token operator">-</span></span>app<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> Як видно, ми використовували схему і schemaLocation, які були вказані раніше. А опис самих елементів взяли з прикладу розділу 14.5.1. Якщо ми зробабо правильно, виконаємо gradle завдання gradle war без помилок: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="333d2b17-2db8-4272-bd1a-065735d325d2" data-max-width="258" alt="Веб-додаток на Java - 11" src="https://cdn.javarush.com/images/article/333d2b17-2db8-4272-bd1a-065735d325d2/256.jpeg" style="width: 258px;">
 </div>
</div>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="7df59e37-ea7d-4ce6-a3a8-778eb80ee440" data-max-width="289" alt="Веб-додаток на Java - 12" src="https://cdn.javarush.com/images/article/7df59e37-ea7d-4ce6-a3a8-778eb80ee440/256.jpeg" style="width: 289px;">
 </div>
</div>
<h2>Запуск веб-програми</h2>Як же відбувається запуск веб-програми? Давайте розберемося спочатку з складнішим варіантом. Ми раніше говорабо, що Apache Tomcat є веб-сервер, який підтримує Servlet API. А це означає, що наш зібраний war архів ми зможемо розгорнути (ще кажуть "задеплоїти") на цьому сервері. На сторінці " <a href="https://tomcat.apache.org/download-90.cgi" target="_blank" rel="nofollow">Download Tomcat</a> " завантажуємо з розділу "Binary Distributions" тип постачання "Core" у форматі zip. І розпакуємо завантажений архів у якийсь каталог, наприклад в C:\apache-tomcat-9.0.14. Перш ніж запускати сервер, відкриємо на редагування файл <code class=" language-none">conf\tomcat-users.xml</code>і додамо до нього наступний рядок: <code class=" language-none">&lt;user username="tomcat" password="tomcat" roles="tomcat,manager-gui,admin-gui"/&gt;</code> Тепер у командному рядку переходимо до каталогу bin і виконуємо <code class=" language-none">catalina.bat start</code>. За промовчанням консоль сервера буде доступна за адресаою<code class=" language-none">http://localhost:8080/manager</code>. Логін та пароль ті самі, які ми вказали у tomcat-users.xml. Tomcat' має каталог "webapps", в якому лежать веб-додатки. Якщо ми хочемо розгорнути своє, ми маємо скопіювати туди свій war архів. Коли ми раніше виконали команду gradle war, то в каталозі <code class=" language-none">\build\libs\</code>створився архів war. Ось його нам і треба скопіювати. Після копіювання оновимо сторінку <code class=" language-none">http://localhost:8080/manager</code>та побачимо: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="b4e5f708-90e4-4416-8f29-ccc6d93af713" data-max-width="794" alt="Веб-додаток на Java - 13" src="https://cdn.javarush.com/images/article/b4e5f708-90e4-4416-8f29-ccc6d93af713/512.jpeg" style="width: 794px;">
 </div>
</div>Виконавши <code class=" language-none">http://localhost:8080/javaweb/app</code>ми звернемося до нашого сервлета, т.к. звернення /app раніше ми "замапабо" (тобто зіставабо) на сервлет App. Існує швидший спосіб перевірити, як працює програма. І в цьому нам знову допомагає система збирання. У build script нашого Gradle проекту ми можемо додати до секції plugins новий плагін " <a href="https://github.com/akhikhl/gretty" target="_blank" rel="nofollow">Gretty</a> ": <code class=" language-none">id "org.gretty" version "2.3.1"</code> І тепер ми можемо виконувати gradle task для запуску нашої програми:<code class=" language-none">gradle appRun</code>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="8128b699-e632-444b-a2a1-113f1c40908c" data-max-width="590" alt="Веб-додаток на Java - 14" src="https://cdn.javarush.com/images/article/8128b699-e632-444b-a2a1-113f1c40908c/512.jpeg" style="width: 590px;">
 </div>
</div>Докладніше див. " <a href="https://guides.gradle.org/building-java-web-applications/#add_the_code_gretty_code_plugin_and_run_the_app" target="_blank" rel="nofollow">Add gretty plugin and run the app</a> ". 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="c03ef9f2-913e-452a-9523-bcf092b34c67" data-max-width="331" alt="Веб-додаток на Java - 15" src="https://cdn.javarush.com/images/article/c03ef9f2-913e-452a-9523-bcf092b34c67/256.jpeg" style="width: 331px;">
 </div>
</div>
<h2>Spring та Servlet API</h2>Сервлети – основа всього. І навіть популярний зараз Spring Framework ніщо інше, як надбудова над Servlet API. Для початку <a href="http://spring-projects.ru/projects/spring-framework/" target="_blank" rel="nofollow">Spring Framework</a> – це нова залежність для нашого проекту. Тому додамо її в build script в блок dependencies: <code class=" language-none">compile 'org.springframework:spring-webmvc:5.1.3.RELEASE'</code> У документації Spring Framework є розділ " <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-servlet" target="_blank" rel="nofollow">1.1. DispatcherServlet</a> ". У ній сказано, що Spring Framework побудований за шаблоном "front controller" - це коли є центральний сервлет, який називається " <strong>DispatcherServlet</strong> ". Всі запити надходять на цей сервлет, а він уже делегує виклики потрібним компонентам. Бачите, навіть тут сервлети. До деплойменту дескриптор необхідно додати listener (слухача): 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>listener<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
	<span class="token operator"><span class="token operator">&amp;</span></span>ltlistener<span class="token operator"><span class="token operator">-</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token operator"><span class="token operator">&gt;</span></span><span class="token class-name"><span class="token namespace"></span><span class="token class-name"><span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>context<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span>ContextLoaderListener</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>listener<span class="token operator"><span class="token operator">-</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>listener<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> Це слухач подій сервлет контексту. Тобто коли стартує Servlet Context, стартує і контекст Spring'а (WebApplicationContext). <strong>Що таке Servlet Context? </strong>Він описаний у специфікації Servle API у розділі " <strong>CHAPTER 4. Servlet Context</strong> " . Сервлет контекст - це "погляд" сервлетів на веб-додаток, всередині якого сервлети запущені. Кожна веб-програма має свій Servlet Context. Далі для включення Spring Framework необхідно вказати context-param - параметр ініціалізації сервлет контексту. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token operator"><span class="token operator">&lt;</span></span>context<span class="token operator"><span class="token operator">-</span></span>param<span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>param<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>contextConfigLocation<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>param<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>param<span class="token operator"><span class="token operator">-</span></span>value<span class="token operator"><span class="token operator">&gt;</span></span><span class="token operator"><span class="token operator">/</span></span>WEB<span class="token operator"><span class="token operator">-</span></span>INF<span class="token operator"><span class="token operator">/</span></span>app<span class="token operator"><span class="token operator">-</span></span>context<span class="token punctuation"><span class="token punctuation">.</span></span>xml<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>param<span class="token operator"><span class="token operator">-</span></span>value<span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>context<span class="token operator"><span class="token operator">-</span></span>param<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> І завершує конфігурацію визначення <strong>DispatcherServlet</strong> : 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>servlet<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>app<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token operator"><span class="token operator">&gt;</span></span><span class="token class-name"><span class="token namespace"></span><span class="token class-name"><span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span>DispatcherServlet</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>init<span class="token operator"><span class="token operator">-</span></span>param<span class="token operator"><span class="token operator">&gt;</span></span>
		<span class="token operator"><span class="token operator">&lt;</span></span>param<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>contextConfigLocation<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>param<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
 		<span class="token operator"><span class="token operator">&lt;</span></span>param<span class="token operator"><span class="token operator">-</span></span>value<span class="token operator"><span class="token operator">&gt;</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>param<span class="token operator"><span class="token operator">-</span></span>value<span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>init<span class="token operator"><span class="token operator">-</span></span>param<span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>load<span class="token operator"><span class="token operator">-</span></span>on<span class="token operator"><span class="token operator">-</span></span>startup<span class="token operator"><span class="token operator">&gt;</span></span><span class="token number"><span class="token number">1</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>load<span class="token operator"><span class="token operator">-</span></span>on<span class="token operator"><span class="token operator">-</span></span>startup<span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">&gt;</span></span>

<span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>mapping<span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>app<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
	<span class="token operator"><span class="token operator">&lt;</span></span>url<span class="token operator"><span class="token operator">-</span></span>pattern<span class="token operator"><span class="token operator">&gt;</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>url<span class="token operator"><span class="token operator">-</span></span>pattern<span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>servlet<span class="token operator"><span class="token operator">-</span></span>mapping<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> І тепер нам залишилося заповнити файл, вказаний у contextConfigLocation. Як це зробити, описано в документації Spring Framework у розділі "1.3.1. Declaration": 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">?</span></span>xml version<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"1.0"</span></span> encoding<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"UTF-8"</span></span><span class="token operator"><span class="token operator">?</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span>beans xmlns<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://www.springframework.org/schema/beans"</span></span>
    xmlns<span class="token operator"><span class="token operator">:</span></span>xsi<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span></span>
    xmlns<span class="token operator"><span class="token operator">:</span></span>p<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://www.springframework.org/schema/p"</span></span>
    xmlns<span class="token operator"><span class="token operator">:</span></span>mvc<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://www.springframework.org/schema/mvc"</span></span>
    xmlns<span class="token operator"><span class="token operator">:</span></span>context<span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"http://www.springframework.org/schema/context"</span></span>
    xsi<span class="token operator"><span class="token operator">:</span></span>schemaLocation<span class="token operator"><span class="token operator">=</span></span>"
        http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>www<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>schema<span class="token operator"><span class="token operator">/</span></span>beans
        http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>www<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>schema<span class="token operator"><span class="token operator">/</span></span>beans<span class="token operator"><span class="token operator">/</span></span>spring<span class="token operator"><span class="token operator">-</span></span>beans<span class="token punctuation"><span class="token punctuation">.</span></span>xsd
        http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>www<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>schema<span class="token operator"><span class="token operator">/</span></span>context
        http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>www<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>schema<span class="token operator"><span class="token operator">/</span></span>context<span class="token operator"><span class="token operator">/</span></span>spring<span class="token operator"><span class="token operator">-</span></span>context<span class="token punctuation"><span class="token punctuation">.</span></span>xsd
        http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>www<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>schema<span class="token operator"><span class="token operator">/</span></span>mvc
        http<span class="token operator"><span class="token operator">:</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">/</span></span>www<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>org<span class="token operator"><span class="token operator">/</span></span>schema<span class="token operator"><span class="token operator">/</span></span>mvc<span class="token operator"><span class="token operator">/</span></span>spring<span class="token operator"><span class="token operator">-</span></span>mvc<span class="token punctuation"><span class="token punctuation">.</span></span>xsd"<span class="token operator"><span class="token operator">&gt;</span></span>

    <span class="token operator"><span class="token operator">&lt;</span></span>context<span class="token operator"><span class="token operator">:</span></span>component<span class="token operator"><span class="token operator">-</span></span>scan base<span class="token operator"><span class="token operator">-</span></span><span class="token keyword"><span class="token keyword">package</span></span><span class="token operator"><span class="token operator">=</span></span><span class="token string"><span class="token string">"com.codegym.javaweb"</span></span><span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
    <span class="token operator"><span class="token operator">&lt;</span></span>mvc<span class="token operator"><span class="token operator">:</span></span>annotation<span class="token operator"><span class="token operator">-</span></span>driven<span class="token operator"><span class="token operator">/</span></span><span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>beans<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> Тут важливо не лише вказати, який пакет сканувати, а й те, що ми хочемо annotation-driven, тобто управляти інструкціями тим, як працюватиме Spring. Залишається тільки створити пакет com.codegym.javaweb та розмістити в ньому клас Spring контролера: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">package</span></span> <span class="token namespace"><span class="token namespace">ru<span class="token punctuation"><span class="token punctuation">.</span></span>codegym<span class="token punctuation"><span class="token punctuation">.</span></span>javaweb</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>stereotype<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">Controller</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>bind<span class="token punctuation"><span class="token punctuation">.</span></span>annotation<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">GetMapping</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>bind<span class="token punctuation"><span class="token punctuation">.</span></span>annotation<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">ResponseBody</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token annotation punctuation"><span class="token annotation punctuation">@Controller</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SpringController</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token annotation punctuation"><span class="token annotation punctuation">@GetMapping</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"/app"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
    <span class="token annotation punctuation"><span class="token annotation punctuation">@ResponseBody</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getGreeting</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> <span class="token string"><span class="token string">"Hello world."</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Запустивши тепер gradle appRun і перейшовши за адресаою, <code class=" language-none">http://127.0.0.1:8080/javaweb/app</code>ми отримаємо все той же Hello World. Як видно, Spring Framework тісно переплітається з Servlet API і використовує його, щоб працювати поверх нього. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="242" alt="Веб-додаток на Java - 16" src="https://cdn.javarush.com/images/article/90b3ed09-fcae-4985-9b96-33cc6c744bd2/original.jpeg">
 </div>
</div>
<h2>Анотації</h2>Як ми бачабо, анотації це зручно. І не ми одні так подумали. Тому в специфікації Servlet API починаючи з версії 3.0 з'явилася глава " <strong>CHAPTER 8 Annotations and pluggability</strong> ", яка вказує, що контейнер контейнери повинні підтримувати можливість вказувати те, що раніше вказувалося в Deployment Descriptor'е через анотації. Таким чином, web.xml можна зовсім видалити з проекту, а над класом сервлету вказувати інструкцію <a href="https://tomcat.apache.org/tomcat-8.0-doc/servletapi/javax/servlet/annotation/WebServlet.html" target="_blank" rel="nofollow">@WebServlet</a>і вказувати, який шлях "мапити" сервлет. Тут начебто все зрозуміло. Але що робити, якщо ми до проекту підключабо Spring, який потребує складніших налаштувань? Тут все трохи складніше. По-перше, у документації Spring сказано, що для налаштування Spring без web.xml потрібно використовувати свій клас, який буде реалізовувати WebApplicationInitializer. Докладніше див. розділ " <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-servlet" target="_blank" rel="nofollow">1.1. DispatcherServlet</a> ". Виходить, що це клас Spring'а. Як тоді використовується Servlet API тут? Насправді, Servlet API 3.0 був доданий <a href="https://tomcat.apache.org/tomcat-8.0-doc/servletapi/javax/servlet/ServletContainerInitializer.html" target="_blank" rel="nofollow">ServletContainerInitializer</a> . Використовуючи особливий механізм Java (називається <a href="https://habr.com/post/118488/" target="_blank" rel="nofollow">SPI</a> ), Spring вказує свій ініціалізатор сервлет контейнера, який називається<code class=" language-none">SpringServletContainerInitializer</code>. У свою чергу, він вже шукає реалізації WebApplicationInitializer і викликає потрібні методи та виконує потрібні налаштування. Докладніше див. " <a href="https://stackoverflow.com/questions/28131102/how-servlet-container-finds-webapplicationinitializer-implementations" target="_blank" rel="nofollow">How servlet container finds WebApplicationInitializer implementations</a> ". Наведені вище настройки можна виконати так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">package</span></span> <span class="token namespace"><span class="token namespace">ru<span class="token punctuation"><span class="token punctuation">.</span></span>codegym<span class="token punctuation"><span class="token punctuation">.</span></span>javaweb<span class="token punctuation"><span class="token punctuation">.</span></span>config</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">WebApplicationInitializer</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>context<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">ContextLoaderListener</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>context<span class="token punctuation"><span class="token punctuation">.</span></span>support<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">AnnotationConfigWebApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">DispatcherServlet</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">javax<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">ServletContext</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">javax<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">ServletException</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">javax<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">ServletRegistration</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">AppInitializer</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">WebApplicationInitializer</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">onStartup</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">ServletContext</span></span> servletContext<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token keyword"><span class="token keyword">throws</span></span> <span class="token class-name"><span class="token class-name">ServletException</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">AnnotationConfigWebApplicationContext</span></span> ctx <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnnotationConfigWebApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token comment"><span class="token comment">// регистрируем конфигурацию созданую высше</span></span>
        ctx<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">register</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">AppConfig</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token comment"><span class="token comment">// добавляем в контекст слушателя с нашей конфигурацией</span></span>
        servletContext<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">addListener</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ContextLoaderListener</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>ctx<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        ctx<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setServletContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>servletContext<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token comment"><span class="token comment">// настраиваем маппинг Dispatcher Servlet-а</span></span>
        <span class="token class-name"><span class="token class-name">ServletRegistration<span class="token punctuation"><span class="token punctuation">.</span></span>Dynamic</span></span> servlet <span class="token operator"><span class="token operator">=</span></span>
                servletContext<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">addServlet</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"dispatcher"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">DispatcherServlet</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>ctx<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        servlet<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">addMapping</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        servlet<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setLoadOnStartup</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тепер за допомогою <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/core.html#beans-java" target="_blank" rel="nofollow">Java-based configuration</a> вкажемо, який пакет сканувати + включимо анотації: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">package</span></span> <span class="token namespace"><span class="token namespace">ru<span class="token punctuation"><span class="token punctuation">.</span></span>codegym<span class="token punctuation"><span class="token punctuation">.</span></span>javaweb<span class="token punctuation"><span class="token punctuation">.</span></span>config</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>context<span class="token punctuation"><span class="token punctuation">.</span></span>annotation<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">ComponentScan</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>context<span class="token punctuation"><span class="token punctuation">.</span></span>annotation<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">Configuration</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>springframework<span class="token punctuation"><span class="token punctuation">.</span></span>web<span class="token punctuation"><span class="token punctuation">.</span></span>servlet<span class="token punctuation"><span class="token punctuation">.</span></span>config<span class="token punctuation"><span class="token punctuation">.</span></span>annotation<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">EnableWebMvc</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token annotation punctuation"><span class="token annotation punctuation">@Configuration</span></span>
<span class="token annotation punctuation"><span class="token annotation punctuation">@EnableWebMvc</span></span>
<span class="token annotation punctuation"><span class="token annotation punctuation">@ComponentScan</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>basePackages <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"com.codegym.javaweb.controllers"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">AppConfig</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> А сам SpringController був перенесений до <code class=" language-none">com.codegym.javaweb.controllers</code>, щоб при скануванні конфігурація не знаходила сама себе, а шукала лише контролери. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="243" alt="Веб-додаток на Java - 17" src="https://cdn.javarush.com/images/article/efe9b1c3-76b6-4474-b755-9237c1bd5e07/original.jpeg">
 </div>
</div>
<h2>Підбиття підсумків</h2>Сподіваюся, цей огляд пролив світло на те, як у Java працюють веб-програми. Це лише верхівка айсберга, але не розуміючи основи, важко розуміти, як працюють технології, засновані на цій основі. Servlet API - центральна частина будь-яких веб-додатків на Java і ми розібралися, як у це вбудовуються інші фреймворки. А для продовження можна переглянути такі матеріали: 
<ul>
 <li>Gradle <a href="https://guides.gradle.org/building-java-web-applications/" target="_blank" rel="nofollow">: Building Java Web</a> Applications</li>
 <li>" <a href="https://www.udemy.com/restful-web-services-with-spring-framework-a-quick-start/" target="_blank" rel="nofollow">RESTful Web Services with Spring Framework - A quick start</a> "</li>
 <li>" <a href="https://www.udemy.com/spring-core/" target="_blank" rel="nofollow">Spring Core</a> "</li>
 <li>" <a href="https://www.youtube.com/watch?v=OQVTyjPzzeo&amp;list=PLwwk4BHih4fjstwgKAHPAuUcjpRUiRh5k" target="_blank" rel="nofollow">Введення в JEE</a> "</li>
</ul>#Viacheslav