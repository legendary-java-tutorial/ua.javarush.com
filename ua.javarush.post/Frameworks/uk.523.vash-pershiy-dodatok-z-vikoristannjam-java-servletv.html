Ваш перший додаток з використанням Java-сервлетів
<p>----------------------------------------</p>
Всім привіт! У цій статті ви познайомитеся з таким базовим поняттям веб-розробки, як сервлети, і зможете написати простий додаток з їх використанням. Щоб уникнути зайвих дій, ми не починатимемо з нуля, і продовжимо роботу над нашим додатком
<p>----------------------------------------</p>
Всім привіт! У цій статті ви познайомитеся з таким базовим поняттям веб-розробки, як сервлети, і зможете написати простий додаток з їх використанням. <img data-max-width="710" alt="Ваш перший додаток з використанням Java-сервлетів - 1" src="https://cdn.javarush.com/images/article/03199ad2-ea0e-498b-99a8-3951aa373dc1/original.jpeg">Щоб уникнути зайвих дій, ми не починатимемо з нуля, і продовжимо роботу над нашим додатком з моєї попередньої <a href="https://codegym.cc/groups/posts/520-vashe-pervoe-prilozhenie-na-hibernate" target="_blank" rel="nofollow">статті про Hibernate</a> . Однак, оскільки ми тільки починаємо знайомитися з сервлетами, я прибрав із програми все, що пов'язано з класом Auto, і залишив лише клас User та дії з ним. Структура проекту виглядатиме так: <img data-max-width="512" class="img-fluid" alt="Ваш перший додаток з використанням Java-сервлетів - 2" src="https://codegym-com.translate.goog/images/article/b062e871-5d0e-40d6-8557-b640962d98c7/original.jpeg">Отже, сервлети! Вікіпедія говорить: "Сервлет є інтерфейсом Java, реалізація якого розширює функціональні можливості сервера. Сервлет взаємодіє з клієнтами за допомогою принципу запит-відповідь." І це справді так. Тут ми вперше стикаємося з поняттям "клієнт-серверна архітектура програми". Суть її цілком проста і уміщається на одній картинці (взята <a href="http://www.4stud.info/networking/lecture5.html" target="_blank" rel="nofollow">звідси</a> ). 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="bcc140bd-bc64-4326-bbcf-202d21ab8ea2" data-max-width="600" alt="Ваш перший додаток з використанням Java-сервлетів - 3" src="https://cdn.javarush.com/images/article/bcc140bd-bc64-4326-bbcf-202d21ab8ea2/512.jpeg" style="width: 600px;">
 </div>
</div>Клієнт звертається до сервера за допомогою надсилання HTTP-запиту. Сервер формує необхідні дані (наприклад, отримує їх із бази даних) та повертає клієнту. Найпростіший приклад: в якійсь соціальній мережі ви натискаєте кнопку "Друзі" і відправляєте таким чином запит серверу. Сервер уточнює у базі даних список ваших друзів і повертає його вам (клієнту). Список HTTP-запитів досить великий, але якщо ви ніколи з ними не стикалися, то для кращого розуміння краще прочитати про них, наприклад, <a href="https://ru.wikipedia.org/wiki/HTTP" target="_blank" rel="nofollow">тут</a> . <span class="text-bold">Наше завдання полягає в наступному:</span> Створити CRUD-додаток із використанням сервлетів. Програма повинна вміти створювати, змінювати та видаляти користувачів з бази даних, використовуючи для цього сервлет, що обробляє запити HTTP. Наш додаток зі статті про Hibernate вже вміло робити це, проте він справлявся прямо з Java-коду, точніше - з методу main(). Тут же запити буде надсилати саме клієнт, тобто Ви :) Перше, що нам потрібно зробити, це додати нові залежності в наш файл pom.xml 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>project xmlns<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0"</span>
         xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>modelVersion<span class="token punctuation">&gt;</span></span><span class="token number">4.0</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>modelVersion<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>itis4<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span><span class="token class-name">UsersDaoProject</span><span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.0</span><span class="token operator">-</span>SNAPSHOT<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>build<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>plugins<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>plugin<span class="token punctuation">&gt;</span></span>
                <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>maven<span class="token punctuation">.</span>plugins<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>maven<span class="token operator">-</span>war<span class="token operator">-</span>plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.6</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>plugins<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>build<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token class-name">PostgreSQL</span>  <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>postgresql<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>postgresql<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">9.4</span><span class="token number">.1212</span><span class="token punctuation">.</span>jre7<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token class-name">Hibernate</span> <span class="token number">5.2</span><span class="token number">.6</span> <span class="token class-name">Final</span> <span class="token operator">--</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>hibernate<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>hibernate<span class="token operator">-</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">5.2</span><span class="token number">.6</span><span class="token punctuation">.</span>Final<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>jstl<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>jstl<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.2</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>javax<span class="token punctuation">.</span>servlet<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>javax<span class="token punctuation">.</span>servlet<span class="token operator">-</span>api<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">3.1</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>webmvc<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">4.3</span><span class="token number">.4</span><span class="token punctuation">.</span>RELEASE<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>project<span class="token operator">&gt;</span></code></pre> Ми додали 3 залежності: 
<ol>
 <li>Сама бібліотека javax.servlet-api;</li>
 <li>Бібліотека тегів JSTL. Вона буде потрібна для створення клієнтської сторони, а саме сторінок JSP;</li>
 <li>Spring-WebMVC. Нам знадобиться один клас Spring'a, про який ми поговоримо трохи згодом.</li>
</ol>Управління роботою сервлетів здійснює контейнер сервлетів. У нашому випадку ми будемо використовувати Apache Tomcat. Досить популярна штука, і, ймовірно, ви вже про нього чули :) Життєвий цикл сервлета складається з наступних кроків: 
<ol>
 <li>У разі відсутності сервлета у контейнері.<br>
  <ul>
   <li>Клас сервлету завантажується контейнером.</li>
   <li>Контейнер створює екземпляр класу сервлету.</li>
   <li>Контейнер викликає метод init(). Цей метод ініціалізує сервлет і викликається в першу чергу до того, як сервлет зможе обслуговувати запити. За весь життєвий цикл метод init() викликається лише один раз.</li>
  </ul></li>
 <li>Обслуговування запиту клієнта. Кожен запит обробляється у окремому потоці. Контейнер викликає метод service() для кожного запиту. Цей метод визначає тип запиту, що прийшов, і розподіляє його у відповідний цьому типу метод для обробки запиту. Розробник сервлету має надати реалізацію цих методів. Якщо надійшов запит, метод якого не реалізований, викликається метод батьківського класу і зазвичай завершується поверненням помилки ініціатору запиту.</li>
 <li>Якщо контейнер необхідно видалити сервлет, він викликає метод destroy(), який знімає сервлет з експлуатації. Подібно до методу init(), цей метод теж викликається одного разу за весь цикл сервлету.</li>
</ol>Наш сервлет виглядатиме досить просто: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">package</span> <span class="token namespace">servlets</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">models<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">services<span class="token punctuation">.</span></span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">RequestDispatcher</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletConfig</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserSimpleServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">UserService</span> service <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>servletConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ServletException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">findAllUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"users"</span><span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RequestDispatcher</span> dispatcher <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/showUsers.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> name <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">saveUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span>  <span class="token function">doPut</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> id <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> service<span class="token punctuation">.</span><span class="token function">findUser</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">updateUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doDelete</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> id <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">deleteUser</span><span class="token punctuation">(</span>service<span class="token punctuation">.</span><span class="token function">findUser</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"/users"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Як бачите, він містить у собі метод init(), про який писалося вище, і реалізує 4 методи, що збігаються з чотирма HTTP-запитами - doGet(), doPost(), doPut() та doDelete(). Кожен із них дозволить нам, відповідно, отримувати, створювати, редагувати та видаляти користувачів. Методи приймають на вхід об'єкти класів javax.servlet.http.HttpServletRequest і javax.servlet.http.HttpServletResponse - тобто запит, що надсилається на сервер, та відповідь, яку отримає клієнт. Усередині методів виконуються необхідні методи класу UserService, формується відповідь клієнту, після чого здійснюється перенаправлення на адресау /users. Наприклад, у методі doGet() ми отримуємо список усіх користувачів. Далі ми створюємо об'єкт класу RequestDispatcher, який дозволяє включати об'єкти в Http-запит, а також перенаправляти його до певного ресурсу (наприклад, клієнтської JSP-сторінці). У методі doPut() (оновлення даних користувача) ми обробляємо HTTP-запит, витягуємо з нього параметри id, name і age, знаходимо користувача із зазначеним id, присвоюємо йому ті name і age, які прийшли разом з ним у запиті, і повертаємось на сторінку /users. Однак, щоб усі ці методи коректно працювали, нам необхідно здійснити налаштування сервлету. Для цього ми використовуємо файл web.xml у папці WEB-INF. нам необхідно здійснити налаштування сервлету. Для цього ми використовуємо файл web.xml у папці WEB-INF. нам необхідно здійснити налаштування сервлету. Для цього ми використовуємо файл web.xml у папці WEB-INF. 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>web<span class="token operator">-</span>app version<span class="token operator">=</span><span class="token string">"3.1"</span>
         xmlns<span class="token operator">=</span><span class="token string">"http://xmlns.jcp.org/xml/ns/javaee"</span>
         xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span><span class="token string">"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"</span><span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>welcome<span class="token operator">-</span>file<span class="token operator">-</span>list<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>welcome<span class="token operator">-</span>file<span class="token operator">&gt;</span>index<span class="token punctuation">.</span>jsp<span class="token operator">&lt;</span><span class="token operator">/</span>welcome<span class="token operator">-</span>file<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>welcome<span class="token operator">-</span>file<span class="token operator">-</span>list<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>servlet<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token class-name">UserSimpleServlet</span><span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>servlet<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">&gt;</span><span class="token class-name"><span class="token namespace">servlets<span class="token punctuation">.</span></span>UserSimpleServlet</span><span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>servlet<span class="token operator">-</span>mapping<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token class-name">UserSimpleServlet</span><span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>url<span class="token operator">-</span>pattern<span class="token operator">&gt;</span><span class="token operator">/</span><span class="token operator">&lt;</span><span class="token operator">/</span>url<span class="token operator">-</span>pattern<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span>mapping<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>filter<span class="token punctuation">&gt;</span></span>
        <span class="token operator">&lt;</span>filter<span class="token operator">-</span>name<span class="token operator">&gt;</span>hiddenHttpMethodFilter<span class="token operator">&lt;</span><span class="token operator">/</span>filter<span class="token operator">-</span>name<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>filter<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">&gt;</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span>HiddenHttpMethodFilter</span><span class="token operator">&lt;</span><span class="token operator">/</span>filter<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>filter<span class="token operator">&gt;</span>

    <span class="token operator">&lt;</span>filter<span class="token operator">-</span>mapping<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>filter<span class="token operator">-</span>name<span class="token operator">&gt;</span>hiddenHttpMethodFilter<span class="token operator">&lt;</span><span class="token operator">/</span>filter<span class="token operator">-</span>name<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span><span class="token class-name">UserSimpleServlet</span><span class="token operator">&lt;</span><span class="token operator">/</span>servlet<span class="token operator">-</span>name<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>filter<span class="token operator">-</span>mapping<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>web<span class="token operator">-</span>app<span class="token operator">&gt;</span></code></pre> Всі теги в цьому файлі, в принципі, інтуїтивно зрозумілі, але пройдемося по них послідовно. &lt;welcome-file-list&gt; - вказана стартова JSP-сторінка, яка відкриватиметься першою під час запуску програми. У нашому випадку, це сторінка index.jsp. &lt;servlet&gt; - реєстрація нашого класу UserSimpleServlet як сервлет. &lt;servlet-mapping&gt; – дуже важливий тег. Він визначає URL, які будуть оброблятися сервлетом. У нашому випадку це взагалі всі URL, тому ми вказуємо просто "/". Але, наприклад, якби у нас була програма з користувачами та їх машинами, то можна було б створити другий сервлет - SimpleAutoServlet. Тоді мапінгом для користувача-сервлета було б "/users" (тобто запити, що стосуються обробки користувачів), а для авто-сервлета - "/autos". І, нарешті, &lt;filter&gt;. Він визначає в собі об'єкт класу org.springframework.web.filter.HiddenHttpMethodFilter. Стаття не стосується Spring'a, тому не розповідатиму про нього в подробицях. Скажу лише, що до нашого додатку він прикручений лише як додаткова фіча. Справа в тому, що для створення сторони клієнта ми будемо використовувати JSP-сторінки. Наші дані відображатимуться на сторінці як таблиця зі списком користувачів. Всередині JSP-сторінок використовуватимуться HTML-теги &lt;form/&gt;. А для надсилання даних з &lt;form/&gt; можуть бути використані лише HTTP-запити GET та POST. Тобто для всіх трьох операцій – оновлення, видалення та створення користувача – нам довелося б використовувати лише POST-запити. Використання PUT та DELETE запитів було б нам недоступним. І, в принципі, це цілком нормально і нескладно реалізувати, але клас HiddenHttpMethodFilter дозволяє нам їх використати. Таким чином, читачеві буде більш очевидно буде видно різниця між операціями в додатку. Зрештою, переходимо до клієнтської частини. Вона представлена ​​п'ятьма JSP-сторінками. index.jsp 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> language<span class="token operator">=</span><span class="token string">"java"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span>Здравствуйте<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
Если вы хотите начать работу с базой данных пользователей <span class="token operator">-</span> <span class="token generics"><span class="token punctuation">&lt;</span>br<span class="token punctuation">&gt;</span></span>
нажмите кнопку ниже<span class="token operator">:</span>

<span class="token operator">&lt;</span>form action <span class="token operator">=</span> <span class="token string">"users"</span> method<span class="token operator">=</span><span class="token string">"get"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"Начать работу с базой данных"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></code></pre> addUser.jsp 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> language<span class="token operator">=</span><span class="token string">"java"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span>Добавить нового пользователя<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span>form action <span class="token operator">=</span> <span class="token string">"/users"</span> method<span class="token operator">=</span><span class="token string">"post"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input required type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">"name"</span> placeholder<span class="token operator">=</span><span class="token string">"Ім'я"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input required type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">"age"</span> placeholder<span class="token operator">=</span><span class="token string">"Возраст"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"Сохранить"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></code></pre> deleteUser.jsp 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> language<span class="token operator">=</span><span class="token string">"java"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span>Удалить пользователя<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>

Вы действительно хотите удалить пользователя $<span class="token punctuation">{</span>param<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token operator">?</span>

<span class="token operator">&amp;</span>lform action<span class="token operator">=</span><span class="token string">"/users/${param.id}"</span> method<span class="token operator">=</span><span class="token string">"post"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"id"</span> value<span class="token operator">=</span><span class="token string">"${param.id}"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"_method"</span> value<span class="token operator">=</span><span class="token string">"delete"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"Удалить"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></code></pre> showUsers.jsp 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> language<span class="token operator">=</span><span class="token string">"java"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">%</span>@ taglib prefix<span class="token operator">=</span><span class="token string">"c"</span> uri<span class="token operator">=</span><span class="token string">"http://java.sun.com/jsp/jstl/core"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span>Список пользователей<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span>table border<span class="token operator">=</span><span class="token string">"2"</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>tr<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>ID<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>Ім'я<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>Возраст<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>Действия<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>c<span class="token operator">:</span>forEach items<span class="token operator">=</span><span class="token string">"${users}"</span> <span class="token keyword">var</span> <span class="token operator">=</span> <span class="token string">"user"</span><span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>tr<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>$<span class="token punctuation">{</span>user<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>td<span class="token punctuation">&gt;</span></span>
                <span class="token operator">&lt;</span>form action <span class="token operator">=</span> <span class="token string">"updateUser.jsp"</span> method<span class="token operator">=</span><span class="token string">"post"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"id"</span> value<span class="token operator">=</span><span class="token string">"${user.getId()}"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"${user.getName()}"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"age"</span> value<span class="token operator">=</span><span class="token string">"${user.getAge()}"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"Изменить"</span> style<span class="token operator">=</span><span class="token string">"float:left"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">"deleteUser.jsp"</span> method<span class="token operator">=</span><span class="token string">"post"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"id"</span> value<span class="token operator">=</span><span class="token string">"${user.getId()}"</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"Удалить"</span> style<span class="token operator">=</span><span class="token string">"float:left"</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token operator">:</span>forEach<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>form action <span class="token operator">=</span> <span class="token string">"addUser.jsp"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"Добавить нового пользователя"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></code></pre> updateUser.jsp 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">%</span>@ page contentType<span class="token operator">=</span><span class="token string">"text/html;charset=UTF-8"</span> language<span class="token operator">=</span><span class="token string">"java"</span> <span class="token operator">%</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>html<span class="token punctuation">&gt;</span></span>
<span class="token generics"><span class="token punctuation">&lt;</span>head<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>title<span class="token punctuation">&gt;</span></span>Изменить данные пользователя<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>body<span class="token punctuation">&gt;</span></span>

Редактировать пользователя

<span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">"/users/${param.id}"</span> method<span class="token operator">=</span><span class="token string">"post"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name <span class="token operator">=</span> <span class="token string">"id"</span> value<span class="token operator">=</span><span class="token string">"${param.id}"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">"name"</span> value<span class="token operator">=</span><span class="token string">"${param.name}"</span> placeholder<span class="token operator">=</span>$<span class="token punctuation">{</span>param<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"text"</span> name<span class="token operator">=</span><span class="token string">"age"</span> value<span class="token operator">=</span><span class="token string">"${param.age}"</span> placeholder<span class="token operator">=</span>$<span class="token punctuation">{</span>param<span class="token punctuation">.</span>age<span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"hidden"</span> name<span class="token operator">=</span><span class="token string">"_method"</span> value<span class="token operator">=</span><span class="token string">"put"</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">"submit"</span> value<span class="token operator">=</span><span class="token string">"Обновить"</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></code></pre> Сторінка JSP (Java Server Page) містить текст двох типів: статичні вихідні дані, які можуть бути оформлені в одному з текстових форматів (HTML, SVG, WML або XML), та JSP-елементи, які конструюють динамічний вміст. Для розуміння того, що таке JSP я дозволю собі скопіпастить шматочок дуже гарної статті одного автора ( <a href="http://java-course.ru/student/book1/jsp/" target="_blank" rel="nofollow">звідси</a> ). "По суті JSP при першому зверненні перетворюється на сервлет і працює вже як сервлет. Це дуже важливо зрозуміти. <span class="text-bold">JSP НЕ Є сторінкою на кшталт HTML-сторінки</span>— програмісту-початківцю важливо чітко усвідомлювати, що це ще один сервлет — просто його висновок не треба програмувати. Його можна просто намалювати. І у потрібні місця підставити дані. Але т.к. JSP-сторінка хоч якось нагадує HTML, то дизайнерові буде простіше. І я ще раз наполегливо говорю початківцям —<span class="text-bold"> JSP є СЕРВЛЕТОМ</span>. Її підготовка з усіма даними відбувається на сервері. Саме там підставляються усі дані. А користувачеві в браузер приходить вже готова HTML-сторінка, на якій ніяких ознак JAVA немає." Ви можете самі переконатися в тому, що JSP-сторінка дійсно є сервлетом, адже на кожній сторінці вказано метод, який необхідно виконати. Наприклад, на стартовій сторінці на сторінці index.jsp вказано, що при натисканні на кнопку "Почати роботу з базою даних" буде виконано method="get". Решту JSP складає звичайна статична HTML-розмітка, тому докладно зупинятися на них не будемо - це тема окремої статті, яких чимало на просторах Інтернету. ми створабо наш додаток, залишилося випробувати його у справі! Для цього нам знадобиться згаданий вище контейнер сервлетів Apache Tomcat. Завантажити кота можна<a href="http://tomcat.apache.org/" target="_blank" rel="nofollow">з офіційного сайту</a> (я використовую 8 версію). Далі нам потрібно створити в IDEA конфігурацію для запуску нашої програми через Tomcat. Для цього відкриваємо вкладку "Edit Configurations", <img data-max-width="900" alt="Ваш перший додаток з використанням Java-сервлетів - 4" src="https://cdn.javarush.com/images/article/c9e7725e-91d4-4a2a-981e-f0b07499dca2/original.jpeg">створюємо нову конфігурацію <img data-max-width="900" alt="Ваш перший додаток з використанням Java-сервлетів - 5" src="https://cdn.javarush.com/images/article/9af9fb9a-7fbd-42df-81ec-787edcddcb35/original.jpeg">та вибираємо Tomcat Server Local. У вкладці Application Server вказуємо шлях до папки, де лежить Tomcat <img data-max-width="512" class="img-fluid" alt="Ваш перший додаток з використанням Java-сервлетів - 6" src="https://codegym-com.translate.goog/images/article/4359aeca-4d8f-445c-9978-179755dcc564/original.jpeg">Далі переходимо на вкладку Deployment. <img data-max-width="800" class="img-fluid" alt="Ваш перший додаток з використанням Java-сервлетів - 7" src="https://codegym-com.translate.goog/images/article/44f46561-cb4c-48a6-b0c6-791ce89e87a1/original.jpeg">Тут здійснюється налаштування розгортання нашої програми на локальному сервері. Наживаємо "+", вибираємо "Artifact"-&gt; Ім'я Вашого Проекту: war (ми будемо збирати додаток у war-файл). <img data-max-width="512" class="img-fluid" alt="Ваш перший додаток з використанням Java-сервлетів." src="https://codegym-com.translate.goog/images/article/5f87d949-130c-4b49-9be2-9859981bd1ab/original.jpeg">Ось, загалом, і все! На сторінці "Server" ви можете побачити, що програма буде працювати за адресаою "http://localhost:8080/". Збережіть цю конфігурацію і якось назвіть (у мене назва конфіга - "Tommy"). Далі, на вкладці Maven в IDEA (праворуч) скористаємося war-плагіном для складання нашого проекту в war-файл (Plugins -&gt; war -&gt; war:war). <img data-max-width="600" alt="Ваша перша програма з використанням Java-сервлетів - 9" src="https://cdn.javarush.com/images/article/8d1ac020-f221-42fd-aacd-02bc8f66b46e/original.jpeg">Після того, як складання було здійснено, запускаємо програму та чекаємо. <img data-max-width="900" alt="Ваш перший додаток з використанням Java-сервлетів - 10" src="https://cdn.javarush.com/images/article/767663ef-f62e-4e4c-917b-b51b33178508/original.jpeg">Успіх! Стартова сторінка запустилася. <a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="0fc0d46a-1ffa-4871-bd29-1bbd82531ae4" class="img-fluid" alt="Ваша перша програма з використанням Java-сервлетів - 11" src="https://cdn.javarush.com/images/article/0fc0d46a-1ffa-4871-bd29-1bbd82531ae4/1024.jpeg" style="width: 1024px;"></a>Тепер натисніть кнопку "Почати роботу з базою даних". Наша JSP сторінка index.jsp сформує GET-запит, який буде оброблений сервером. Сервер сформує відповідь і поверне її нам у вигляді списку всіх існуючих користувачів (якщо вони, звичайно, є у БД). А ось і вони! <img data-max-width="600" alt="Ваша перша програма з використанням Java-сервлетів - 12" src="https://cdn.javarush.com/images/article/c94aa5a0-50eb-4061-aaae-e3e4cc0e9011/original.jpeg"><img data-max-width="600" alt="Ваша перша програма з використанням Java-сервлетів - 13" src="https://cdn.javarush.com/images/article/135566b6-dab7-40a5-b89a-9f4069a00635/original.jpeg">Теж працює! Ось ми і написали наш перший додаток із використанням сервлетів. Як бачите, все виявилося не так вже й складно :) Як домашнє завдання Ви можете, наприклад, повернути в додаток функціонал роботи з автомобілями з попередньої статті. Тобто. створити для автомобілів окремий сервлет та jsp-сторінки та навчити наш додаток виводити список автомобілів користувача, додавати йому нові машини, а також редагувати та видаляти їх. PS Сервлети та JSP - технології досить давні, і на просторах інтернету часто можна зустріти коментарі на кшталт "кому потрібна ця старість?". Відповідь досить проста - вона потрібна насамперед тим, хто працюватиме на справжніх проектах, в яких цілком можливо купа написаного з їх використанням коду. І перепилювати "старі" на щось нове,<a href="http://shop.oreilly.com/product/9780596516680.do" target="_blank" rel="nofollow">"Head First Servlets and JSP"</a> (лише англійською). Її писали самі автори, як і знамениту супер-книгу " Head First Java " , що багатьом може бути гарантом якості:) Сподіваюся, ця стаття була корисна читачам! Якщо Ви хотіли б побачити нові статті – не забудьте підтримати автора у конкурсі, поставивши "Подобається". А краще - "Дуже подобається" :) Дякую за увагу, та успіхів у навчанні!