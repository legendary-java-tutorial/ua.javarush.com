Деплой Java-програм у хмарну платформу Amazon Web Services (AWS)
<p>----------------------------------------</p>
Всім привіт! Кожному розробнику рано чи пізно доводиться деплоїти свої програми у хмару. У моєму випадку, після розробки телеграм-бота стало просто необхідно знайти йому пристойний хостинг. Сама ідея розробки бота та використані інструменти
<p>----------------------------------------</p>
Всім привіт! Кожному розробнику рано чи пізно доводиться деплоїти свої програми у хмару. У моєму випадку, після розробки телеграм-бота <a href="https://t.me/rabotaUkraineBot" target="_blank" rel="nofollow">@rabotaUkraineBot</a> стало просто необхідно знайти йому пристойний хостинг. Сама ідея розробки бота та використані інструменти для реалізації описані в окремій <a href="https://codegym.cc/groups/posts/2320-telegram-bot-dlja-poiska-rabotih" target="_blank" rel="nofollow">статті</a> . Кандидатами у виборі хмарної платформи були сервіси чотирьох відомих гігантів - Amazon Web Services (AWS), Google, Azure і Heroku. При виборі хостингу для себе я поставив такі пріоритети: мінімальна ціна, зручність деплою, наявність додаткових сервісів, гнучкість. Не занурюватиму Вас в аналітику та порівняння, повідомлю відразу переможця — AWS. <img data-id="8e607ed5-7dec-448b-b6c1-e5932473330a" data-max-width="850" alt="Деплой Java-додатків у хмарну платформу Amazon Web Services (AWS) - 1" src="https://cdn.javarush.com/images/article/8e607ed5-7dec-448b-b6c1-e5932473330a/800.jpeg" style="width: 850px;">Чому ви запитаєте AWS? Тому що: 
<ul>
 <li>рік безкоштовного використання <a href="https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;uact=8&amp;ved=2ahUKEwis0-H5_MjjAhUws4sKHfhZCWgQFjAAegQIBRAC&amp;url=https%3A%2F%2Faws.amazon.com%2Fru%2Ffree%2F&amp;usg=AOvVaw21M3Z71PSkI-vi-rBg_lVY" target="_blank" rel="nofollow">AWS Free Tier</a> , безкоштовних ресурсів у рамках цієї пропозиції для мого завдання вистачає з лишком;</li>
 <li>у AWS все Elastic, тобто. все гнучке та еластичне. Завдяки цьому при деплоі вашої програми абсолютно не потрібні навички DevOps;</li>
 <li>AWS останні два роки вкладає колосальні кошти у розвиток, нові сервіси з'являються щомісяця.</li>
</ul>А тепер перейдемо до підготовки програми і власне самого деплою в хмари AWS. Для зручності використання було обрано сервіс <a href="https://aws.amazon.com/ru/elasticbeanstalk/" target="_blank" rel="nofollow">Elastic Beanstalk</a> для деплою програми. З його допомогою ви через браузер завантажите свою програму і все! Так-так, AWS сам налаштує інфраструктуру і виділить потрібний пул ресурсів. Так як мій бот написаний на SpringBoot, все що потрібно - це зібрати war за допомогою spring-boot-maven-plugin і перевірити коректну роботу програми на локально розгорнутому <a href="https://codegym.cc/groups/posts/tomcat-v-java" target="_blank" rel="nofollow">Tomcat</a> . Дуже важливе зауваження, перед складання потрібно в application.properties поставити номер порту 5000: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class=" language-java">server<span class="token punctuation">.</span>port<span class="token operator">=</span><span class="token number">5000</span></code></pre> Якщо цього не зробити, доведеться конфігурувати налаштування порту в консолі AWS за що може бути взята додаткова плата з боку AWS т.к. це виходить за межі надання безкоштовного сервісу AWS Free Tier. Сам процес деплою абсолютно не складний і робиться згідно з офіційним гайдом <a href="https://docs.aws.amazon.com/en_us/elasticbeanstalk/latest/dg/GettingStarted.html" target="_blank" rel="nofollow">Getting Started Using Elastic Beanstalk</a> . З особливостей, на які слід звернути увагу: 
<ul>
 <li>при складанні програми не забути налаштувати порт як зазначено вище;</li>
 <li>при реєстрації в AWS вам знадобиться платіжна картка з щонайменше 1$ на рахунку (при валідації картки Amazon блокує 1$);</li>
 <li>уважно вивчіть обмеження безкоштовного сервісу AWS Free Tier, щоб не потрапити на гроші;</li>
 <li>якщо після деплою програма не працює, як очікувалося, логи Tomcat ви знайдете в меню Logs в Environment вашої програми.</li>
</ul>А що робити за рік після використання безкоштовного періоду, запитаєте ви? Є кілька варіантів вирішення питання: 
<ol>
 <li>почати платити гроші відповідно до використаних ресурсів;</li>
 <li>перейти на сервіс Amazon Lightsail (там дешевше);</li>
 <li>переписати програму з використанням AWS Lambda та отримати безкоштовних хостинг;</li>
 <li>відкрити новий обліковий запис із сервісами AWS Free Tier і задеплоїти туди вашу програму, тобто. відтягнути вирішення питання ще на один рік.</li>
</ol>Зараз AWS при реєстрації нового облікового запису перевіряє лише унікальність e-mail. Підсумуємо: у хмари AWS ви можете легко задеплоїти свою програму — дуже швидко і абсолютно безкоштовно на перший рік. Завдяки сервісам AWS ми можемо сконцентруватися на розробці, все інше за нас зробить AWS, тому що там все Elastic.