Spring для лінивих. Основи, базові концепції та приклади з кодом. Частина 2
<p>----------------------------------------</p>
я двома словами пояснив, що таке спринг, що таке біни і контекст. Тепер настав час спробувати, як це все працює. Я буду робити в Intellij Idea Enterprise Edition. Але всі мої приклади повинні також працювати і в безкоштовній Intellij Idea C
<p>----------------------------------------</p>
<a href="https://codegym.cc/groups/posts/476-spring-dlja-lenivihkh-osnovih-bazovihe-koncepcii-i-primerih-s-kodom-chastjh-1" target="_blank" rel="nofollow">Минулої статті</a> я двома словами пояснив, що таке спринг, що таке біни і контекст. Тепер настав час спробувати, як це все працює. <img data-max-width="850" alt="Spring для лінивих.  Основи, базові концепції та приклади з кодом.  Частина 2 - 1" src="https://cdn.javarush.com/images/article/5c7f95e8-7e61-4cfb-a114-e7aecc9dd4e1/1024.jpeg">Я буду робити в Intellij Idea Enterprise Edition. Але всі мої приклади повинні також працювати і в безкоштовній Intellij Idea Community Edition. Просто якщо побачите на скріншотах, що у мене є якесь вікно, якого немає у вас - не переживайте, для цього проекту це не критично :) Для початку створюємо порожній проект. Я показував як це зробити <a href="https://codegym.cc/groups/posts/305-sozdanie-prosteyshego-web-proekta-v-intellij-idea-enterprise-edition-poshagovo-s-kartinkami" target="_blank" rel="nofollow">в статті</a> (читати до слів " <em>Настав час наш мавен-проект перетворити на web-проект.</em> ", після цього там вже показується як зробити веб-проект, а цього нам зараз не потрібно) Створимо в папці <strong>src/main /java</strong>якийсь пакет (у моєму випадку я його назвав " <code class=" language-none">com.codegym.info.fatfaggy.animals</code>", ви можете назвати як хочете, просто в потрібних місцях не забудьте на свою назву замінювати). І створимо клас <code class=" language-none">Main</code>у якому зробимо метод 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Після чого відкриємо файл pom.xml і додамо розділ <code class=" language-none">dependencies</code>. Тепер йдемо до <a href="https://mvnrepository.com/" target="_blank" rel="nofollow">мавенівського репозиторію</a> і шукаємо там <em>spring context</em> останньої стабільної версії, і вставляємо те, що отримали всередину розділу <code class=" language-none">dependencies</code>. Трохи докладніше я описав цей процес <a href="https://codegym.cc/groups/posts/328-sozdanie-prostogo-veb-prilozhenija-na-servletakh-i-jsp-chastjh-1" target="_blank" rel="nofollow">у цій статті</a> (див. розділ " <em>Підключення залежностей у мавені</em> "). Тоді мавен сам знайде і скачає потрібні залежності, і в результаті у вас має вийти щось на кшталт такого: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="eeb4aff7-a1b9-4f57-85ed-fb9344c2ada1" data-max-width="740" alt="Spring для лінивих.  Основи, базові концепції та приклади з кодом.  Частина 2 - 2" src="https://cdn.javarush.com/images/article/eeb4aff7-a1b9-4f57-85ed-fb9344c2ada1/512.jpeg" style="width: 740px;">
 </div>
</div>У лівому віконці видно структуру проекту з пакетом та класом <code class=" language-none">Main</code>. У середньому вікні показано, як у мене виглядає pom.xml. Я ще додав туди розділ <em>properties</em> , в якому вказав мавену, яка у мене версія джави використовується у вихідниках і в яку версію компілювати. Це просто, щоб ідея попередження мені не кидала при запуску, що використовується стара версія джави. Можете робити, можете ні) У правому вікні — видно що хоч ми і підключабо тільки spring context — він автоматично за собою підтягнув ще й core, beans, aop і expression. Можна було підключати окремо кожен модуль, прописуючи в пам'ятці для кожного залежність із явною вказівкою версії, але нас поки що влаштовує і такий варіант, як є зараз. Тепер створимо пакет <code class=" language-none">entities</code>(сутності) і в ньому створимо 3 класи: <code class=" language-none">Cat</code>,<code class=" language-none">Dog</code>, <code class=" language-none">Parrot</code>. Нехай кожна тварина матиме ім'я ( <code class=" language-none">private String name</code>, можете захардкодувати туди якісь значення), і гетери/сетери публічні. Тепер переходимо в клас <code class=" language-none">Main</code>і в методі <code class=" language-none">main()</code>пишемо щось на кшталт такого: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token comment"><span class="token comment">// створюємо порожній спринговий контекст, який шукатиме свої біни за анотаціями у вказаному пакеті</span></span>
	<span class="token class-name"><span class="token class-name">ApplicationContext</span></span> context <span class="token operator"><span class="token operator">=</span></span>
		<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"com.codegym.info.fatfaggy.animals.entities"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

	<span class="token class-name"><span class="token class-name">Cat</span></span> cat <span class="token operator"><span class="token operator">=</span></span> context<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getBean</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Cat</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token class-name"><span class="token class-name">Dog</span></span> dog <span class="token operator"><span class="token operator">=</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Dog</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> context<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getBean</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"dog"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token class-name"><span class="token class-name">Parrot</span></span> parrot <span class="token operator"><span class="token operator">=</span></span> context<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getBean</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"parrot-kesha"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Parrot</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

	<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>cat<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>dog<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>parrot<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Спочатку ми створюємо об'єкт контексту, і в конструкторі вказуємо йому ім'я пакета, яке треба сканувати на наявність у ньому бінів. Тобто спринг пройдеться цим пакетом і спробує знайти такі класи, які відзначені спеціальними анотаціями, що дають спрингу зрозуміти, що це — бін. Після чого він створює об'єкти цих класів і поміщає їх у контекст. Після чого ми отримуємо із цього контексту котика. Звертаючись до об'єкта контексту, ми просимо його дати нам бін (об'єкт), і вказуємо, якого класу об'єкт нам потрібен (тут, до речі, можна вказувати не лише класи, а й інтерфейси). Після чого нам спринг повертає об'єкт цього класу, який ми вже зберігаємо в змінну. Далі ми просимо спринг дістати нам бін, який називається "dog". Коли спринг створюватиме об'єкт класу<code class=" language-none">Dog</code>— то він дасть йому стандартне ім'я (якщо явно не вказано ім'я біну, що створюється), яке є назвою класу об'єкта, тільки з маленької літери. Тому оскільки клас у нас називається <code class=" language-none">Dog</code>, то ім'я такого бина буде "dog". Якби у нас там був об'єкт <code class=" language-none">BufferedReader</code>, то йому спринг дав би ім'я за замовчуванням "bufferedReader". І оскільки в даному випадку (у джави) немає точної впевненості якого саме класу буде такий об'єкт — то повертається просто якийсь <code class=" language-none">Object</code>, який ми вже потім ручками кастимо до потрібного нам типу<code class=" language-none">Dog</code>. Варіант із явною вказівкою класу зручніший. Ну і в третьому випадку ми отримуємо бін за класом та на ім'я. Просто може бути така ситуація, що в контексті виявиться кілька бінів якогось одного класу, і для того, щоб вказати, який саме бін нам потрібен — вказуємо його ім'я. Оскільки ми тут теж явно вказали клас, то й кастити нам уже не доводиться. <mark>Важливо!</mark>Якщо виявиться так, що спринг знайде кілька бінів за тими вимогами, що ми йому вказали — він не зможе визначити, який саме бін нам дати і кине виняток. Тому намагайтеся вказувати йому максимально точно який бін вам потрібен, щоб не виникло таких ситуацій. Якщо спринг не знайде у себе в контексті взагалі жодного бина за вашими умовами, він теж кине виняток. Ну і далі ми просто виводимо імена наших тварин на екран, щоб переконатися, що це реально саме ті об'єкти, які нам потрібні. Але якщо ми запустимо програму зараз, то побачимо, що спринг лається, що не може знайти у себе в контексті потрібних нам тварин. Так сталося тому, що не створив ці біни. Як я вже казав, коли спринг сканує класи - він шукає "свої" спрингові анотації там. І якщо не знаходить — то й не сприймає такі класи, як ті, біни яких йому треба створити. Щоб пофіксувати це, досить просто в класах наших тварин додати анотацію<code class=" language-none">@Component</code>перед класом. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Component</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Cat</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> name <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Барсик"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Але це не все. Якщо нам треба явно вказати спрингу, то бін для цього класу повинен мати якесь певне ім'я — це ім'я можна вказати в дужках після анотації. Наприклад, щоб спринг дав потрібне нам ім'я " <code class=" language-none">parrot-kesha</code>" біну папужки, яким ми в <code class=" language-none">main</code>-е потім цього папужки будемо отримувати - треба зробити приблизно так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Component</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"parrot-kesha"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Parrot</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">String</span></span> name <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"Кеша"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> У цьому вся суть <strong>автоматичної конфігурації</strong> . Ви пишете ваші класи, відзначаєте їх потрібними анотаціями, і вказуєте спрингу пакет з вашими класами, яким він йде, шукає анотації та створює об'єкти таких класів. До речі, спринг шукатиме не лише анотації <code class=" language-none">@Component</code>, а й усі інші анотації, які успадковуються від цієї. Наприклад, <code class=" language-none">@Controller</code>, <code class=" language-none">@RestController</code>, <code class=" language-none">@Service</code>, <code class=" language-none">@Repository</code>та інші, з якими ми познайомимося в подальших статтях. Тепер спробуємо зробити те саме, але <strong>використовуючи java-конфігурацію</strong> . Для початку - видалимо інструкції<code class=" language-none">@Component</code>із наших класів. Для ускладнення завдання уявімо, що це не наші самописні класи, які ми можемо легко модифікувати, додавати щось, у тому числі і анотації. А начебто ці класи лежать запакованими в якійсь бібліотеці. У такому разі ми не можемо ніяк ці класи правити, щоб вони були сприйняті спрингом. Але ж об'єкти цих класів нам потрібні! Тут нам знадобиться java-конфігурація для створення таких об'єктів. Для початку, створимо пакет наприклад <code class=" language-none">configs</code>, а в ньому - звичайний джава клас наприклад <code class=" language-none">MyConfig</code>і позначимо його анотацією<code class=" language-none">@Configuration</code>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Configuration</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">MyConfig</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тепер нам потрібно трохи підправити в методі <code class=" language-none">main()</code>те, як ми створюємо контекст. Ми можемо або прямо вказати там наш клас зі зміною: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ApplicationContext</span></span> context <span class="token operator"><span class="token operator">=</span></span>
	<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">MyConfig</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Якщо у нас кілька різних класів, де ми виробляємо створення бінів і ми хочемо підключити одразу кілька з них — просто вказуємо їх через кому: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ApplicationContext</span></span> context <span class="token operator"><span class="token operator">=</span></span>
	<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">MyConfig</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">MyAnotherConfig</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Ну і якщо у нас їх дуже багато, і ми хочемо їх підключити відразу все — просто вказуємо назву пакета, в якому вони у нас лежать: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ApplicationContext</span></span> context <span class="token operator"><span class="token operator">=</span></span>
	<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"com.codegym.info.fatfaggy.animals.configs"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> У такому випадку спринг пройдеться по цьому пакету і знайде всі класи, які позначені анотацією <code class=" language-none">@Configuration</code>. Ну і на випадок, якщо у нас реально велика програма, де конфіги розбиті по різних пакетах — просто вказуємо назву пакетів із конфігами через кому: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ApplicationContext</span></span> context <span class="token operator"><span class="token operator">=</span></span>
	<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"com.codegym.info.fatfaggy.animals.database.configs"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
		<span class="token string"><span class="token string">"com.codegym.info.fatfaggy.animals.root.configs"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
		<span class="token string"><span class="token string">"com.codegym.info.fatfaggy.animals.web.configs"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Ну чи назва більш спільного для всіх них пакета: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ApplicationContext</span></span> context <span class="token operator"><span class="token operator">=</span></span>
	<span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnnotationConfigApplicationContext</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"com.codegym.info.fatfaggy.animals"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Можете в себе зробити як хочете, але мені здається, перший варіант, де вказується просто клас з конфігами, підійде нашій програмі найкраще. При створенні контексту спринг шукатиме ті класи, які позначені анотацією <code class=" language-none">@Configuration</code>і створить об'єкти цих класів у себе. Після чого він спробує викликати методи у цих класах, які позначені анотацією <code class=" language-none">@Bean</code>, що означає, що такі методи повертатимуть бины (об'єкти), що він помістить собі у контекст. Ну що ж, тепер створимо біни котика, собачки та папужки у нашому класі з java-конфігурацією. Робиться це досить просто: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Bean</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Cat</span></span> <span class="token function"><span class="token function">getCat</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Cat</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Виходить, ми тут самі вручну створабо нашого котика і дали спрингу, а він уже помістив цей наш об'єкт до себе в контекст. Оскільки ми явно не вказували ім'я нашого біна, то спринг дасть бину таке ж ім'я, як і назва методу. У нашому випадку, бін кота матиме ім'я " <code class=" language-none">getCat</code>". Але так як в <code class=" language-none">main</code>-е ми все-одно отримуємо кота не по імені, а по класу - то в даному випадку нам ім'я цього бина не важливо. Аналогічно зробіть і бін із собачкою, але врахуйте, що спринг назве такий бін за назвою методу. Щоб явно задати ім'я нашому біну з папужкою просто вказуємо його ім'я в дужках після анотації <code class=" language-none">@Bean</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Bean</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"parrot-kesha"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Object</span></span> <span class="token function"><span class="token function">weNeedMoreParrots</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Parrot</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Як видно, тут я вказав тип значення, що повертається <code class=" language-none">Object</code>, а метод назвав взагалі як завгодно. На назву бина це ніяк не впливає, тому що ми його явно тут задаємо. Але краще все-таки тип значення, що повертається, і ім'я методу вказувати не "зі стелі", а більш-менш зрозуміло. Просто навіть для самих себе, коли за рік відкриєте цей проект. :) Тепер розглянемо ситуацію, коли <strong>для створення одного біну нам потрібно використовувати інший бін</strong> . Наприклад, ми хочемо, щоб ім'я кота в біні кота складалося з імені папужки та рядка "-killer". Без проблем! 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Bean</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Cat</span></span> <span class="token function"><span class="token function">getCat</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Parrot</span></span> parrot<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token class-name"><span class="token class-name">Cat</span></span> cat <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Cat</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	cat<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>parrot<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">"-killer"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token keyword"><span class="token keyword">return</span></span> cat<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тут спринг побачить, що перед тим, як створювати цей бін, йому доведеться сюди передати вже створений бін папужки. Тому він вибудує ланцюжок викликів наших методів так, щоб спочатку зголосився метод зі створення папужки, а потім вже передасть цього папужки в метод зі створення кота. Тут спрацювала та штука, яка називається <strong>dependency injection</strong> : спринг сам передав потрібний бін папужки в наш метод. Якщо ідея буде лаятися на змінну <code class=" language-none">parrot</code>– не забудьте змінити тип значення, що повертається в методі зі створення папужки з <code class=" language-none">Object</code>на <code class=" language-none">Parrot</code>. Крім того, джава-конфігурування дозволяє виконувати <strong>абсолютно будь-який джава-код</strong>у методах зі створення бінів. Можна робити реально будь-що: створювати інші допоміжні об'єкти, викликати будь-які інші методи, навіть не помічені спринговими анотаціями, робити цикли, умови - що тільки на думку спаде! Цього всього за допомогою автоматичної конфігурації, і тим більше використанням xml-конфігів - не домогтися. 
<div class="email-subscription">
 <iframe frameborder="0" src="https://secure.esputnik.com.ua/4Q0Ef6d2SOs" width="100%" height="200" scrolling="no" data-savepage-key="0-2"></iframe>
</div><strong>Тепер розглянемо завдання веселіше. З поліморфізмом та інтерфейсами :)</strong> Створимо інтерфейс <code class=" language-none">WeekDay</code>, і створимо 7 класів, які імплементували цей інтерфейс: <code class=" language-none">Monday</code>, <code class=" language-none">Tuesday</code>, <code class=" language-none">Wednesday</code>, <code class=" language-none">Thursday</code>, <code class=" language-none">Friday</code>, <code class=" language-none">Saturday</code>, <code class=" language-none">Sunday</code>. Створимо в інтерфейсі метод <code class=" language-none">String getWeekDayName()</code>, який повертав назву дня тижня відповідного класу. Тобто, клас <code class=" language-none">Monday</code>повертав би " <code class=" language-none">monday</code>", ітд. Допустимо, стоїть завдання при запуску нашої програми помістити в контекст такий бін, який би відповідав поточному дню тижня. Не всі біни всіх класів, які імплементують <code class=" language-none">WeekDay</code>інтерфейс, лише потрібний нам. Це можна зробити приблизно так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Bean</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">WeekDay</span></span> <span class="token function"><span class="token function">getDay</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token class-name"><span class="token class-name">DayOfWeek</span></span> dayOfWeek <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">LocalDate</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">now</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getDayOfWeek</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token keyword"><span class="token keyword">switch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>dayOfWeek<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token keyword"><span class="token keyword">case</span></span> MONDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Monday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">case</span></span> TUESDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Tuesday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">case</span></span> WEDNESDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Wednesday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">case</span></span> THURSDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Thursday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">case</span></span> FRIDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Friday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">case</span></span> SATURDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Saturday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">default</span></span><span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Sunday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тут тип значення, що повертається - це наш інтерфейс, а повертаються шляхом реальні об'єкти класів-реалізацій інтерфейсу в залежності від поточного дня тижня. Тепер у методі <code class=" language-none">main()</code>ми можемо зробити так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">WeekDay</span></span> weekDay <span class="token operator"><span class="token operator">=</span></span> context<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getBean</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">WeekDay</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token keyword"><span class="token keyword">class</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"It's "</span></span> <span class="token operator"><span class="token operator">+</span></span> weekDay<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getWeekDayName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">" today!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Мені видало, що сьогодні неділя :) Впевнений, що якщо я запущу програму завтра, то в контексті виявиться зовсім інший об'єкт. Зверніть увагу, тут ми отримуємо бін просто за інтерфейсом: <code class=" language-none">context.getBean(WeekDay.class)</code>. Спрінг подивиться у своєму контексті який із бінів у нього там імплементує такий інтерфейс — його й поверне. Ну а далі вже виходить, що у змінній типу <code class=" language-none">WeekDay</code>виявився об'єкт типу <code class=" language-none">Sunday</code>, і починається вже знайомий усім нам поліморфізм, при роботі із цією змінною. :) І кілька слів про <strong>комбінований підхід</strong> , де частина бінів створюється спрингом самостійно, використовуючи сканування пакетів на наявність класів з анотацією <code class=" language-none">@Component</code>, а деякі інші біни – створюються вже використовуючи java-конфіг. Для цього повернемося до початкового варіанту, коли класи <code class=" language-none">Cat</code>, <code class=" language-none">Dog</code>і<code class=" language-none">Parrot</code>були відзначені інструкцією <code class=" language-none">@Component</code>. Припустимо, ми хочемо створити біни наших тварин за допомогою <strong>автоматичного сканування</strong> пакету <code class=" language-none">entities</code>спрингом, а ось бін з днем ​​тижня створювати так, як ми тільки-но зробабо. Все що треба зробити - це додати на рівні класу <code class=" language-none">MyConfig</code>, який ми вказуємо при створенні контексту в <code class=" language-none">main</code>-е анотацію <code class=" language-none">@ComponentScan</code>, і вказати в дужках пакет, який треба просканувати та створити біни потрібних класів автоматично: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Configuration</span></span>
<span class="token annotation punctuation"><span class="token annotation punctuation">@ComponentScan</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"com.codegym.info.fatfaggy.animals.entities"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">MyConfig</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token annotation punctuation"><span class="token annotation punctuation">@Bean</span></span>
	<span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">WeekDay</span></span> <span class="token function"><span class="token function">getDay</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
		<span class="token class-name"><span class="token class-name">DayOfWeek</span></span> dayOfWeek <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">LocalDate</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">now</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getDayOfWeek</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token keyword"><span class="token keyword">switch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>dayOfWeek<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
			<span class="token keyword"><span class="token keyword">case</span></span> MONDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Monday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token keyword"><span class="token keyword">case</span></span> TUESDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Tuesday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token keyword"><span class="token keyword">case</span></span> WEDNESDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Wednesday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token keyword"><span class="token keyword">case</span></span> THURSDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Thursday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token keyword"><span class="token keyword">case</span></span> FRIDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Friday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token keyword"><span class="token keyword">case</span></span> SATURDAY<span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Saturday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
			<span class="token keyword"><span class="token keyword">default</span></span><span class="token operator"><span class="token operator">:</span></span> <span class="token keyword"><span class="token keyword">return</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Sunday</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
		<span class="token punctuation"><span class="token punctuation">}</span></span>
	<span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Виходить, що при створенні контексту спринг бачить, що потрібно обробити клас <code class=" language-none">MyConfig</code>. Заходить у нього і бачить, що потрібно просканувати пакет " <code class=" language-none">com.codegym.info.fatfaggy.animals.entities</code>" і створити біни тих класів, після чого виконує метод <code class=" language-none">getDay()</code>із класу <code class=" language-none">MyConfig</code>і додає бін типу <code class=" language-none">WeekDay</code>собі в контекст. У методі <code class=" language-none">main()</code>ми тепер маємо доступ до всіх потрібних нам бінів: і до об'єктів тварин, і до бина з днем ​​тижня. Як зробити так, щоб спринг підхопив ще й якісь xml-конфіги - нагугліть в інтернеті самостійно, якщо знадобиться :) <strong>Резюме:</strong>
<ul>
 <li>намагатися використовувати автоматичну конфігурацію;</li>
 <li>при автоматичної конфігурації вказуємо ім'я пакета, де лежать класи, біни яких треба створити;</li>
 <li>такі класи позначаються анотацією<code class=" language-none">@Component;</code></li>
 <li>спринг проходить за всіма такими класами і створює їх об'єкти і поміщає собі в контекст;</li>
 <li>якщо автоматична конфіграція нам з якихось причин не підходить – використовуємо java-конфігурування;</li>
 <li>у такому разі створюємо звичайний джава клас, методи якого повертатимуть потрібні нам об'єкти, і помічаємо такий клас анотацією <code class=" language-none">@Configuration</code>на випадок, якщо скануватимемо весь пакет повністю, а не вказувати конкретний клас із конфігурацією при створенні контексту;</li>
 <li>методи цього класу, які повертають біни - позначаємо інструкцією <code class=" language-none">@Bean</code>;</li><il>
  якщо хочемо підключити можливість автоматичного сканування під час використання java-конфігурації - використовуємо інструкцію 
  <code class=" language-none">@ComponentScan</code>.
 </il>
</ul>Якщо нічого не зрозуміло — спробуйте прочитати цю статтю через пару днів. Ну або якщо ви на ранніх рівнях джаварашу, то можливо, що спринг для вас поки що трохи рано вивчати. Ви завжди зможете повернутися до цієї статті трохи пізніше, коли почуватиметеся вже впевненіше у програмуванні на java. Якщо все зрозуміло - можете спробувати перевести якийсь свій pet-проект на спринг :) Якщо щось зрозуміло, а щось не дуже - прошу в коментарі :) Туди ж і пропозиції та зауваження, якщо я десь ступив чи написав якусь дурість) У наступній статті ми різко пірнемо в <em>spring-web-mvc</em> і зробимо просте веб-додаток, використовуючи спринг.