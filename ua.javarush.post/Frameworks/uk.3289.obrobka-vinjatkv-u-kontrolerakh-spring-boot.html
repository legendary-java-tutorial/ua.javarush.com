Обробка винятків у контролерах Spring Boot
<p>----------------------------------------</p>
І знову привіт! Настав час струсити пил з клавіатури. Створюємо spring-boot проект. Із залежностей мавену нам потрібні:
<p>----------------------------------------</p>
<strong><u><a href="https://codegym.cc/groups/posts/3092-spring-ehto-nestrashno" target="_blank" rel="nofollow">ЗМІСТ ЦИКЛУ СТАТТІВ</a></u></strong> І знову привіт! Настав час струсити пил з клавіатури. Створюємо spring-boot проект. Із залежностей мавену нам потрібні: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token generics"><span class="token punctuation">&lt;</span>properties<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>source<span class="token punctuation">&gt;</span></span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>source<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>target<span class="token punctuation">&gt;</span></span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>maven<span class="token punctuation">.</span>compiler<span class="token punctuation">.</span>target<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>java<span class="token punctuation">.</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>java<span class="token punctuation">.</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>properties<span class="token operator">&gt;</span>

<span class="token generics"><span class="token punctuation">&lt;</span>parent<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>parent<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.2</span><span class="token number">.0</span><span class="token punctuation">.</span>RELEASE<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>relativePath<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> lookup parent from repository <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>parent<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>spring<span class="token operator">-</span>boot<span class="token operator">-</span>starter<span class="token operator">-</span>web<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span></code></pre> Перш ніж читати далі, створіть структуру проекту: <img width="800" height="500" data-id="03144183-9c78-4623-8158-30d308296818" alt="Обробка винятків у контролерах Spring Boot - 1" src="https://cdn.javarush.com/images/article/03144183-9c78-4623-8158-30d308296818/1080.jpeg"> BusinessException та CustomException: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BusinessException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">BusinessException</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">CustomException</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> та клас <em>Response</em>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Response</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMessage</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> А тепер, я зроблю фінт вухами, і передам слово Олексію Кутепову, у своїй статті <a href="https://habr.com/ru/post/528116/" target="_blank" rel="nofollow">Обробка винятків у контролерах Spring</a> він розповість нам, як ці файли наповнити правильним вмістом. Читайте не кваплячись, усі приклади акуратно переписуєте до себе в проект, запускайте та тестуйте у постмані. Якщо у статті Олексія, у вас викликала питання наступний рядок: <em>produces = APPLICATION_JSON_VALUE</em> , то знайте, що до обробки винятків вона не має відношення, вона каже, що за замовчуванням всі методи цього контролера будуть віддавати JSON. При необхідності в конкретному методі це значення можна перевизначити на інший <a href="https://docs.spring.io/spring-framework/docs/3.1.x/javadoc-api/org/springframework/http/MediaType.html" target="_blank" rel="nofollow">MediaType.</a> Якщо ви прочитали, йдемо далі. У запропонованій вище статті розглянуто різні варіанти обробників. Найбільш гнучкий з них: <em>@ControllerAdvice</em> – він дозволяє змінити як код, так і тіло стандартної відповіді за помилки. Крім того, він дозволяє в одному методі опрацювати відразу кілька винятків. Але це ще не все, якщо ви прочитаєте далі, то отримаєте покращений <em>@ControllerAdvice </em><em>абсолютно</em> безкоштовно. Проведемо підготовчі роботи: хочу щоб у відповіді виводабося як кастомне так і стандартне повідомлення про помилку. Для цього внесемо зміну до класу <em>Response</em> : додамо ще одне поле <em></em><em></em>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class=" language-java"><span class="token keyword">private</span> <span class="token class-name">String</span> debugMessage<span class="token punctuation">;</span></code></pre> Створимо додатковий конструктор: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token keyword">public</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">,</span> <span class="token class-name">String</span> debugMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>debugMessage <span class="token operator">=</span> debugMessage<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre> і не забудьте створити Getter і Setter для нового поля. Тепер до діла. Напишемо ще один контролер: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Example7Controller</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/testExtendsControllerAdvice"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">testExtendsControllerAdvice</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Response</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>  <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Протестуємо у постман: На <u><em>​​http://localhost:8080/testExtendsControllerAdvice</em></u> відправимо JSON 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"message"</span>
<span class="token punctuation">}</span></code></pre> У відповідь отримаємо статус 200 і тіло 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"message"</span><span class="token punctuation">,</span>
    <span class="token string">"debugMessage"</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span></code></pre> Тепер пошлемо свідомо неправильний JSON 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token number">11</span><span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"message"</span>
<span class="token punctuation">}</span></code></pre> У відповідь отримаємо статус 400 (якщо забули, що він означає, гляньте в інтернеті) та порожнє тіло відповіді. Звичайно, нікого це не влаштовує, давайте з цим боротися. Раніше ми створювали <em>@ControllerAdvice</em> з нуля, але в Spring Boot існує заготовка - <em>ResponseEntityExceptionHandler</em> . У ній вже опрацьовано багато винятків, наприклад: <em>NoHandlerFoundException</em> , <em>HttpMessageNotReadableException</em> , <em>MethodArgumentNotValidException</em> та інші. Цей клас займається обробкою помилок. Він має купу методів, назва яких побудована за принципом <em>handle +</em> назва виключення. Якщо ми хочемо обробити якийсь базовий виняток, то успадковуємось від цього класу та перевизначаємо потрібний <a href="https://docs.spring.io/spring-framework/docs/3.2.x/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseEntityExceptionHandler.html" target="_blank" rel="nofollow">метод</a>. Доопрацюємо клас дефолтного едвайсу 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DefaultAdvice</span> <span class="token keyword">extends</span> <span class="token class-name">ResponseEntityExceptionHandler</span> <span class="token punctuation">{</span><span class="token comment">//унаследовались от обработчика-заготовки</span>

    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">BusinessException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Response</span><span class="token punctuation">&gt;</span></span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">BusinessException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Response</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span>OK<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token comment">//Небольшое отступление: В обработчике выше, обратите внимание на HttpStatus.OK,</span>
<span class="token comment">//он может быть и HttpStatus.BAD_REQUEST або другим, тут ограничений нет,</span>
<span class="token comment">//попробуйте поменять статусы и потестить этот обработчик</span>


    <span class="token annotation punctuation">@Override</span><span class="token comment">//переопределабо метод родительского класса</span>
    <span class="token keyword">protected</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> handleHttpMessageNotReadable
            <span class="token punctuation">(</span><span class="token class-name">HttpMessageNotReadableException</span> ex<span class="token punctuation">,</span> <span class="token class-name">HttpHeaders</span> headers<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span> status<span class="token punctuation">,</span> <span class="token class-name">WebRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Response</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">"Не правильный JSON"</span><span class="token punctuation">,</span>ex<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>response<span class="token punctuation">,</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre> Як ви помітабо, був перевизначений обробник, який відповідає за <em>HttpMessageNotReadableException</em> . Цей виняток виникає тоді, коли тіло запиту, що приходить у метод контролера, нечитане – наприклад, некоректний JSON. За цей виняток відповідає метод <em>handleHttpMessageNotReadable </em><em>()</em> . Ще раз зробимо запит з некоректним JSON: <u><em>http://localhost:8080/testExtendsControllerAdvice</em></u>
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token number">11</span><span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"message"</span>
<span class="token punctuation">}</span></code></pre> Отримуємо відповідь з кодом 400 (Bad Request) та тілом: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"Не правильный JSON"</span><span class="token punctuation">,</span>
    <span class="token string">"debugMessage"</span><span class="token operator">:</span> <span class="token string">"JSON parse error: Unexpected character ('1' (code 49)): was expecting double-quote to start field name; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('1' (code 49)): was expecting double-quote to start field name\n at [Source: (PushbackInputStream); line: 2, column: 6]"</span>
<span class="token punctuation">}</span></code></pre>Тепер відповідь містить як коректний код, а й тіло з інформативними повідомленнями. Перевіримо як працює з коректним JSON Запит: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"message"</span>
<span class="token punctuation">}</span></code></pre> Отримали відповідь: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"message"</span><span class="token punctuation">,</span>
    <span class="token string">"debugMessage"</span><span class="token operator">:</span> <span class="token keyword">null</span>
<span class="token punctuation">}</span></code></pre> Якщо чесно, мені не подобається що у відповіді є поле зі значенням <em>null</em> , зараз швиденько це виправимо. Переходимо в клас <u><em>Response</em></u> і ставимо інструкцію над потрібним полем 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class=" language-java"><span class="token annotation punctuation">@JsonInclude</span><span class="token punctuation">(</span><span class="token class-name">JsonInclude<span class="token punctuation">.</span>Include</span><span class="token punctuation">.</span>NON_NULL<span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> debugMessage<span class="token punctuation">;</span></code></pre> Перезапускаємо проект, робимо ще раз попередній запит, у відповіді отримуємо: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token string">"message"</span><span class="token operator">:</span> <span class="token string">"message"</span>
<span class="token punctuation">}</span></code></pre> Завдяки анотації <u><em>@JsonInclude(JsonInclude.Include.NON_NULL)</em></u> це поле буде включено у відповідь тільки в тому випадку, якщо ми його поставимо. <em>@JsonInclude</em> входить до бібліотеки анотацій <em>Jackson</em> , дуже корисно знати, що вона може. Ось дві статті на вибір: <a href="https://coderlessons.com/tutorials/java-tekhnologii/vyuchit-annotatsii-dzheksona/dzhekson-annotatsii-kratkoe-rukovodstvo" target="_blank" rel="nofollow">Джексон анотації. </a> <a href="https://nsergey.com/jackson-annotations/" target="_blank" rel="nofollow">Автор перекладав, але не доперекладав</a> , гугл трансліт відмінно впоратися. <strong>Валідація</strong> Потрібно доповнити цю тему таким поняттям як валідація. Просто кажучи, це перевірка що об'єкт є той об'єкт що ми очікуємо. Наприклад: якщо ми в додатку "Телефонний довідник" маємо перевіряти наявність телефонних номерів у БД, то перш ніж лізти в базу, логічно перевіряти, а чи не ввів користувач замість цифр літери. Три статті з валідації, зростання складності: <a href="https://devmark.ru/article/spring-validation?from=/?page%3D2" target="_blank" rel="nofollow">Валідація бінів у Spring </a> <a href="https://habr.com/ru/post/343960/" target="_blank" rel="nofollow">Налаштування валідації DTO у Spring Framework </a> <a href="https://habr.com/ru/post/536612/" target="_blank" rel="nofollow">Валідація даних у Spring Boot</a> З теорією, на сьогодні закінчабо. <strong>Для тренування пропоную наступне завдання:</strong> Необхідно реалізувати програму NightclubBouncer (Вибивала нічного клубу). Вимоги: 1) Програма повинна приймати на вхід JSON і робити запис до бази даних. Приклад JSON: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token punctuation">{</span>
    <span class="token string">"name"</span><span class="token operator">:</span> <span class="token string">"Katy Perry"</span>
    “status”<span class="token operator">:</span> “<span class="token keyword">super</span> star”
<span class="token punctuation">}</span></code></pre> І в тілі відповіді має бути напис: Welcome + <em>name</em> ! 2) У додатку повинні бути реалізовані методи: - Виведення запису по <em>id</em> з БД в клієнт (Postman). - Видалення запису по полю: <em>name</em> . 3) Має бути реалізований мапінг із шару <em>dto</em> в <em>entity</em> і назад. 4) Додаток повинен викидати помилку <em>KickInTheAssException</em> (її потрібно розробити самим) якщо поле <em>status</em> у вході JSON не дорівнює: <em>super </em> <em>star</em> 5) Помилка <em>KickInTheAssException</em> повинна оброблятися <em>ControllerAdvice</em>, і в тілі відповіді має бути повідомлення: «Don't let me see you here again!». Статус відповіді має бути 400. 6) Стандартна помилка <em>EntityNotFoundException</em> , що виникає, наприклад, якщо до клубу зайшла тільки Кеті Пері та збереглася в базу з <em>id = 1</em> , а ви викликали метод <em>«виведення запису з id»</em> і захотіли вивести запис з <em>id = 2</em> , Якої немає в базі. Цю помилку необхідно обробити перевизначеним методом класу <em>ResponseEntityExceptionHandler</em>, яким саме - розібратися вам самим. Відповідь має мати відповідний статус. 7) Зробіть валідацію: простий варіант - поля JSON повинні бути не null, складніше поле "name" має складатися з двох слів латинського алфавіту і вони обидва повинні починатися з великої літери. Невалідні значення повинні викликати виняток, обробіть його будь-яким способом, виведіть відповідний код помилки та повідомлення про помилку: No validate. І реалізуйте це все без використання бібліотеки Lombok, не включайте її залежно від проекту 😅