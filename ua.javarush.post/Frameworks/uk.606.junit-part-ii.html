JUnit part II
<p>----------------------------------------</p>
початок тут -> Ще хочу вам показати, як працює метод – якщо буде викликаний цей метод, тест буде провалено. Зручно, якщо інші методи класу не можуть зробити нам перевірку. Допустимо нам потрібно заборонити приймати . Спробуємо це зробити на
<p>----------------------------------------</p>
<em>продовження</em> початок тут -&gt; <a href="https://codegym.cc/groups/posts/605-junit" target="_blank">JUnit part I</a>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="6903d3c8-43ce-4d23-bd8f-be8fe2f7390c" data-max-width="700" alt="JUnit part II - 1" src="https://cdn.javarush.com/images/article/6903d3c8-43ce-4d23-bd8f-be8fe2f7390c/512.jpeg" style="width: 700px;">
 </div>
</div> Ще хочу вам показати, як працює метод <code class=" language-none">Assert.fail(String)</code>– якщо буде викликаний цей метод, тест буде провалено. Зручно, якщо інші методи класу <code class=" language-none">Assert </code>не можуть зробити нам перевірку. Допустимо нам потрібно заборонити приймати <code class=" language-none">new String(“”)</code>. Спробуємо це зробити на конструкторі заборонимо передавати <code class=" language-none">name = “” || null, age = 0; Sex = null</code>. Поїхали … Я додав додаткові поля для тестування 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">User</span></span> user<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">User</span></span> user1<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">User</span></span> user2<span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">User</span></span> userNotAdd<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">User</span></span> userNotAdd1<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> та змінив метод<code class=" language-none">setUp()</code>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Before</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">setUp</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token keyword"><span class="token keyword">throws</span></span> <span class="token class-name"><span class="token class-name">Exception</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    user <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Євген"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">35</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Sex</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>MALE<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    user1 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Марина"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">34</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Sex</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>FEMALE<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    user2 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Аліна"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">7</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Sex</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>FEMALE<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

    userNotAdd <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    userNotAdd1 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> і додав три методи тесту 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Test</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">newUser_EMPTY_NAME</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">User</span></span> user <span class="token operator"><span class="token operator">:</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAllUsers</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>user<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">!=</span></span> <span class="token keyword"><span class="token keyword">null</span></span> <span class="token operator"><span class="token operator">&amp;&amp;</span></span> user<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getName</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">isEmpty</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">Assert</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">fail</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Попытка создания пользователя с пустым именем"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token annotation punctuation"><span class="token annotation punctuation">@Test</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">newUser_AGE_ZERO</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">User</span></span> user <span class="token operator"><span class="token operator">:</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAllUsers</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>user<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAge</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&lt;=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">Assert</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">fail</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Попытка создания пользователя c не допустимым возрастом"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token annotation punctuation"><span class="token annotation punctuation">@Test</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">newUser_SEX_NO_NULL</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">User</span></span> user <span class="token operator"><span class="token operator">:</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getAllUsers</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>user<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getSex</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">==</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">Assert</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">fail</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Попытка создания пользователя с указанием пола = null"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> У тестах ми проходимо за списком доданих користувачів, і дивимося чи не допустимі дані. Запускаємо тести оптом, і бачимо таку картину... <img data-id="f4287cc1-b86e-45a9-b4c2-aefaa0822d8e" data-max-width="993" alt="JUnit part II - 2" src="https://cdn.javarush.com/images/article/f4287cc1-b86e-45a9-b4c2-aefaa0822d8e/800.jpeg" style="width: 993px;"> Тут видно, наші тести для конструктора зламалися, а так само зачепило ще пару тестів. Тепер нам потрібно змінити конструктор, щоб він не додавав до списку користувачів, користувача з неприпустимими параметрами, зробимо це так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">User</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> name<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> age<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Sex</span></span> sex<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>name <span class="token operator"><span class="token operator">!=</span></span> <span class="token keyword"><span class="token keyword">null</span></span> <span class="token operator"><span class="token operator">&amp;&amp;</span></span> <span class="token operator"><span class="token operator">!</span></span>name<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">isEmpty</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&amp;&amp;</span></span> age <span class="token operator"><span class="token operator">&gt;</span></span> <span class="token number"><span class="token number">0</span></span> <span class="token operator"><span class="token operator">&amp;&amp;</span></span> sex <span class="token operator"><span class="token operator">!=</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>name <span class="token operator"><span class="token operator">=</span></span> name<span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>age <span class="token operator"><span class="token operator">=</span></span> age<span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>sex <span class="token operator"><span class="token operator">=</span></span> sex<span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token operator"><span class="token operator">!</span></span><span class="token function"><span class="token function">hasUser</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            countId<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
            <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>id <span class="token operator"><span class="token operator">=</span></span> countId<span class="token punctuation"><span class="token punctuation">;</span></span>
            allUsers<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">put</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>id<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Запускаємо наші тести і бачимо, що у нас все по красі <img data-id="ffeea981-c648-4d62-98e8-9e92045f5228" data-max-width="840" alt="JUnit part II - 3" src="https://cdn.javarush.com/images/article/ffeea981-c648-4d62-98e8-9e92045f5228/800.jpeg" style="width: 840px;"> Підіб'ємо підсумок, <strong>JUnit</strong> відмінний інструмент для покриття свого коду тестами. <strong>JUnit</strong> спрацює ще краще, у зв'язці з <strong>Maven</strong> , при складанні проекту, <strong>Maven</strong> обов'язково проведе всі тести, і потім збере наш готовий проект, але якщо тести будуть провалені, проект не буде зібраний, і ми знатимемо причини, і так буде легше розібратися де саме поломка. Другий плюс <strong>JUnit</strong> це випадок <strong>Рефакторингу</strong> , тести <strong>JUnit</strong>допоможуть нам простежити, щоб логіка нашої програми не зламалася. А у великих проектах без системи автоматичного тестування життя не можливе, хоча може і можливе, але рухатися ваш проект буде зі швидкістю черепахи… або як то так… <img data-id="b8a40ec5-5647-4215-852b-27d79b4daf7d" data-max-width="425" alt="JUnit part II - 4" src="https://cdn.javarush.com/images/article/b8a40ec5-5647-4215-852b-27d79b4daf7d/256.jpeg" style="width: 425px;"> Якщо ми добре покриємо тестами наш код, то можемо бути впевнені, що у нашого клієнта, наш товар буде добре працювати. P/S Висловлюю величезну подяку Сергєєву Віктору! Ось посилання на відео урок, в якому він навчав нас: 
<ul>
 <li><a href="https://www.youtube.com/watch?v=lTAmF0tB3e4&amp;t=2693s" target="_blank" rel="nofollow">Тестування java</a></li>
 <li><a href="https://www.youtube.com/watch?v=aGsQmbSNPR8&amp;t=59s" target="_blank" rel="nofollow">Тестування java (продовження)</a></li>
</ul><em>Дякую за увагу!!! Гарного вам настрою!!! І нехай спаси вас Бог від індускоду! </em> ...ще якщо у кого буде інтерес покапатися у вихідному коді для статті... стукайтеся... з поділюсь тут початок — <em><a href="https://codegym.cc/groups/posts/605-junit" target="_blank" rel="nofollow">JUnit part I</a></em>