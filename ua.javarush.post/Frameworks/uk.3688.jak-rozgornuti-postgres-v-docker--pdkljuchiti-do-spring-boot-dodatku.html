Як розгорнути Postgres в Docker і підключити до Spring-Boot додатку
<p>----------------------------------------</p>
Перед цим необхідно: - встановити - встановити як - У Intellij IDEA встановити плагін Docker. Наприклад, ви створили Spring-Boot додаток із сутністю: Щоб реалізувати підключення до Postgres виконуємо такі кроки: 1. В pom.xml вставляємо зале
<p>----------------------------------------</p>
Перед цим необхідно: - встановити <a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="nofollow">Docker; </a> - встановити <a href="https://www.jetbrains.com/ru-ru/idea/" target="_blank" rel="nofollow">IntelliJ IDEA Ultimate</a> як <a href="https://codegym.cc/forum/346" target="_blank" rel="nofollow">отримати безкоштовно на 30 днів; </a> - У Intellij IDEA встановити плагін Docker. Наприклад, ви створабо Spring-Boot додаток із сутністю: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@Column</span>
    <span class="token annotation punctuation">@GenericGenerator</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"generator"</span><span class="token punctuation">,</span> strategy <span class="token operator">=</span> <span class="token string">"increment"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>generator <span class="token operator">=</span> <span class="token string">"generator"</span><span class="token punctuation">)</span>
    <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span>
    <span class="token class-name">String</span> name<span class="token punctuation">;</span>

<span class="token comment">//конструктор, геттеры, сеттеры</span>
<span class="token punctuation">}</span></code></pre> Щоб реалізувати підключення до Postgres виконуємо такі кроки: 1. В pom.xml вставляємо залежність 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>mvnrepository<span class="token punctuation">.</span>com<span class="token operator">/</span>artifact<span class="token operator">/</span>org<span class="token punctuation">.</span>postgresql<span class="token operator">/</span>postgresql <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>postgresql<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>postgresql<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">42.3</span><span class="token number">.1</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span></code></pre> 2. У кореневій папці проекту створюємо файл: <em>docker-compose.yaml</em> (на скріншотах друкарська помилка) На картинці коренева папка <strong>java-rush-docker</strong> <img width="800" height="500" data-id="76d00a4b-f579-4651-9903-a6a5f8123416" alt="Як розгорнути Postgres в Docker і підключити її до Spring-Boot додатку.  - 1" src="https://cdn.javarush.com/images/article/76d00a4b-f579-4651-9903-a6a5f8123416/1080.jpeg"> Вміст файлу: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java">version<span class="token operator">:</span> <span class="token string">'3'</span>

services<span class="token operator">:</span>
  postgres<span class="token operator">:</span>
    image<span class="token operator">:</span> <span class="token string">'postgres:13'</span>
    container_name<span class="token operator">:</span> <span class="token string">'java-postgres'</span>
    ports<span class="token operator">:</span>
    <span class="token operator">-</span> <span class="token number">5432</span><span class="token operator">:</span><span class="token number">5432</span>
    environment<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token string">'POSTGRES_USER=sa'</span>
      <span class="token operator">-</span> <span class="token string">'POSTGRES_HOST_AUTH_METHOD=trust'</span>
      <span class="token operator">-</span> <span class="token string">'POSTGRES_DB=java'</span></code></pre> На одному рядку з <em>postgres:</em> буде зелена стрілочка, її треба натиснути. У нижній частині <em>IntelliJ IDEA</em> у вкладці <em>Services</em> буде відображатися процес, після виконання повинен з'явитися запис: <em>Status: Downloaded newer image for postgres:13 Creating java-postgres ... </em> Значить все добре. Це означає <img width="800" height="500" data-id="2175b9fa-fc9c-431c-8bf8-cb087ca55123" alt="Як розгорнути Postgres в Docker і підключити її до Spring-Boot додатку.  - 2" src="https://cdn.javarush.com/images/article/2175b9fa-fc9c-431c-8bf8-cb087ca55123/1080.jpeg"> , що в сервісі <em>postgres</em> піднявся контейнер <em>java-postgres</em> . У папці <em>Images</em> має бути образ <em>postgres 13</em> . 3. У файлі <em>application.yaml</em> (або <em>application.properties</em>) повинні бути вказані такі настройки: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java">spring<span class="token operator">:</span>
  datasource<span class="token operator">:</span>
    driverClassName<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span></span>Driver</span>
    url<span class="token operator">:</span> jdbc<span class="token operator">:</span>postgresql<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">5432</span><span class="token operator">/</span>postgres
    username<span class="token operator">:</span> sa
    password<span class="token operator">:</span>

  jpa<span class="token operator">:</span>
    properties<span class="token operator">:</span>
      hibernate<span class="token operator">:</span>
        dialect<span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>dialect<span class="token punctuation">.</span></span>PostgreSQLDialect</span></code></pre> Тепер можна запускати Spring-Boot проект. 4. Після того як проект запустився налаштовуємо підключення: <img width="800" height="500" data-id="b4f92c95-2ba7-43de-9d32-714587eeacfa" alt="Як розгорнути Postgres в Docker і підключити її до Spring-Boot додатку.  - 3" src="https://cdn.javarush.com/images/article/b4f92c95-2ba7-43de-9d32-714587eeacfa/1080.jpeg"> Натискаємо вкладку <em>Database</em> , натискаємо «+» у списку вибираємо <em>Postgres</em> , в поле <em>user</em> вписуємо ім'я користувача (username: <em>sa</em> ), перевіряємо чи є коннекшен. Якщо все добре, то натискаємо <em>Apply</em> та <em>Ok</em> . З'явиться наступне вікно: <img width="800" height="500" data-id="deed0997-b51d-48f6-a76f-0dff59a4fbb2" alt="Як розгорнути Postgres в Docker і підключити її до Spring-Boot додатку.  - 4" src="https://cdn.javarush.com/images/article/deed0997-b51d-48f6-a76f-0dff59a4fbb2/1080.jpeg"> База даних розгорнута та підключена. Якщо захотілося дізнатись більше про Docker: У цій <a href="https://codegym.cc/groups/posts/3684-videouikend-105-znakomimsja-s-rabotoy-konteynerov-na-java-i-tipichnihmi-zadachami-dlja-dzhunior" target="_blank" rel="nofollow">статті</a> знайдіть відео про Docker і реалізуйте те, що там показується. Прочитайте <a href="https://habr.com/ru/company/ruvds/blog/438796/" target="_blank" rel="nofollow">мануал з основ Docker. </a> Збережіть <a href="https://timeweb.com/ru/community/articles/osnovnye-komandy-docker" target="_blank" rel="nofollow">Основні команди Docker.</a>