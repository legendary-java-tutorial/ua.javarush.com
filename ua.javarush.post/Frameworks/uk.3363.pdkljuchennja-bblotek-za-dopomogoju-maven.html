Підключення бібліотек за допомогою Maven
<p>----------------------------------------</p>
JavaRush використовує деякі пакети, які були у JDK8, а потім їх вирізали. Наприклад, JavaFX для ігор або JAXB для обробки XML. Тому якщо ви використовуєте свіжу версію JDK, то у вас проблема... Але навіть якщо ви сидите на олдскульній JDK8,
<p>----------------------------------------</p>
<img alt="Підключення бібліотек за допомогою Maven - 1" src="https://maven.apache.org/images/maven-logo-black-on-white.png"> <strong>Проблема</strong> CodeGym використовує деякі пакети, які були у JDK8, а потім їх вирізали. Наприклад, JavaFX для ігор або JAXB для обробки XML. Тому якщо ви використовуєте свіжу версію JDK, то у вас проблема... Але навіть якщо ви сидите на олдскульній JDK8, то у вас теж проблема... У 4 квесті Collections вам потрібно підключити Jackson, для обробки JSON. Звичайно, все можна підключити руками, але це досить сумно. Потрібно викачувати їх руками, додавати їх до проекту... <strong>Рішення</strong> Для автоматизації цієї рутини і потрібен Maven. 0) Настійно рекомендую зробити резервну копію проекту CodeGym, або мало... 1) Спочатку додамо до нашого проекту Maven. Правою кнопкою на модулі 4.JavaCollections, там вибираємо Add Framework Support... Maven, [Ok] 2) Тепер знаходимо файлик pom.xml, в ньому руками додаємо блок 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class=" language-java"><span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span></code></pre> Прям одразу після &lt;/version&gt; 3) А далі починаємо додавати потрібні нам пакети. Якщо нам потрібний Jeckson, гуглимо "jackson maven dependency" Знаходимо відповідь нібито такого: http://tutorials.jenkov.com/java-json/jackson-installation.html Бачимо, що нам для Jeckson потрібно 3 залежності (artifactId): jackson- core, jackson-annotations, jackson-databind Є й інші залежності, але вони нам поки що не потрібні, будуть потрібні - додамо. Тепер ці 3 залежності шукаємо на цьому сайті - <a href="https://mvnrepository.com/" target="_blank" rel="nofollow">https://mvnrepository.com/</a> Вбиваємо туди назви наших артефактів, знаходимо ті, якими користуються більшість, або найсвіжішу версію. І копіюємо текст залежності до нас у pom.xml. 4) Разом наш pom.xml став таким: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token operator">&lt;</span><span class="token operator">?</span>xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span><span class="token operator">?</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>project xmlns<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0"</span>
         xmlns<span class="token operator">:</span>xsi<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema-instance"</span>
         xsi<span class="token operator">:</span>schemaLocation<span class="token operator">=</span><span class="token string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>modelVersion<span class="token punctuation">&gt;</span></span><span class="token number">4.0</span><span class="token number">.0</span><span class="token operator">&lt;</span><span class="token operator">/</span>modelVersion<span class="token operator">&gt;</span>

    <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>groupId<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span><span class="token number">4.</span>JavaCollections<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">1.0</span><span class="token operator">-</span>SNAPSHOT<span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
    <span class="token generics"><span class="token punctuation">&lt;</span>dependencies<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>jackson<span class="token operator">-</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.12</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>jackson<span class="token operator">-</span>annotations<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.12</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
        <span class="token generics"><span class="token punctuation">&lt;</span>dependency<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>com<span class="token punctuation">.</span>fasterxml<span class="token punctuation">.</span>jackson<span class="token punctuation">.</span>core<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>jackson<span class="token operator">-</span>databind<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>version<span class="token punctuation">&gt;</span></span><span class="token number">2.12</span><span class="token number">.3</span><span class="token operator">&lt;</span><span class="token operator">/</span>version<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>dependency<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>dependencies<span class="token operator">&gt;</span>


<span class="token operator">&lt;</span><span class="token operator">/</span>project<span class="token operator">&gt;</span></code></pre>Дивно, тиснемо правою кнопкою по ньому і вибираємо Maven/Reimport. 5) Тепер у наших програмах Jeckson став перебувати, червоні назви об'єктів зникли. Але код перестав компілюватися, пише помилку: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class=" language-java"><span class="token class-name">Error</span><span class="token operator">:</span>java<span class="token operator">:</span> error<span class="token operator">:</span> release version <span class="token number">5</span> not supported</code></pre> Чомусь при впровадженні Maven в проект, версія підтримуваної Java падає до 5... Нам це треба полагодити: потрібно кодувати Java5... Видаляємо наш модуль у цьому вікні. Але це не все, далі відкриваємо File\Project Structure\Modules Там вибираємо наш модуль 4.JavaCollections. Далі вибираємо вкладку Language level – Project default. 5.1) Знайшов як вирішити проблему з пункту 5. Просто дописуємо до pom.xml наступне: 
<pre class=" line-numbers language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-java"><span class="token generics"><span class="token punctuation">&lt;</span>build<span class="token punctuation">&gt;</span></span>
    <span class="token generics"><span class="token punctuation">&lt;</span>plugins<span class="token punctuation">&gt;</span></span>
        <span class="token generics"><span class="token punctuation">&lt;</span>plugin<span class="token punctuation">&gt;</span></span>
            <span class="token generics"><span class="token punctuation">&lt;</span>groupId<span class="token punctuation">&gt;</span></span>org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>maven<span class="token punctuation">.</span>plugins<span class="token operator">&lt;</span><span class="token operator">/</span>groupId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>artifactId<span class="token punctuation">&gt;</span></span>maven<span class="token operator">-</span>compiler<span class="token operator">-</span>plugin<span class="token operator">&lt;</span><span class="token operator">/</span>artifactId<span class="token operator">&gt;</span>
            <span class="token generics"><span class="token punctuation">&lt;</span>configuration<span class="token punctuation">&gt;</span></span>
                <span class="token generics"><span class="token punctuation">&lt;</span>source<span class="token punctuation">&gt;</span></span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>source<span class="token operator">&gt;</span>
                <span class="token generics"><span class="token punctuation">&lt;</span>target<span class="token punctuation">&gt;</span></span><span class="token number">1.8</span><span class="token operator">&lt;</span><span class="token operator">/</span>target<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>configuration<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>plugin<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>plugins<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>build<span class="token operator">&gt;</span></code></pre> Тепер Maven проставляє версію байткод для нашого модуля рівну JDK 8 і нас це влаштовує. 5-й пункт не став видаляти, для загальної інформації залишив. Щоб було розуміння, де якісь версії JDK можна поміняти в IDEA 6) До речі про Project default. CodeGym працює на JDK 8. І якщо у вас 11 версія (або свіжа), то ви будете регулярно матюкатися на Валідатор, який не пропускає ваш код. Тому що ви писатимете код, який ввели в JDK 9+, у вас все буде працювати, а Валідатор вам зараховуватиме помилку. Тому йдемо: File\Project Structure\Project Вказуємо вашу поточну версію JDK, а під нею, вказуємо language level - 8 - Lambdas, type annotations etc. У чому вигода - ви бачитимете можливості JDK 9+, але якщо ви їх спробуєте додати - IDEA лаятиметься. Наприклад, "aaa". lines (); - написати можна (IDEA підставить, хоч і підсвітить червоним), провалитися можна - повивчати нутрощі. А ось скомпілювати – не дасть. 7) Останнє, що нам залишилося зробити - це поправити шляхи всередині пакету 4.JavaCollections. Maven їх переробив під себе, повертаємо як було: а) Заходимо в FileProject StructureModules б) Вибираємо 4.JavaCollectionsSource в) Видаляємо target, rosources, test г) Ставимо Source Folder на src д) Папку com переносимо на диску назад у src е) Папку main – видаляємо. Втім робимо як було до Maven, за аналогією з 3.JavaMultithreading 8) Тепер самостійно додаємо залежності, що залишабося, наприклад для JAXB. Якщо потрібно додати логування, може допомогти Maven їх переробив під себе, повертаємо як було: а) Заходимо в FileProject StructureModules б) Вибираємо 4.JavaCollectionsSource в) Видаляємо target, rosources, test г) Ставимо Source Folder на src д) Папку com переносимо на диску назад у src е) Папку main – видаляємо. Втім робимо як було до Maven, за аналогією з 3.JavaMultithreading 8) Тепер самостійно додаємо залежності, що залишабося, наприклад для JAXB. Якщо потрібно додати логування, може допомогти Maven їх переробив під себе, повертаємо як було: а) Заходимо в FileProject StructureModules б) Вибираємо 4.JavaCollectionsSource в) Видаляємо target, rosources, test г) Ставимо Source Folder на src д) Папку com переносимо на диску назад у src е) Папку main – видаляємо. Втім робимо як було до Maven, за аналогією з 3.JavaMultithreading 8) Тепер самостійно додаємо залежності, що залишабося, наприклад для JAXB. Якщо потрібно додати логування, може допомогти наприклад, для JAXB. Якщо потрібно додати логування, може допомогти наприклад, для JAXB. Якщо потрібно додати логування, може допомогти<a href="https://codegym.cc/groups/posts/3365-podkljuchaem-k-nashemu-codegym-proektu-logirovanie-slf4f-i-log4j?post=full#discussion" target="_blank" rel="nofollow">моя стаття</a> . Дописуємо в резюме – Maven. Ви чудові! Якщо допомогло - лайк, передплата, дзвіночок!)))