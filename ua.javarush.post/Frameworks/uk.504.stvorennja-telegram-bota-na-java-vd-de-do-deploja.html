Створення Telegram-бота на Java: від ідеї до деплоя
<p>----------------------------------------</p>
Що ж таке взагалі боти? Детально почитати про це можна . Для початку вам необхідно ознайомитись з офіційною документацією до бібліотеки для розробки роботів на Telegram(далі API). Лежить вона . Там все дуже доступно та зрозуміло. Здавалося 
<p>----------------------------------------</p>
Що ж таке взагалі боти? Детально почитати про це можна <a href="https://tlgrm.ru/docs/bots" target="_blank" rel="nofollow">тут</a> . Для початку вам необхідно ознайомитись з офіційною документацією до бібліотеки для розробки роботів на Telegram(далі API). Лежить вона <a href="https://tlgrm.ru/docs/bots/api" target="_blank" rel="nofollow">тут</a> . <img data-id="5105f296-1f83-4610-999c-e615dcd72fce" data-max-width="850" alt="Створення Telegram-бота на Java: від ідеї до деплою - 1" src="https://cdn.javarush.com/images/article/5105f296-1f83-4610-999c-e615dcd72fce/800.jpeg" style="width: 850px;">Там все дуже доступно та зрозуміло. Здавалося б, пиши та радуйся! Але не все так просто. Провівши багато часу в пошукових системах я знаходив уривки знань з розробки роботів, наприклад, як зробити клавіатуру, обробити CallbackQuery тощо. Повного та вичерпного посібника для розробки ботів на Java я так і не знайшов. Це й наштовхнуло мене на написання цієї статті. В Інтернеті багато веб-сайтів, де можна зробити власного робота з вже готовим деплоєм. Але річ у тому. що у своїй більшості створюються боти, які можуть надати довідкову інформацію та інше. Наш бот - повноцінний веб-додаток, до якого можна прив'язати базу даних, виконувати запити на різні API, парсувати сайти, виконувати складні обчислення та інше. Справа обмежена лише вашою фантазією. Я сподіваюся, що у цих рядках я трохи роз'яснив вам про що збираюся писати. Бота в Telegram зареєструвати дуже просто, цей процес докладно описаний у документації на посилання вище. Для нашого додатка необхідно знати лише ім'я бота та токен, який ви отримаєте під час реєстрації. По суті бот - просто консольна веб-додаток. Жодного фронтенду, чиста обробка команд. Якщо ви бажаєте добре освоїти Hibernate або навчитися парсити JSON, такий проект для вас. Почнемо з того, щоб підключити залежність у pom.xml (маємо на увазі що ви використовуєте Maven). Зробити це можна так: Якщо ви бажаєте добре освоїти Hibernate або навчитися парсити JSON, такий проект для вас. Почнемо з того, щоб підключити залежність у pom.xml (маємо на увазі що ви використовуєте Maven). Зробити це можна так: Якщо ви бажаєте добре освоїти Hibernate або навчитися парсити JSON, такий проект для вас. Почнемо з того, щоб підключити залежність у pom.xml (маємо на увазі що ви використовуєте Maven). Зробити це можна так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>dependency<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>groupId<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>org<span class="token punctuation"><span class="token punctuation">.</span></span>telegram<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>groupId<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>artifactId<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>telegrambots<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>artifactId<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>version<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token number"><span class="token number">3.5</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>version<span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>dependency<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> Потім створюємо клас <code class=" language-none">Bot</code>, успадкуємо його від класу <code class=" language-none">TelegramLongPollingBot</code>, перевизначивши його методи: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Bot</span></span> <span class="token keyword"><span class="token keyword">extends</span></span> <span class="token class-name"><span class="token class-name">TelegramLongPollingBot</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token comment"><span class="token comment">/**
     * Метод прийому повідомлень.
     * @param update Містить повідомлення від користувача.
     */</span></span>
    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">onUpdateReceived</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Update</span></span> update<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token class-name"><span class="token class-name">String</span></span> message <span class="token operator"><span class="token operator">=</span></span> update<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getText</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token function"><span class="token function">sendMsg</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>update<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getChatId</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toString</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> message<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token comment"><span class="token comment">/**
     * Метод для налаштування повідомлення та його надсилання.
     * @param chatId id чату
     * @param s Рядок, який необхідно відправити як повідомлення.
     */</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">sendMsg</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> chatId<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">String</span></span> s<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">SendMessage</span></span> sendMessage <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">SendMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        sendMessage<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">enableMarkdown</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        sendMessage<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setChatId</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>chatId<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        sendMessage<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setText</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>s<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">try</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token function"><span class="token function">sendMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>sendMessage<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">catch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">TelegramApiException</span></span> e<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            log<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">log</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Level</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>SEVERE<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"Exception: "</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> e<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toString</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token comment"><span class="token comment">/**
     * Метод повертає ім'я бота, вказане під час реєстрації.
     * @return ім'я бота
     */</span></span>
    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getBotUsername</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> ”<span class="token class-name"><span class="token class-name">BotName</span></span>”<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token comment"><span class="token comment">/**
     * Метод повертає token бота для зв'язку з сервером Telegram
     * @return token для бота
     */</span></span>
    <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getBotToken</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> ”<span class="token class-name"><span class="token class-name">BotToken</span></span>”<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Ну і вміст методу <code class=" language-none">main</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">ApiContextInitializer</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">init</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">TelegramBotsApi</span></span> telegramBotsApi <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">TelegramBotsApi</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">try</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            telegramBotsApi<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">registerBot</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Bot</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getBot</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">catch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">TelegramApiRequestException</span></span> e<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            e<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">printStackTrace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Вписавши у методи <code class=" language-none">getBotUsername()</code>і <code class=" language-none">getBotToken()</code>ми запускаємо бота. Поки він тільки перенаправляє нам будь-які повідомлення, які ми надішлемо йому, таке собі «дзеркало». Працює це все таким чином: коли ви запускаєте програму, вона починає раз на n кількість секунд відправляти на сервер Telegram GET запит на наступний URL: https://api.telegram.org/BotToken/getMe, де BotToken – токен вашого бота, отримуючи у відповідь JSON, де знаходяться всі повідомлення. Кожне таке повідомлення обробляється бібліотекою та надходить у метод <code class=" language-none">OnUpdateReceived(Update update)</code>об'єктом<code class=" language-none">Update</code>. З ним ми й працюємо. У цьому вся принадність Telegram-ботів, вони можуть працювати на будь-якому комп'ютері, для тестування потрібно просто запустити додаток, не потрібно деплоїти його на хостинг після кожної зміни. Це дуже зручно. Само собою бот можна налаштувати на роботу по вебхуку, керівництво можна знайти на просторах Інтернету, ми будемо для простоти працювати по LongPolling. То як обробляти повідомлення і що відправляти у відповідь обмежено лише засобами мови та бібліотекою, все інше на ваш розсуд. Ви можете зробити бота, який шукатиме для вас відео на YouTube, можете зробити бота, який кожен день надсилатиме вам те, що ви відправите собі, наприклад, за рік, таку собі капсулу часу. А можете навчитися інтегруватися до CRM-систем та робити ботів для малого бізнесу, все обмежено вашою фантазією. Йдемо далі.<code class=" language-none">«/»</code>наприклад <code class=" language-none">/start</code>. Але є спосіб зручніше – кнопки. Є два види кнопок: ті, що з'являються під полем введення, <code class=" language-none">ReplyKeyboardMarkup</code>та кнопки, які знаходяться безпосередньо під повідомленням, до якого прив'язані, <code class=" language-none">InlineKeyboardMarkup</code>. У документації ви можете ознайомитися поверхово з їх описом. <strong>ReplyKeyboardMarkup. </strong> Насправді це - масив масивів клавіш, <code class=" language-none">List&lt;KeyboardRow&lt;KeyboardButton&gt;&gt;</code>. Ось приклад коду, який створює клавіатуру 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">setButtons</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">SendMessage</span></span> sendMessage<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token comment"><span class="token comment">// Створюємо клавіуатуру</span></span>
        <span class="token class-name"><span class="token class-name">ReplyKeyboardMarkup</span></span> replyKeyboardMarkup <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ReplyKeyboardMarkup</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        sendMessage<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setReplyMarkup</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>replyKeyboardMarkup<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        replyKeyboardMarkup<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setSelective</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        replyKeyboardMarkup<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setResizeKeyboard</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        replyKeyboardMarkup<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setOneTimeKeyboard</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token boolean"><span class="token boolean">false</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token comment"><span class="token comment">// Створюємо список рядків клавіатури</span></span>
        <span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">KeyboardRow</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> keyboard <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token comment"><span class="token comment">// Перший рядок клавіатури</span></span>
        <span class="token class-name"><span class="token class-name">KeyboardRow</span></span> keyboardFirstRow <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">KeyboardRow</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token comment"><span class="token comment">// Додаємо кнопки в перший рядок клавіатури</span></span>
        keyboardFirstRow<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">KeyboardButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>“Привет”<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token comment"><span class="token comment">// Другий рядок клавіатури</span></span>
        <span class="token class-name"><span class="token class-name">KeyboardRow</span></span> keyboardSecondRow <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">KeyboardRow</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token comment"><span class="token comment">// Додаємо кнопки до другого рядка клавіатури</span></span>
        keyboardSecondRow<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">KeyboardButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>“Помощь”<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token comment"><span class="token comment">// Додаємо всі рядки клавіатури до списку</span></span>
        keyboard<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>keyboardFirstRow<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        keyboard<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>keyboardSecondRow<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token comment"><span class="token comment">// і встановлюємо цей список нашої клавіатури</span></span>
        replyKeyboardMarkup<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setKeyboard</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>keyboard<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> У методі <code class=" language-none">sendMsg()</code>ми викликаємо цей метод, передаючи йому повідомлення, встановлюючи для такого повідомлення клавіатуру. Коли ми надішлемо це повідомлення користувачу, то він побачить текст повідомлення, який ми встановабо, а також дві кнопки, на яких буде написано Привіт і Допомога, один під одним. Після натискання на ці кнопки боту буде відправлено повідомлення, текст якого є те, що написано на кнопці. Тобто, якщо клієнт натисне «Допомога», то боту прийде повідомлення з текстом «Допомога». Для нього це начебто клієнт сам написав текст "Допомога" і відправив би йому. Ну, а потім ви обробляєте такі повідомлення. 
<div class="email-subscription">
 <iframe frameborder="0" src="https://secure.esputnik.com.ua/4Q0Ef6d2SOs" width="100%" height="200" scrolling="no" data-savepage-key="0-2"></iframe>
</div><strong>InlineKeyboardMarkup</strong> Це теж масив масивів, він схожий на попередній Markup, але логіка роботи тут трохи інша. Така клавіатура прив'язується до певного повідомлення та існує тільки для нього. Ось метод для встановлення Inline-клавіатури 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">setInline</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">List</span></span><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">InlineKeyboardButton</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> buttons <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">InlineKeyboardButton</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> buttons1 <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        buttons1<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">InlineKeyboardButton</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setText</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>“Кнопка“<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setCallbackData</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">17</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        buttons<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>buttons1<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token class-name"><span class="token class-name">InlineKeyboardMarkup</span></span> markupKeyboard <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">InlineKeyboardMarkup</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        markupKeyboard<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setKeyboard</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>buttons<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Створюємо <code class=" language-none">List</code>у <code class=" language-none">List</code>, додаємо в перший рядок Inline-кнопку. Така кнопка може містити URL, посилання на канал або <code class=" language-none">CallbackQuery</code>, про яку я напишу трохи пізніше. Тут ми встановлюємо текст нашої кнопки, який буде бачити користувач, а потім встановлюємо дані, які будуть відправлені боту. У нашому прикладі користувач бачить "Привіт", а боту при натисканні вирушить число 17, це і є наш <code class=" language-none">CallbackQuery</code>. Кілька слів про <code class=" language-none">CallbackQuery</code>. Для отримання таких даних з об'єкта <code class=" language-none">Update</code>потрібно виконати <code class=" language-none">update.getCallbackQuery()</code>, цей метод повертає <code class=" language-none">CallbackQuery</code>, з якого можна отримати дані, передані боту. Не потрібно намагатися отримати ці дані через метод <code class=" language-none">update.getMessage().getText()</code>, отримайте <code class=" language-none">NullPointerException</code>. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">onUpdateReceived</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Update</span></span> update<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>update<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">hasMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">ThreadClass</span></span> thread <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ThreadClass</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>update<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span>  <span class="token keyword"><span class="token keyword">if</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>update<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">hasCallbackQuery</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">AnswerCallbackThread</span></span> answerThread <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnswerCallbackThread</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>update<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getCallbackQuery</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Якщо є повідомлення, відправляємо на обробку новий потік повідомлення, якщо є <code class=" language-none">CallbackQuery</code>, відправляємо його на обробку у відповідний потік. На <code class=" language-none">CallbackQuery</code>можна надсилати відповідь. Кожен об'єкт у Telegram має свій id. Для відправки відповіді певний <code class=" language-none">CallbackQuery</code>потрібно знати лише його id, який ми отримаємо з відповідного об'єкта. Для надсилання відповіді викличемо такий метод: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">synchronized</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">answerCallbackQuery</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> callbackId<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">String</span></span> message<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">AnswerCallbackQuery</span></span> answer <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">AnswerCallbackQuery</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        answer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setCallbackQueryId</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>callbackId<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        answer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setText</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>message<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        answer<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">setShowAlert</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token keyword"><span class="token keyword">try</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token function"><span class="token function">answerCallbackQuery</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>answer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">catch</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">TelegramApiException</span></span> e<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            e<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">printStackTrace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><mark>ВАЖЛИВО:</mark>Текст у відповіді <code class=" language-none">CallbackQuery</code>має бути не довшим 200 символів! При надсиланні такої відповіді клієнт отримає спливаюче вікно, в якому буде написано повідомлення. Таке вікно може зникнути через кілька секунд саме після появи, а може висіти доти, доки користувач не натисне ок. Для перемикання цих режимів ми викликаємо метод <code class=" language-none">answer.setShowAlert(true)</code>. При <code class=" language-none">true</code>віконце висить до натискання ок, при<code class=" language-none">false</code>зникає за 5 секунд. У принципі, це все базові фішки бібліотеки Telegram bot. Такі речі як відправлення мультимедіа, геолокації і т.д. ви за бажання зможете освоїти з документації. Давайте перейдемо до депло нашого бота на хостингу. Для свого проекту я вибрав Heroku, тому на мою думку це досить зручний хостинг, який має свій CLI. Він безкоштовний, але на такому тарифі ваш бот за відсутності запитів йтиме в сплячку через 30 хвабон. Коли ж до нього буде надіслано запит, він прокидається. Це відбувається досить швидко, ви навіть не помітите (якщо звичайно коннект до БД не піднімається заново). Обмеження на безкоштовний тариф – 5MБ база даних, 100МБ дисковий простір, 2ТБ трафіку на місяць, 1 діно. Діно - це ваш запущений додаток. Скажу відразу, саме стадія деплоя викликала у мене труднощі, тому що я до цього ніколи не розгортав свої програми. Heroku при депло вимагає наявності файлу з ім'ям Procfile (без розширення). Створюємо його докорінно проекту, пишемо туди <code class=" language-none">worker: sh target/bin/workerBot</code> <strong>workerBot</strong> – ім'я, яке ми вказуємо у <code class=" language-none">pom.xml</code> Буде запускатися sh скрипт, що генерується за допомогою Maven плагіна appassembler-maven-plugin. У скрипті описано запуск скомпілованого jar. Ім'я класу, що запускається, вказується між &lt;mainClass&gt;&lt;/mainClass&gt;, ім'я скрипта між &lt;name&gt;&lt;/name&gt; pom.xml: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>
<span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>build<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
    <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>plugins<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
        <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>
       <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>plugin<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>groupId<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>org<span class="token punctuation"><span class="token punctuation">.</span></span>codehaus<span class="token punctuation"><span class="token punctuation">.</span></span>mojo<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>groupId<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>artifactId<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>appassembler<span class="token operator"><span class="token operator">-</span></span>maven<span class="token operator"><span class="token operator">-</span></span>plugin<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>artifactId<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>version<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token number"><span class="token number">1.1</span></span><span class="token number"><span class="token number">.1</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>version<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>configuration<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
                <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>assembleDirectory<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>target<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>assembleDirectory<span class="token operator"><span class="token operator">&gt;</span></span>
                <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>programs<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
                    <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>program<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
                        <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>mainClass<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token namespace"></span><span class="token class-name"><span class="token namespace"><span class="token namespace">com<span class="token punctuation"><span class="token punctuation">.</span></span>home<span class="token punctuation"><span class="token punctuation">.</span></span>server<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span>TelegramBot</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>mainClass<span class="token operator"><span class="token operator">&gt;</span></span>
                        <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>name<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>workerBot<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>name<span class="token operator"><span class="token operator">&gt;</span></span>
                    <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>program<span class="token operator"><span class="token operator">&gt;</span></span>
                <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>programs<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>configuration<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>executions<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
                <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>execution<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
                    <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>phase<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token keyword"><span class="token keyword">package</span></span><span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>phase<span class="token operator"><span class="token operator">&gt;</span></span>
                    <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>goals<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>
                        <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>goal<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span>assemble<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>goal<span class="token operator"><span class="token operator">&gt;</span></span>
                    <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>goals<span class="token operator"><span class="token operator">&gt;</span></span>
                <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>execution<span class="token operator"><span class="token operator">&gt;</span></span>
            <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>executions<span class="token operator"><span class="token operator">&gt;</span></span>
        <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>plugin<span class="token operator"><span class="token operator">&gt;</span></span>
    <span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>plugins<span class="token operator"><span class="token operator">&gt;</span></span>
<span class="token operator"><span class="token operator">&lt;</span></span><span class="token operator"><span class="token operator">/</span></span>build<span class="token operator"><span class="token operator">&gt;</span></span></code></pre> Перед початком цього процесу слід зареєструватися на Heroku, встановити Git і Heroku CLI. Якщо вашому додатку необхідна БД, то при оформленні нової програми не забудьте додати потрібну вам БД. Далі вам необхідно дізнатися host, username, password та port вашої БД, а після вказати у своєму додатку. Далі перед деплом виконайте складання вашого проекту за допомогою Maven. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">mvn clean install</code></pre><strong>Спочатку ми переходимо в каталог нашого проекту, ініціалізуємо репозиторій командою<code class=" language-none">git init</code></strong> <strong> Потім додаємо в цей репозиторій свій проект</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">git add <span class="token punctuation"><span class="token punctuation">.</span></span></code></pre><strong>Після комітім зміни</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">git commit <span class="token operator"><span class="token operator">-</span></span>m “<span class="token class-name"><span class="token class-name">First</span></span> commit in project”</code></pre><strong>Далі вам потрібно залогінитись на heroku, пишемо в командному рядку</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">heroku login</code></pre><strong>Вводимо свої дані, вказані під час реєстрації. Після вам потрібно дізнатися URL вашого репозиторію на heroku, робиться це в налаштуваннях. </strong> <strong>Потім пишемо</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">git remote add heroku <span class="token punctuation"><span class="token punctuation">[</span></span>url<span class="token punctuation"><span class="token punctuation">]</span></span></code></pre><strong>Для вашого репозиторію додасться віддалений репозиторій heroku. Далі пишемо</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">git push heroku master</code></pre> Чекаємо… <strong>При успішному депло додатку виконуємо команду</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">heroku ps<span class="token operator"><span class="token operator">:</span></span>scale worker<span class="token operator"><span class="token operator">=</span></span><span class="token number"><span class="token number">1</span></span></code></pre> І все, ваш додаток запущено. Якщо ж цього не сталося, уважно перегляньте логи, швидше за все виникає помилка у вашому додатку, через яку воно впало. Дякую за прочитання такої довгої статті, сподіваюся комусь це виявиться корисним і заощадить багато часу в тих місцях, де я спотикався при розробці.