IntelliJ IDEA: стиль та форматування коду
<p>----------------------------------------</p>
Сучасні інструменти дозволяють спростити процес розробки. У тому числі легше стежити за стилем свого коду, намагаючись зводити до мінімуму його "самовільне" форматування. У цьому огляді пропоную ознайомитися з тим, які кошти надає IDE Intel
<p>----------------------------------------</p>
Сучасні інструменти дозволяють спростити процес розробки. У тому числі легше стежити за стилем свого коду, намагаючись зводити до мінімуму його "самовільне" форматування. У цьому огляді пропоную ознайомитися з тим, які кошти надає IDE IntelliJ Idea розробнику для того, щоб код було приємно читати та легко розуміти. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="242" alt="IntelliJ IDEA: стиль та форматування коду - 1" src="https://cdn.javarush.com/images/article/d085f868-35c3-415d-8d82-4f90c26ae934/original.jpeg">
 </div>
</div>
<h2>Вступ</h2>Мова програмування дуже схожа на мову, якою розмовляють люди. Різниця лише в тому, що це особлива мова, яка спочатку служить для спілкування з комп'ютером, щоб пояснити, що ми від нього хочемо. Але спілкування віч-на-віч з комп'ютером не може бути. Навіть коли ви починали вивчати мову програмування, ви дивабося в книгу або якийсь освітній ресурс на кшталт CodeGym. І в цьому джерелі ви бачабо код, який зрозуміє комп'ютер. Але і ви повинні розуміти його в міру того, як у вас з'являється знання Java мови. Як і будь-якою мовою, у програмуванні прийнято деякі правила формування коду. Наприклад,<strong> писати забором</strong>в пристойному суспільстві вважатиметься правилом поганого тону, а Java називати метод з великої літери є грубим порушенням code style. Правила оформлення Java коду сформульовані у документі <a href="https://www.oracle.com/technetwork/java/codeconvtoc-136057.html" target="_blank" rel="nofollow">Java Code Convention</a> . Крім того, стиль оформлення коду може регламентувати і дрібніші деталі, наприклад, відступи. А коли використовуються засоби контролю версій, уявіть собі весь кошмар, коли кожен зберігатиме файл то з відступами у вигляді tab, то з відступами у вигляді пробілів. Яке буде тому, кому треба перевірити редагування всього в одному методі, а змінено буде весь файл через виправлення пробілів на таби або навпаки. Звичайно, як і зі звичайною мовою, стиль може змінюватися в залежності від місця, де він використовується. Наприклад, на просторах мережі можна знайти <a href="http://google.github.io/styleguide/javaguide.html" target="_blank" rel="nofollow">Google Java Style Guide</a>або <a href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md" target="_blank" rel="nofollow">Twitter Java Style Guide</a> . Для цієї оглядової статті нам знадобиться випробуваний. Скористайтеся послугою системи збирання проектів Gradle. Він дозволить нам створити за шаблоном новий проект для швидкого старту. У Gradle є чудовий плагін: <a href="https://docs.gradle.org/current/userguide/build_init_plugin.html" target="_blank" rel="nofollow">Build Init Plugin</a> . Перейдемо в новий каталог і виконаємо команду: <code class=" language-none">gradle init --type java-application</code> Після цього запускаємо IntelliJ Idea. Якщо у вас з'явиться вікно з відкритим проектом (побачите редактор коду, дерево структури проекту), закриємо цей проект за допомогою <code class=" language-none">File -&lt; Close Project</code>. Тепер у вікні привітання виконаємо <code class=" language-none">"Import Project"</code>та імпортуємо наш новий проект. При імпорті виставимо прапор <code class=" language-none">"Use autoimport"</code>. Давайте розбиратися, чи можна спростити життя за допомогою сучасних інструментів розробки. 
<h2>Форматування коду в Idea</h2>Виконавши імпорт проекту, натисніть комбінацію клавіш <code class=" language-none">Ctrl+N</code>і перейдемо до класу <code class=" language-none">AppTest</code>. Цей клас – клас тесту за умовчанням. Він має такий вигляд: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>junit<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">Test</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>junit<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">Assert</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>*<span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">AppTest</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token annotation punctuation"><span class="token annotation punctuation">@Test</span></span> <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">testAppHasAGreeting</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">App</span></span> classUnderTest <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">App</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token function"><span class="token function">assertNotNull</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"app should have a greeting"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> classUnderTest<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getGreeting</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Що тут одразу впадає у вічі? Анотація з оголошенням методу на одному рядку, що виглядає некрасиво, погодьтеся. Як це виправити? IntelliJ Idea має розділ меню <code class=" language-none">"Code"</code>для різних маніпуляцій з кодом. Однією з таких маніпуляцій є <code class=" language-none">"Reformat Code"</code>або комбінація клавіш <code class=" language-none">Ctrl + L</code>. Після застосування інструкція буде на одному рядку, а сам метод – на іншому. Варто відразу помітити, що ця операція виконується <u>над виділеною ділянкою коду</u> . А якщо такого немає, операцію форматування буде виконано над усім вмістом. Давайте тепер додамо новий тестовий метод: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Test</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">testSummOfOddNumbers</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">Integer</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> data <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">4</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">6</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">7</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">9</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token class-name"><span class="token class-name">Integer</span></span> result <span class="token operator"><span class="token operator">=</span></span> data<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">stream</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">filter</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>number <span class="token operator"><span class="token operator">-&gt;</span></span> number <span class="token operator"><span class="token operator">%</span></span> <span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">reduce</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n1<span class="token punctuation"><span class="token punctuation">,</span></span> n2<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> n1 <span class="token operator"><span class="token operator">+</span></span> n2<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">get</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token function"><span class="token function">assertThat</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>result<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token function"><span class="token function">is</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">12</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> І два імпорти: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">import</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>hamcrest<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">CoreMatchers</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>is<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">import</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token namespace"><span class="token namespace">org<span class="token punctuation"><span class="token punctuation">.</span></span>junit<span class="token punctuation"><span class="token punctuation">.</span></span></span><span class="token punctuation"></span></span><span class="token class-name"><span class="token class-name">Assert</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>assertThat<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Як видно, операція над Stream розміщена в один рядок. А що якщо ми хочемо зробити так, щоб завжди методи, виклик яких збудований у ланцюжок, розбивало по точці на нові рядки? З одного боку, ми можемо зробити це вручну. Але пам'ятайте, що хочемо, щоб у нас все працювало саме. Адже періодично ми забуватимемо, і формат коду стане скрізь різним, а це не є добре. Виходить, треба відредагувати правило, яким Idea виконує форматування. Виберемо в Idea в меню пункт <code class=" language-none">File -&gt; Settings</code>(або натиснемо<code class=" language-none">Ctrl + Alt + S</code>). У полі пошуку у вікні налаштувань напишемо "Code style". У розділі Code style можна вказати налаштування не тільки для Java. Але зараз нас цікавить саме Java. Як видно, параметри розбиті на кілька вкладок. Що найкорисніше, так це те, що результат зміни буде показаний на прикладі у правій частині вікна: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="5d4165e8-b2fb-41d7-ab46-437a95451783" data-max-width="1023" alt="IntelliJ IDEA: стиль та форматування коду - 2" src="https://cdn.javarush.com/images/article/5d4165e8-b2fb-41d7-ab46-437a95451783/800.jpeg" style="width: 1023px;">
 </div>
</div>Як бачимо на скріншоті, ми можемо вказати налаштування для "Chained method calls" як "wrap always", тобто. завжди розбивати для об'єднаних викликів методів. Тепер натиснемо ще раз форматування у тесті та побачимо, що це дійсно працює! Але іноді буває, що є потреба відформатувати якийсь код поза загальними правилами форматування. Налаштуємо форматування так: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="e833f418-fe2f-4f1a-ae71-dab83af007ac" data-max-width="541" alt="IntelliJ IDEA: стиль та форматування коду - 3" src="https://cdn.javarush.com/images/article/e833f418-fe2f-4f1a-ae71-dab83af007ac/512.jpeg" style="width: 541px;">
 </div>
</div>Щоб форматування можна було відключати, у розділі Code Style необхідно увімкнути підтримку маркерів відключення форматування: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="95bcd49c-d914-44f1-8fd5-fd10d04d7350" data-max-width="675" alt="IntelliJ IDEA: стиль та форматування коду - 4" src="https://cdn.javarush.com/images/article/95bcd49c-d914-44f1-8fd5-fd10d04d7350/512.jpeg" style="width: 675px;">
 </div>
</div>Тепер ми зможемо змінити код нашого тесту так, що його форматування залишиться в тому вигляді, в якому це ми напишемо: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Test</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">testSummOfOddNumbers</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">Integer</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> data <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">4</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">6</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">7</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">9</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token comment"><span class="token comment">// @formatter:off</span></span>
	<span class="token class-name"><span class="token class-name">Integer</span></span> result <span class="token operator"><span class="token operator">=</span></span> data<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">stream</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">filter</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>number <span class="token operator"><span class="token operator">-&gt;</span></span> number <span class="token operator"><span class="token operator">%</span></span> <span class="token number"><span class="token number">2</span></span> <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
                             <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">reduce</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n1<span class="token punctuation"><span class="token punctuation">,</span></span> n2<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-&gt;</span></span> n1 <span class="token operator"><span class="token operator">+</span></span> n2<span class="token punctuation"><span class="token punctuation">)</span></span>
                             <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">get</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token function"><span class="token function">assertThat</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>result<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token function"><span class="token function">is</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">12</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token comment"><span class="token comment">// @formatter:on</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Так, якщо ви помітабо: коли ви натискаєте Tab, Idea за вас його інтерпретує як прогалини (за замовчуванням поведінка). Але змінити це можна там же у Code Style: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="b804e83e-6e60-4171-9eb7-669f8a2a2e9a" data-max-width="517" alt="IntelliJ IDEA: стиль та форматування коду - 5" src="https://cdn.javarush.com/images/article/b804e83e-6e60-4171-9eb7-669f8a2a2e9a/512.jpeg" style="width: 517px;">
 </div>
</div>Як Ви бачите, там безліч налаштувань. Докладніше про налаштування Code style можна прочитати тут: " <a href="https://www.jetbrains.com/help/idea/settings-code-style.html" target="_blank" rel="nofollow">Idea Help: Code Style</a> ". Є ще одна важлива особливість форматування – форматування імпортів. Воно виконується окремо і називається <code class=" language-none">"Optimize Imports"</code>і знаходиться у пункті меню <code class=" language-none">Code -&gt; Optimize Imports</code>(Ctrl+Alt+O). Оптимізація імпорту прибирає непотрібні імпорти, а також розташовує їх у правильному порядку відповідно до налаштувань із вкладки Imports налаштувань Code Style для Java. Крім того, якщо ви захочете, щоб форматування відбувалося автоматично, для вас є хороша новина: це можна зробити за допомогою плагіна <a href="https://plugins.jetbrains.com/plugin/7642-save-actions" target="_blank" rel="nofollow">Save Actions</a> . 
<h2>Поширення налаштувань у команді</h2>Відмінно, ми побачабо, що можна налаштувати стиль форматування так, як нам зручно. Але як цей стиль використовувати у команді? Дуже просто. Є кілька варіантів. Найпростіший – зберегти схему. Відкриємо налаштування Idea через File-&gt;Settings (або натиснемо Ctrl+Alt+S). У розділі Code Style ми можемо побачити напис Scheme. Це наша схема форматування. За замовчуванням вказана схема з ім'ям Default та поруч приписка IDE: це означає, що це налаштування тільки для нашої IDE, і вона не діє ні на кого. Щоб зробити "користувацьку" схему, по кнопці праворуч робимо "дублікат" і даємо йому назву, наприклад: CodeGym 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="ac63dd37-ec9b-4060-8cc1-0bdca6e9f5f7" data-max-width="669" alt="IntelliJ IDEA: стиль та форматування коду - 6" src="https://cdn.javarush.com/images/article/ac63dd37-ec9b-4060-8cc1-0bdca6e9f5f7/512.jpeg" style="width: 669px;">
 </div>
</div>Після цього ми зможемо імпортувати або експортувати налаштування: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="f33eb67d-9b4e-44b3-b4ce-06bee98f80de" data-max-width="501" alt="IntelliJ IDEA: стиль та форматування коду - 7" src="https://cdn.javarush.com/images/article/f33eb67d-9b4e-44b3-b4ce-06bee98f80de/256.jpeg" style="width: 501px;">
 </div>
</div>Інший варіант - це імпорт імпорту налаштувань Idea: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="4c0c02d2-54b7-4f78-9167-400abbdaed37" data-max-width="815" alt="IntelliJ IDEA: стиль та форматування коду - 8" src="https://cdn.javarush.com/images/article/4c0c02d2-54b7-4f78-9167-400abbdaed37/800.jpeg" style="width: 815px;">
 </div>
</div>Третій варіант - Settings Repository. Для використання Settings Repository див. докладніше документацію "IntelliJ Idea Help: <a href="https://www.jetbrains.com/help/idea/settings-tools-settings-repository.html" target="_blank" rel="nofollow">Settings Repository</a> ". У тему поширення єдиного стилю у команді також не можу не відзначити хорошу підтримку стилів із IDE Eclipse. Для цього потрібно встановити окремий плагін: відкрийте налаштування Idea через File -&gt; Settings (Ctrl + Alt + S) і перейдіть в розділ Plugins. Для пошуку нових плагінів натисніть кнопку <code class=" language-none">"Browse Repositories"</code>, після чого у вікні пошуку знайдемо плагін Eclipse Code Formatter. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="21982063-6903-498d-81b0-803d94c0854d" data-max-width="804" alt="IntelliJ IDEA: стиль та форматування коду - 9" src="https://cdn.javarush.com/images/article/21982063-6903-498d-81b0-803d94c0854d/800.jpeg" style="width: 804px;">
 </div>
</div>Тепер, після встановлення, необхідно перезапустити Idea – це стандартна процедура. Після цього, все там же, в налаштуваннях Idea, ми знайдемо новий розділ: "Eclipse Code Formatter" Приклад файлу форматування для Eclipse <a href="https://github.com/spring-projects/spring-amqp/blob/master/eclipse-code-formatter.xml" rel="nofollow" target="_blank">можна взяти тут</a> . Виглядатиме це приблизно так: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="caf0ec6c-a27b-4e77-92ab-eea73d2d836b" data-max-width="812" alt="IntelliJ IDEA: стиль та форматування коду - 10" src="https://cdn.javarush.com/images/article/caf0ec6c-a27b-4e77-92ab-eea73d2d836b/800.jpeg" style="width: 812px;">
 </div>
</div>
<h2>Посилення вимог</h2>Крім засобів Idea, можна також використовувати плагіни систем збирання для посилення вимог. Ніяк не перевіриш, що людина використовувала форматування. Якщо в команді 5 осіб – ще можна. Якщо в компанії 100 осіб – нереально. Та навіть за п'ятьма встежити буде важко. Та й навіщо зайва трата часу на таке? Набагато простіше заборонити збирати проект при порушенні деяких правил. Насправді це вже ціла окрема тема під назвою "Inspect Code". У рамках цієї статті хочеться просто показати як це працює. Одним з найпоширеніших плагінів для Gradle (бо він збирає у нас проект, якщо пам'ятаєте) є <a href="https://docs.gradle.org/current/userguide/pmd_plugin.html" target="_blank" rel="nofollow">pmd</a> . Для його включення достатньо перейти в build script нашого gradle проекту (файл build.gradle в корені нашого проекту) і вказати в ньому pmd поряд з іншими плагінами: 
<pre class="line-numbers language-none" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-none">
plugins {
    // Apply the java plugin to add support for Java
    id 'java'
    // Check source code
    id 'pmd'
    // Apply the application plugin to add support for building an application
    id 'application'
}</code></pre> Тепер можемо задати більш детальні налаштування там: 
<pre class="line-numbers language-none" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class=" language-none">
pmd {
    ignoreFailures = false
    pmdTest.enabled = true
    ruleSets = [
            'java-basic',
            'java-braces',
            'java-clone',
            'java-codesize',
            'java-comments',
            'java-controversial',
            'java-coupling',
            'java-design',
            'java-empty',
            'java-finalizers',
            'java-imports',
            'java-optimizations',
            'java-strictexception',
            'java-strings',
            'java-typeresolution',
            'java-unnecessary',
            'java-unusedcode'
    ]
}</code></pre> Навіть у нашому проекті вже все не добре. Виконаємо gradle build та отримаємо помилку. Що приємно, при складанні формується звіт. І якщо будуть помилки, ми отримаємо повідомлення: 
<pre class="line-numbers language-none" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class=" language-none">
BUILD FAILED in 35s
6 actionable tasks: 6 executed
7 PMD rule violations were found. See the report at: file:///C:/_study/codestyle/build/reports/pmd/main.html</code></pre> Якщо ми перейдемо у звіт, побачимо щось на кшталт: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="159b17b3-a53e-4cac-911f-239c9f08876a" data-max-width="757" alt="IntelliJ IDEA: стиль та форматування коду - 11" src="https://cdn.javarush.com/images/article/159b17b3-a53e-4cac-911f-239c9f08876a/512.jpeg" style="width: 757px;">
 </div>
</div>Причому в колонці Problem наведено посилання на опис проблеми на сайті плагіна pmd. Наприклад, для помилки "headerCommentRequirement Required" посилання веде сюди: pmd - <a href="https://pmd.github.io/pmd-5.6.1/pmd-java/rules/java/comments.html#CommentRequired" target="_blank" rel="nofollow">CommentRequired</a> . Ця помилка натякає нам, що наш клас не має JavaDoc. Наявність JavaDoc над класами можна налаштувати за допомогою шаблонів: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="5d55233f-7549-4a6f-a30e-f938a9ed2daa" data-max-width="929" alt="IntelliJ IDEA: стиль та форматування коду - 12" src="https://cdn.javarush.com/images/article/5d55233f-7549-4a6f-a30e-f938a9ed2daa/800.jpeg" style="width: 929px;">
 </div>
</div>І вказати для File Header вміст: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-id="201e4a27-4892-45f4-8ab5-71e86bc30a73" data-max-width="366" alt="IntelliJ IDEA: стиль та форматування коду - 13" src="https://cdn.javarush.com/images/article/201e4a27-4892-45f4-8ab5-71e86bc30a73/256.jpeg" style="width: 366px;">
 </div>
</div>Після цього можемо перетворити коментар над класом App JavaDoc і побачимо при новому Build, що помилка зникла. 
<h2>Підсумок</h2>Стиль коду важливий для роботи над проектом. Гарний код, написаний за загальними правилами - запорука того, що ваші колеги його простіше і швидше зрозуміють, і не скажуть на вашу адресау пари ласкавих. Враховуючи сучасні засоби розробки, дотримуватися правил не так вже й складно. Сподіваюся, цей огляд показав, що це справді так. Ну і за традицією, небагато матеріалу на тему: 
<ul>
 <li>Відео від JetBrainsTV: " <a href="https://www.youtube.com/watch?v=pagPSJQ8fVc" target="_blank" rel="nofollow">Inspect Code (IntelliJ IDEA)</a> "</li>
 <li>Огляд " <a href="https://dzone.com/articles/code-analysis-with-gradle" target="_blank" rel="nofollow">Code Analysis With Gradle Plugins</a> "</li>
 <li>Курс " <a href="https://www.youtube.com/watch?v=zog1ihjN2kw&amp;list=PLcpOXPDTV31oQay22dc-dGeugMUjjuagT" target="_blank" rel="nofollow">Automate Code Quality</a> "</li>
</ul> #Viacheslav