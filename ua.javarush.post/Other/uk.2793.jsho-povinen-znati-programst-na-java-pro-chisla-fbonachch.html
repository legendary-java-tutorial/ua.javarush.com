Що повинен знати програміст на Java про числа Фібоначчі
<p>----------------------------------------</p>
Часто на співбесідах, особливо в іноземних компаніях, можуть розпитувати про алгоритми, а в стресовій ситуації судомно щось згадувати не завжди просто. Тож треба готуватися. Для початку хоча б освіжити в пам'яті основні алгоритми. Сьогодні 
<p>----------------------------------------</p>
Часто на співбесідах, особливо в іноземних компаніях, можуть розпитувати про алгоритми, а в стресовій ситуації судомно щось згадувати не завжди просто. Тож треба готуватися. Для початку хоча б освіжити в пам'яті основні алгоритми. Сьогодні ми розберемо таке явище як числа Фібоначчі і варіанти завдань, що найбільше зустрічаються, пов'язаних з ними. <strong>Числа Фібоначчі</strong> - це послідовність натуральних чисел, яка починається з чисел нуль і один, а кожне наступне число дорівнює сумі двох попередніх: 
<center>
 <p">
  <big><strong>F = {0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, ...} F 0 = 0, <br>
     F <sub>1</sub> = <sub>1</sub> , F <sub>n</sub> = F <sub>n - 1</sub> + F <sub>n - 2</sub> ; <br>
     n ≥ 0, n ∈ Z</strong></big>
  <p></p>
 </p">
</center>Варто зазначити, що іноді 0 опускається, і ряд починається з 1 1 2 3. Як правило, в умовах задачі відразу уточнюється, з яких перших двох чисел починається ряд (0,1 або 1,1), тому далі ми розглядатимемо рішення для обох випадків. 
<h2>Отримання перших n чисел Фібоначчі Java</h2>Припустимо, ми маємо завдання з отримання перших n чисел Фібоначчі. 
<ul>
 <li>
  <p>випадок 0,1:</p>
  <p>До нас приходить кілька n:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arr <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span>n<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> arr<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token operator"><span class="token operator">++</span></span>i<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  arr<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">+</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Ми створюємо масив розміру n. Перші два елементи дорівнюватимуть нулю та одиниці, а решта елементів отримуємо, проходячись по даному циклу і використовуючи попередні числа з масиву.</p>
  <p>І виводимо на екран:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> arr<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token operator"><span class="token operator">++</span></span>i<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>arr<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Задаємо int n = 10;</p>
  <p>І отримуємо:</p>
  <pre class=" language-none" tabindex="0"><code class=" language-none">
0
1
1
2
3
5
8
13
21
34</code></pre></li>
 <li>
  <p>для випадку 1,1 рішення фактично не відрізняється:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> arr <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span>n<span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> arr<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token operator"><span class="token operator">++</span></span>i<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  arr<span class="token punctuation"><span class="token punctuation">[</span></span>i<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">=</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">+</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span>i <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Все, що нам потрібно було змінити, - це перший елемент масиву arr[0]: з 0 на 1. Відповідно, перші 10 елементів будуть:</p>
  <pre class=" language-none" tabindex="0"><code class=" language-none">
1
1
2
3
5
8
13
21
34
55</code></pre></li>
</ul>
<h2>Перші n чисел Фібоначчі через stream</h2>Але ж ми хочемо показати свій рівень. Тому давайте подивимося, як будемо виглядати це рішення з використанням <a href="" target="_blank">stream</a> . 
<ul>
 <li>
  <p>для 0,1:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Stream</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">iterate</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arr <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token operator"><span class="token operator">+</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
   <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">limit</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n<span class="token punctuation"><span class="token punctuation">)</span></span>
   <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">map</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>y <span class="token operator"><span class="token operator">-&gt;</span></span> y<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
   <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>Статичний метод iterate класу <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html" rel="nofollow" target="_blank">Stream</a> повертає нескінченний упорядкований потік, створений застосуванням функції початкового масиву arr. У нашому випадку як функція служить завдання правила складання кожного нового масиву, ґрунтуючись на попередньому. Як результат ми отримаємо потік із масивів:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">5</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">5</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">8</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">8</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">13</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">13</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">21</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">21</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">34</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">34</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">55</span></span><span class="token punctuation"><span class="token punctuation">}</span></span>
…<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span></code></pre>
  <p>Але їх буде безліч, і тому за допомогою .limit(n) ми урізаємо кількість елементів до перших n (у нашому випадку до 10).</p>
  <p>Однак нам не потрібен потік масивів, тому за допомогою .map(y -&gt; y[0]) ми відбираємо по першому елементу кожного масиву і отримуємо потік з необхідними числами і за допомогою forEach виводимо на консоль.</p>
  <p>Виглядає крутіше, чи не так?</p><img data-max-width="512" data-id="61377d55-e903-47dc-b086-1bf298d8d740" alt="Що повинен знати програміст на Java про числа Фібоначчі - 2" src="https://cdn.javarush.com/images/article/61377d55-e903-47dc-b086-1bf298d8d740/512.jpeg" style="width: 512px;">при перших елементах 1,1 цей код також буде майже таким самим:
  <p></p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Stream</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">iterate</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arr <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token operator"><span class="token operator">+</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
     <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">limit</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n<span class="token punctuation"><span class="token punctuation">)</span></span>
     <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">map</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>y <span class="token operator"><span class="token operator">-&gt;</span></span> y<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
     <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>x<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>Знову ж таки, відмінності — в початковому елементі: замість {0, 1} задаємо {1, 1}</p>
  <p>Власне, результати будуть такими самими, як і в попередньому прикладі.</p></li>
</ul>
<h2>Сума чисел Фібоначчі</h2>А якщо нас попросабо отримати суму чисел Фібоначчі по n-ий елемент включно? Це не повинно спричинити у нас труднощів. Візьмемо рішення зі стримуванням, замінимо длякожного на пару інших методів: 
<ul>
 <li>
  <p>для 0,1:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">int</span></span> n <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">10</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">int</span></span> result <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Stream</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">iterate</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">{</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arr <span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token operator"><span class="token operator">+</span></span> arr<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
     <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">limit</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n<span class="token punctuation"><span class="token punctuation">)</span></span>
     <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">map</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>t <span class="token operator"><span class="token operator">-&gt;</span></span> t<span class="token punctuation"><span class="token punctuation">[</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">]</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
     <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">mapToInt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Integer</span></span><span class="token operator"><span class="token operator">::</span></span><span class="token function"><span class="token function">intValue</span></span><span class="token punctuation"><span class="token punctuation">)</span></span>
     <span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">sum</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>result<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre>
  <p>За допомогою .mapToInt(Integer::intValue) ми переводимо наш stream у числовий IntStream і за допомогою його методу .sum() отримуємо суму всіх елементів.</p></li>
 <li>для випадку з 1,1 початковим елементом замість {0, 1} задаємо {1, 1}.</li>
</ul>
<h2>Отримання n-ого число у ряді Фібоначчі</h2>Іноді просять вивести не ряд чисел, а саме n-е число у ряді Фібоначчі. Як правило, це тільки полегшує завдання, адже можна легко адаптувати попередні рішення для цього. Ну а як щодо вирішення задачі через рекурсію? 
<ol>
 <li>
  <p>для 0,1:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">getFibonacciValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> n<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">&lt;=</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span>  <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> <span class="token function"><span class="token function">getFibonacciValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">+</span></span> <span class="token function"><span class="token function">getFibonacciValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>Для виконання алгоритму з 0,1 необхідно задати, що при спробі отримати перший елемент ми отримуємо 0, а другий — 1. По суті, як і в попередніх рішеннях, нам потрібно задати перші два елементи.</p></li>
 <li>
  <p>реалізація для 1,1 трохи відрізнятиметься:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">getFibonacciValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> n<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span>  <span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> <span class="token function"><span class="token function">getFibonacciValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">+</span></span> <span class="token function"><span class="token function">getFibonacciValue</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>n <span class="token operator"><span class="token operator">-</span></span> <span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre>
  <p>У цьому випадку нам достатньо задати лише перший елемент як 1, тому що другий елемент буде таким самим, і реакція методу буде такою ж.</p>
  <p>При цьому ми задаємо реакцію методу на 0, адже якщо не задати, то коли прийде 2 як аргумент, рекурсивно викликається той самий метод, але з аргументом 0. Далі буде запускатися цей же метод, але вже з негативними числами і так до негативної нескінченності. Як результат ми отримаємо <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/StackOverflowError.html" rel="nofollow" target="_blank">StackOverflowError</a> .</p></li>
</ol>Тим не менш, рекурсивний спосіб не рекомендується використовувати, тому що, на відміну від попередніх способів, які працюють за лінійний час від O(n), рекурсивний спосіб може працювати значно довше. Чому? <img data-max-width="512" data-id="6941c305-d004-4248-8934-5c43659db65b" alt="Що повинен знати програміст на Java про числа Фібоначчі - 3" src="https://cdn.javarush.com/images/article/6941c305-d004-4248-8934-5c43659db65b/512.jpeg" style="width: 512px;">Рекурсивний метод може працювати довго, оскільки у процесі розрахунку функція багато разів викликатиметься від однієї й тієї аргументу. Наприклад, при обчисленні getFibonacciValue(7) функція зробить рекурсивні виклики до getFibonacciValue(5) і getFibonacciValue(6), обидва рекурсивні виклики будуть звертатися до getFibonacciValue(4)), що і призведе до багаторазових. <a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="3b361b19-2b01-40fe-b71b-8e9740787a87" alt="Що повинен знати програміст на Java про числа Фібоначчі - 4" src="https://cdn.javarush.com/images/article/3b361b19-2b01-40fe-b71b-8e9740787a87/1024.jpeg" style="width: 1024px;"></a>На співбесіді можна показати цей спосіб як варіант рішення, але при цьому розповісти про ці його недоліки і натомість запропонувати інший спосіб. Також варто відзначити, що тип int в Java дозволяє зберігати від -2147483648 до 2147483647, тому вдасться обчислити тільки перші 46 чисел Фібоначчі: при спробі отримати наступне 47-е виникне переповнення, і ми отримаємо негативне число. Якщо ми будемо використовувати тип даних long замість int, то вдасться правильно обчислити перші 91 число Фібоначчі. Щоб обчислювати наступні числа Фібоначчі, необхідно скористатися класом BigInteger, який реалізує логіку зберігання та арифметичних операцій дійсно більших чисел.