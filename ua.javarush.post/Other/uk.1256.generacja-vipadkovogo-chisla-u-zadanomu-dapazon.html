Генерація випадкового числа у заданому діапазоні
<p>----------------------------------------</p>
Привіт по той бік екрану. Будь-який з нас рано чи пізно зустрічається з необхідністю генерувати випадкове число в заданому нами діапазоні чи то речове чи ціле число. Для чого? Насправді це не важливо, це може бути функція для розрахунку шан
<p>----------------------------------------</p>
Привіт по той бік екрану. Будь-який з нас рано чи пізно зустрічається з необхідністю генерувати випадкове число в заданому нами діапазоні чи то речове чи ціле число. <img data-id="6630fc85-5aba-4ec1-96ff-4f03ef6028d9" data-max-width="850" alt="Генерація випадкового числа у заданому діапазоні - 1" src="https://cdn.javarush.com/images/article/6630fc85-5aba-4ec1-96ff-4f03ef6028d9/800.jpeg" style="width: 850px;">Для чого? Насправді це не важливо, це може бути функція для розрахунку шансу для запуску якоїсь події, отримання випадкового множника або будь-яка інша. Отже, навіщо це потрібно розібралися, саме для чого завгодно :) Насправді методів отримання псевдовипадкового числа дуже багато, я наведу приклад із класом <code class=" language-none">Math</code>, саме з методом <code class=" language-none">random()</code>; Що ми маємо? Виклик методу <code class=" language-none">Math.random()</code>повертає псевдовипадкове речове число ( <code class=" language-none">double</code>) з діапазону<code class=" language-none">[0;1)</code>, тобто, від 0 до 1 за винятком 1, а значить максимальне число в діапазоні це 0.99999999999... Добре, ми отримали псевдовипадкове число, але якщо нам потрібен свій діапазон? Наприклад, нам потрібне псевдовипадкове число з діапазону [0; 100)? <strong>Пишемо код:</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">double</span></span> max <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">100.</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// Максимальное число для диапазона от 0 до max</span></span>
	<span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">double</span></span> rnd <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">rnd</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>max<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

	<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Псевдослучайное вещественное число: "</span></span> <span class="token operator"><span class="token operator">+</span></span> rnd<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token comment"><span class="token comment">/**
 * Метод получения псевдослучайного вещественного числа от 0 до max (исключая max);
 */</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">double</span></span> <span class="token function"><span class="token function">rnd</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">double</span></span> max<span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">return</span></span> <span class="token class-name"><span class="token class-name">Math</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">random</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">*</span></span> max<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Вийшло непогано, але <code class=" language-none">max</code>(у нашому випадку) ми все одно не отримаємо. Для того щоб отримати випадкове число в діапазоні [0;100] нам необхідно додати до нашого <code class=" language-none">max</code>1, а потім перетворити на ціле число типу <code class=" language-none">int</code>або <code class=" language-none">long</code>(залежить від діапазонів, які Ви будете використовувати). <strong>Пишемо код:</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> max <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">100</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// Максимальное число для диапазона от 0 до max</span></span>
	<span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> rnd <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">rnd</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>max<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

	<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Псевдослучайное целое число: "</span></span> <span class="token operator"><span class="token operator">+</span></span> rnd<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token comment"><span class="token comment">/**
 * Метод получения псевдослучайного целого числа от 0 до max (включая max);
 */</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">rnd</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> max<span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">return</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Math</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">random</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">*</span></span> <span class="token operator"><span class="token operator">++</span></span>max<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Примітка:</strong> Як бачите, змінна max була інкрементована префіксною формою. (Якщо Ви не знаєте що це раджу почитати <a href="http://info.codegym.cc/L2CCCP/2015/05/30/%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%B8%D0%BD%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%B4%D0%B5%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.html">мою статтю</a> ) Відмінно, ми отримали те, що хотіли, але якщо нам потрібен діапазон не від 0, а наприклад [10; 75] <strong>Пишемо код:</strong>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token punctuation"><span class="token punctuation">.</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span>
	<span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> min <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">10</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// Минимальное число для диапазона</span></span>
	<span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> max <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">75</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> <span class="token comment"><span class="token comment">// Максимальное число для диапазона</span></span>
	<span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> rnd <span class="token operator"><span class="token operator">=</span></span> <span class="token function"><span class="token function">rnd</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>min<span class="token punctuation"><span class="token punctuation">,</span></span> max<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

	<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Псевдослучайное целое число: "</span></span> <span class="token operator"><span class="token operator">+</span></span> rnd<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token comment"><span class="token comment">/**
 * Метод получения псевдослучайного целого числа от min до max (включая max);
 */</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">rnd</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> min<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> max<span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token punctuation"><span class="token punctuation">{</span></span>
	max <span class="token operator"><span class="token operator">-=</span></span> min<span class="token punctuation"><span class="token punctuation">;</span></span>
	<span class="token keyword"><span class="token keyword">return</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Math</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">random</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">*</span></span> <span class="token operator"><span class="token operator">++</span></span>max<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">+</span></span> min<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Розбір коду з методу <code class=" language-none">rnd</code>:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
Минимальное число диапазона = 10;
Максимальное число диапазона = 75;
max -= min; // Отнимаем от максимального значения минимальное для получения множителя псевдослучайного вещественного числа.</code></pre> Максимальне число після розрахунку дорівнює <strong>65</strong> Псевдовипадкове матеріальне число (наприклад) дорівнює 0.18283417347179454 (Було отримано при виклику <code class=" language-none">Math.random()</code>). Максимальне число перед множенням було інкрементовано префіксною формою. Максимальне число тепер 66 Множимо 0.18283417347179454 на 66. Результат множення дорівнює 12.06705544913844. Перетворюємо результат множення максимального числа на псевдовипадкове речове число до типу цілого числа<code class=" language-none">int</code>. Додаємо мінімальне число до перетвореного результату який дорівнює 12. Повертаємо результат: 22 Як видно з розбору, навіть якщо псевдовипадкове речове число дорівнюватиме нулю, то ми повернемо наш мінімум в результаті складання нашого мінімального числа з результатом множення. Сподіваюся для Вас це було корисно та пізнавально. Успіхів в освоєнні Java ;) <strong>Ще пару моїх статей: </strong> <a target="_blank" href="http://info.codegym.cc/L2CCCP/2015/05/30/%D0%A7%D1%82%D0%BE-%D1%82%D0%B0%D0%BA%D0%BE%D0%B5-%D0%B8%D0%BD%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B8-%D0%B4%D0%B5%D0%BA%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.html">Що таке інкрементування та декрементування </a> <a target="_blank" href="http://info.codegym.cc/L2CCCP/2013/08/25/%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80-%D0%B4%D0%B5%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F-%D0%BF%D0%BE-%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8E.html">Оператор поділу по модулю</a>