Інтерфейси в Java
<p>----------------------------------------</p>
Вітання! Сьогодні поговоримо про важливе поняття Java — інтерфейси. Слово тобі, напевно, знайоме. Наприклад, інтерфейси є у більшості комп'ютерних програм та ігор. У широкому сенсі інтерфейс — якийсь «пульт», який пов'язує дві сторони, що в
<p>----------------------------------------</p>
Вітання! Сьогодні поговоримо про важливе поняття Java — інтерфейси. Слово тобі, напевно, знайоме. Наприклад, інтерфейси є у більшості комп'ютерних програм та ігор. У широкому сенсі інтерфейс — якийсь «пульт», який пов'язує дві сторони, що взаємодіють один з одним. Простий приклад інтерфейсу з повсякденного життя – пульт від телевізора. Він пов'язує два об'єкти, людину та телевізор, і виконує різні завдання: додати або зменшити звук, переключити канали, увімкнути або вимкнути телевізор. Одній стороні (людині) потрібно звернутися до інтерфейсу (натиснути кнопку пульта), щоб друга сторона виконала дію. Наприклад, щоб телевізор переключив канал на наступний. При цьому користувачеві не обов'язково знати пристрій телевізора та те, як усередині нього реалізовано процес зміни каналу.<img data-id="41c3ebe9-9db0-4720-a036-27ac16057a52" data-max-width="850" alt="Для чого в Java потрібні інтерфейси?" src="https://cdn.javarush.com/images/article/41c3ebe9-9db0-4720-a036-27ac16057a52/800.jpeg" style="width: 850px;">Все, до чого користувач має доступ - це <em>інтерфейс</em> . Головне завдання – отримати потрібний результат. Яке це має відношення до програмування та Java? Пряме :) Створення інтерфейсу дуже схоже створення звичайного класу, тільки замість слова <code class=" language-none">class</code>ми вказуємо слово <code class=" language-none">interface</code>. Давай подивимося на найпростіший Java-інтерфейс і розберемося, як він працює і для чого потрібен: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">Swimmable</span></span>  <span class="token punctuation"><span class="token punctuation">{</span></span>

     <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">swim</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Ми створабо інтерфейс <code class=" language-none">Swimmable</code>- " <em>вміє плавати</em> ". Це щось на зразок нашого пульта, який має одну «кнопку»: метод <code class=" language-none">swim()</code> — «плисти». Як же нам цей <em>пульт</em> використовувати? І тому метод, тобто. кнопку нашого пульта потрібно імплементувати. Щоб використати інтерфейс, його методи мають реалізувати якісь класи нашої програми. Давай придумаємо клас, об'єкти якого підійдуть під опис «який вміє плавати». Наприклад, підійде клас качки - <code class=" language-none">Duck</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Duck</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Swimmable</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">swim</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Качечка, пливи!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

        <span class="token class-name"><span class="token class-name">Duck</span></span> duck <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Duck</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        duck<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">swim</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Що ми тут бачимо? Клас <code class=" language-none">Duck</code>«зв'язується» з інтерфейсом <code class=" language-none">Swimmable</code>за допомогою ключового слова <code class=" language-none">implements</code>. Якщо пам'ятаєш, ми використовували схожий механізм для зв'язку двох класів у спадкуванні, тільки там було слово <em>extends</em> . « <code class=" language-none">public class Duck implements Swimmable</code>» можна зрозуміло перекласти дослівно: «суспільний клас <code class=" language-none">Duck</code>реалізує інтерфейс <code class=" language-none">Swimmable</code>». Це означає, що клас, пов'язаний з якимось інтерфейсом, має реалізувати всі його методи. <em>Зверніть увагу:</em> в нашому класі <code class=" language-none">Duck</code>прямо як в інтерфейсі <code class=" language-none">Swimmable</code>є метод <code class=" language-none">swim()</code>, і всередині нього міститься якась логіка. Це обов'язкова вимога. Якби ми просто написали « <code class=" language-none">public class Duck implements Swimmable</code>» і не створабо метод <code class=" language-none">swim()</code>у класі <code class=" language-none">Duck</code>, компілятор видав би нам помилку: <em>Duck is not abstract and does not override abstract method swim() in Swimmable</em> Чому так відбувається? Якщо пояснювати помилку на прикладі з телевізором, то вийде, що ми даємо людині в руки пульт з кнопкою «переключити канал» від телевізора, який не вміє перемикати канали. Тут вже натискай на кнопку, скільки влізе, нічого не заробить. Пульт сам собою не перемикає канали: він лише дає сигнал телевізору, всередині якого реалізовано складний процес зміни каналу. Так і з нашою качкою: вона повинна вміти плавати, щоб до неї можна було звернутися за допомогою інтерфейсу <code class=" language-none">Swimmable</code>. Якщо вона цього не вміє, інтерфейс <code class=" language-none">Swimmable</code>не зв'яже дві сторони – людину та програму. Людина не зможе використовувати метод <code class=" language-none">swim()</code>, щоб змусити об'єкт<code class=" language-none">Duck</code>всередині програми плисти. Тепер ти побачив наочно, для чого потрібні інтерфейси. Інтерфейс визначає поведінка, якою повинні мати класи, що реалізують цей інтерфейс. "Поведінка" - це сукупність методів. Якщо ми хочемо створити кілька месенджерів, найпростіше зробити це, створивши інтерфейс <code class=" language-none">Messenger</code>. Що має вміти будь-який месенджер? У спрощеному вигляді приймати та відправляти повідомлення. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">Messenger</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>

     <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">sendMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

     <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">getMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> І тепер ми можемо просто створювати наші класи-месенджери, імплементуючи цей інтерфейс. Компілятор сам «змусить» нас реалізувати їх усередині класів. Telegram: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Telegram</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Messenger</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">sendMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Надсилаємо повідомлення в Telegram!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

     <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">getMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
         <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Читаємо повідомлення у Telegram!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
     <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> WhatsApp: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">WhatsApp</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Messenger</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">sendMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Надсилаємо повідомлення в WhatsApp!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

     <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">getMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
         <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Читаємо повідомлення у WhatsApp!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
     <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Viber: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Viber</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Messenger</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">sendMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Відправляємо повідомлення у Viber!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

     <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">getMessage</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
         <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Читаємо повідомлення у Viber!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
     <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Які переваги це надає? Найголовніше з них – слабка пов'язаність. Уяви, що ми проектуємо програму, в якій у нас буде зібрано дані клієнтів. У класі <code class=" language-none">Client</code>обов'язково потрібно поле, що вказує, яким саме месенджер клієнт користується. Без інтерфейсів це було б дивно: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Client</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">WhatsApp</span></span> whatsApp<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">Telegram</span></span> telegram<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">Viber</span></span> viber<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Ми створабо три поля, але у клієнта запитто може бути лише один месенджер. Просто ми не знаємо який. І щоб не залишитися без зв'язку з клієнтом, доводиться «заштовхувати» до класу всі можливі варіанти. Виходить, один або два з них завжди будуть <code class=" language-none">null</code>і вони взагалі не потрібні для роботи програми. Натомість краще використовувати наш інтерфейс: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Client</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">Messenger</span></span> messenger<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Це і є приклад «слабкої пов'язаності»! Замість того, щоб вказувати конкретний клас месенджера в класі <code class=" language-none">Client</code>ми просто згадуємо, що у клієнта є месенджер. Який саме – визначиться у ході роботи програми. Але навіщо для цього саме інтерфейси? Навіщо їх взагалі додали до мови? Питання хороше і правильне! Того ж результату можна досягти за допомогою звичайного успадкування, правда? Клас <code class=" language-none">Messenger</code>- батьківський, а <code class=" language-none">Viber</code>, <code class=" language-none">Telegram</code>і <code class=" language-none">WhatsApp</code>- спадкоємці. Справді, можна й так. Але є одна проблема. Як ти вже знаєш, множинного спадкування в Java немає. А ось численна реалізація інтерфейсів є. Клас може реалізовувати скільки завгодно інтерфейсів. Уяви, що у нас є клас <code class=" language-none">Smartphone</code>, у якого є поле<code class=" language-none">Application</code>— встановлений на смартфоні програма. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Smartphone</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">Application</span></span> application<span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Додаток і месенджер, звичайно, схожі, але це різні речі. Месенджер може бути і мобільним, і десктопним, тоді як Application - це саме мобільний додаток. Так от, якби ми використовували успадкування, не змогли б додати об'єкт <code class=" language-none">Telegram</code>до класу <code class=" language-none">Smartphone</code>. Адже клас <code class=" language-none">Telegram</code>не може успадковуватися одночасно від <code class=" language-none">Application</code>і від <code class=" language-none">Messenger</code>! А ми вже встигли успадкувати його від <code class=" language-none">Messenger</code>, і в такому вигляді додати до класу <code class=" language-none">Client</code>. Але реалізувати обидва інтерфейси клас <code class=" language-none">Telegram</code>запитто може! Тому в класі <code class=" language-none">Client</code>ми зможемо впровадити об'єкт <code class=" language-none">Telegram</code>як <code class=" language-none">Messenger</code>, а клас <code class=" language-none">Smartphone</code>— як <code class=" language-none">Application</code>. Ось як це робиться: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Telegram</span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Application</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Messenger</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token comment"><span class="token comment">//...методи</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Client</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">Messenger</span></span> messenger<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Client</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>messenger <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Telegram</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>


<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Smartphone</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token class-name"><span class="token class-name">Application</span></span> application<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Smartphone</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>application <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Telegram</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тепер ми використовуємо клас <code class=" language-none">Telegram</code>як захочемо. Десь він виступатиме в ролі <code class=" language-none">Application</code>, десь — у ролі <code class=" language-none">Messenger</code>. Напевно, ти вже звернув увагу, що методи в інтерфейсах завжди «порожні», тобто вони не мають реалізації. Причина цього проста: інтерфейс описує поведінку, а чи не реалізує його. "Усі об'єкти класів, що імплементують інтерфейс <code class=" language-none">Swimmable</code>, повинні вміти плавати": ось і все, що говорить нам інтерфейс. Як там конкретно плаватиме риба, качка чи кінь — питання до класів <code class=" language-none">Fish</code>, <code class=" language-none">Duck</code>і<code class=" language-none">Horse</code>, а чи не до інтерфейсу. Також як перемикання каналу – завдання телевізора. Пульт просто надає тобі кнопку для цього. Втім, Java8 з'явилося цікаве доповнення - методи за замовчуванням (default method). Наприклад, у твоєму інтерфейсі є десять методів. 9 їх реалізовані по-різному у різних класах, але один реалізований однаково в усіх. Раніше, до виходу Java8, методи всередині інтерфейсів взагалі мали реалізації: компілятор відразу видавав помилку. Тепер можна зробити ось так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">interface</span></span> <span class="token class-name"><span class="token class-name">Swimmable</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">default</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">swim</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Пливи!"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">eat</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">run</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Використовуючи ключове слово <code class=" language-none">default</code>ми створабо в інтерфейсі метод з реалізацією за умовчанням. Два інших методи, <code class=" language-none">eat()</code>і <code class=" language-none">run()</code>нам необхідно буде реалізувати самим у всіх класах, які будуть імплементувати <code class=" language-none">Swimmable</code>. З <code class=" language-none">swim()</code>цим робити не потрібно: реалізація буде в усіх класах однаковою. До речі, ти вже неодноразово стикався з інтерфейсами в минулих завданнях, хоч і не помічав цього сам :) Ось очевидний приклад: <img data-id="dd15b9e7-137d-45f1-8233-51f18c9a41a6" data-max-width="1024" alt="Для чого в Java потрібні інтерфейси?" src="https://cdn.javarush.com/images/article/dd15b9e7-137d-45f1-8233-51f18c9a41a6/1024.jpeg" style="width: 1024px;">Ти працював з інтерфейсами <code class=" language-none">List</code>і <code class=" language-none">Set</code>! Точніше, зі своїми реалізаціями — <code class=" language-none">ArrayList</code>, <code class=" language-none">LinkedList</code>, <code class=" language-none">HashSet</code>та іншими. На цій схемі видно приклад, коли один клас реалізує відразу кілька інтерфейсів. Наприклад, <code class=" language-none">LinkedList</code>реалізує інтерфейси <code class=" language-none">List</code>та <code class=" language-none">Deque</code>(двостороння черга). Ти знайомий і з інтерфейсом<code class=" language-none">Map</code>, А точніше, з його реалізацій - <code class=" language-none">HashMap</code>. До речі, на цій схемі ти можеш побачити одну особливість: інтерфейси можуть бути успадковані один від одного. Інтерфейс <code class=" language-none">SortedMap</code>успадкований від <code class=" language-none">Map</code>, а <code class=" language-none">Deque</code>успадковується від черги <code class=" language-none">Queue</code>. Це потрібно, якщо ти хочеш показати зв'язок інтерфейсів між собою, але один інтерфейс є розширеною версією іншого. Давай розглянемо приклад з інтерфейсом <code class=" language-none">Queue</code>– черга. Ми поки не проходабо колекції <code class=" language-none">Queue</code>, але вони досить прості та влаштовані як звичайна черга у магазині. <a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="de5d6937-cbf2-4894-9934-a8446faddf95" class="img-fluid" alt="Для чого в Java потрібні інтерфейси?" src="https://cdn.javarush.com/images/article/de5d6937-cbf2-4894-9934-a8446faddf95/1024.jpeg" style="width: 1024px;"></a>Додавати елементи можна лише на кінець черги, а забирати — лише з початку. На певному етапі розробникам знадобився розширений варіант черги, щоб додавати та отримувати елементи можна було з обох боків. Так створабо інтерфейс<code class=" language-none">Deque</code>- Двосторонню чергу. У ньому є всі методи звичайної черги, адже вона є «батьком» двосторонньої, але при цьому додані нові методи.