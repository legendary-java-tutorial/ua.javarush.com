Докладний аналіз класу ArrayList [Частина 1]
<p>----------------------------------------</p>
У цій статті буде детально розглянутий клас ArrayList з каркасу колекцій Collections Framework, який, мабуть, є найпростішим для розуміння, оскільки він заснований на базі звичайного масиву. Практично напевно на співбесіді Вам поставлять пи
<p>----------------------------------------</p>
У цій статті буде детально розглянутий клас ArrayList з каркасу колекцій Collections Framework, який, мабуть, є найпростішим для розуміння, оскільки він заснований на базі звичайного масиву. Практично напевно на співбесіді Вам поставлять питання про цей клас та його реалізацію в Java. У другій частині ми розберемо методи, що залишабося, і напишемо свою реалізацію динамічного масиву для чисел. Клас ArrayList успадковується від класу AbstractList і реалізує такі інтерфейси: List, RandomAccess, Cloneable, Serializable. <a href="https://codegym.cc/groups/posts/2475-podrobnihy-razbor-klassa-arraylist-chastjh-2" target="_blank" rel="nofollow">Докладний аналіз класу ArrayList [Частина 2]</a> <img data-max-width="850" alt="Докладний аналіз класу ArrayList [Частина 1] - 1" src="https://cdn.javarush.com/images/article/b33a8edb-ecfe-4458-b337-7f02e4d659c0/original.jpeg">У класі ArrayList підтримуються динамічні масиви, які можуть збільшуватися при необхідності. Його необхідність та ефективність пояснюється тим, що звичайний масив має фіксовану довжину: після того, як він створений, він не може збільшуватися або зменшуватися, що накладає обмеження в тому випадку, якщо невідомо, наскільки великий масив буде потрібно. Фактично, клас ArrayList є списковий масив об'єктних посилань змінної довжини. Важливо розуміти, що автоматичного зменшення розміру (кількість осередків) внутрішнього масиву при видаленні елементів із нього не відбувається. Насправді зменшується значення змінної<code class=" language-none">size</code>яка вказує на кількість дійсно наявних у масиві елементів. Допустимо, ми створюємо новий об'єкт класу ArrayList і додаємо туди 5 елементів. За промовчанням створюється масив на 10 елементів. В даному випадку, так званий capacity (розмір/обсяг) нашого об'єкта дорівнюватиме 10, але значення змінної <code class=" language-none">size</code>дорівнюватиме п'яти. І при видаленні елементів ми бачимо зміни значення змінної <code class=" language-none">size</code>, оскільки отримати доступ до внутрішнього масиву класу ArrayList і дізнатися про його довжину <code class=" language-none">.length</code>ми не можемо. Розмір можна зменшити за допомогою додаткового методу <code class=" language-none">trimToSize()</code>, про який піде далі. Розглянемо поля класу. 
<ul>
 <li>
  <p>Поле, що відповідає за обсяг динамічного масиву за замовчуванням:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> DEFAULT_CAPACITY <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">10</span></span></code></pre>
  <p>При створенні нового об'єкта new ArrayList&lt;&gt;() (конструктор без параметрів) створюється всередині масив на 10 елементів.</p></li>
 <li>
  <p>Поле, де зберігаються всі елементи колекції:</p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">transient</span></span> <span class="token class-name"><span class="token class-name">Object</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> elementData</code></pre>
  <p>Позначено ключовим словом <code class=" language-none">transient</code>– поле не записується до потоку байт при застосуванні стандартного алгоритму серіалізації. Варто зазначити, що поле не відзначено ключовим словом <code class=" language-none">private</code>, а зроблено це для того, щоб полегшити доступ до цього поля вкладених класів (наприклад, SubList).</p></li>
 <li>Поле-лічильник, яке зберігає в собі кількість елементів, що дійсно знаходяться в масиві:
  <p></p>
  <pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">int</span></span> size</code></pre>
  <p>Значення збільшується/зменшується під час виконання таких операцій, як вставка та видалення.</p></li>
</ul>У класі є ще 3 поля, але вони є додатковими, тому розглядати їх сенсу немає. У класу є три конструктори: 
<ol>
 <li><code class=" language-none">public ArrayList()</code>- Створює порожній списковий масив об'ємом в 10 елементів;</li>
 <li><code class=" language-none">public ArrayList(Collection &lt; ? extends E &gt; c)</code>– створює обліковий масив, що ініціалізується елементами з переданої колекції (якщо хочемо створити новий ArrayList на базі якоїсь колекції);</li>
 <li><code class=" language-none">public ArrayList(int initialCapacity)</code>- Створює списковий масив, що має початкову ємність. Якщо переданий параметр initialCapacity більше 0, то створюється масив зазначеного розміру (внутрішньому полю elementData присвоюється посилання новий масив типу Object розміром initialCapacity). Якщо параметр дорівнює 0, то створюється порожній масив. Якщо заданий параметр менше 0, то генерується виняток IllegalArgumentException.</li>
</ol>Створення об'єкту 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">List</span></span> <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Щойно створений об'єкт <code class=" language-none">list</code>містить властивості (поля) <code class=" language-none">elementData</code>і <code class=" language-none">size</code>. Сховище значень <code class=" language-none">elementData</code>не що інше, як масив певного типу (вказаного в generic – <code class=" language-none">&lt;&gt;</code>), у разі <code class=" language-none">String[]</code>. Якщо викликається конструктор без параметрів, за замовчуванням буде створено масив для 10 елементів типу Object (з приведенням до типу, зрозуміло). <img data-max-width="800" class="img-fluid" alt="Докладний аналіз класу ArrayList [Частина 1] - 2" src="https://codegym-com.translate.goog/images/article/4f13f942-60d6-406e-b7ba-95e24fc0b7d0/original.jpeg">Додавання елементів Класичне додавання елементів до спискового масиву здійснюється за допомогою перевантажених варіантів методу <code class=" language-none">add()</code>. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">E</span></span> элемент<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Що ж, додаємо: <code class=" language-none">list.add("0");</code> <img data-max-width="800" class="img-fluid" alt="Докладний аналіз класу ArrayList [Частина 1] - 3" src="https://codegym-com.translate.goog/images/article/c8e18bf9-9689-4c7d-b7da-716d5ebd0029/original.jpeg">Усередині даного методу відбувається виклик перевантаженого варіанта методу <code class=" language-none">add()</code>, позначений як <code class=" language-none">private</code>, який у свою чергу на вхід приймає три параметри: елемент, що додається, внутрішній масив і його розмір (size). У закритому методі відбувається перевірка: якщо переданий параметр розміру дорівнює довжині внутрішнього масиву (тобто масив заповнений), то масиву присвоюється результат виконання методу (методу <code class=" language-none">grow(int minCapacity)</code>передається поточне значення поля size + 1, тому необхідно врахувати елемент, що додається), в якому внутрішньому масиву надається посилання на новий створений масив, отриманий в результаті копіювання елементів вихідного масиву: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">copyOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>elementData<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token function"><span class="token function">newCapacity</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>minCapacity<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Як другий параметр методу <code class=" language-none">copyOf</code>ми вказуємо результат роботи методу <code class=" language-none">newCapacity(int minCapacity)</code>, всередині якого здійснюється обчислення нового розміру масиву. Він обчислюється за такою формулою: <code class=" language-none">int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1)</code> Для масиву з розміром за умовчанням буде справедливо: <code class=" language-none">&gt;&gt; 1</code>– побитовий зсув праворуч на одиницю (оператор, який зменшує до його половини). По суті, означає розподіл на 2 у ступені 1. Виходить, що ми ділимо 10 на 2 і додаємо 10. Отже, нова ємність масиву дорівнює 15, але оскільки ми додаємо 11 елемент, то 15+1 = 16. Повернемося до нашого списку і припустимо, що ми вже додали до нього 10 елементів і пробуємо додати 11. Перевірка покаже, що місця у масиві немає. Відповідно створюється новий масив і викликається <code class=" language-none">Arrays.copyOf</code>, який у собі використовує системний метод <code class=" language-none">System.arraycopy()</code>. <img data-max-width="1024" class="img-fluid" alt="Докладний розбір класу ArrayList [Частина 1] - 4" src="https://codegym-com.translate.goog/images/article/88a6a607-2157-4937-b06d-13b026199d02/original.jpeg"><img data-max-width="1024" data-id="f1f0694f-7092-4aff-97dc-ffea7d1fcc6a" class="img-fluid" alt="Докладний аналіз класу ArrayList [Частина 1] - 5" src="https://cdn.javarush.com/images/article/f1f0694f-7092-4aff-97dc-ffea7d1fcc6a/1024.jpeg" style="width: 1024px;">Або ось такий наочний приклад з однієї статті на CodeGym: <img data-max-width="1024" class="img-fluid" alt="Докладний аналіз класу ArrayList [Частина 1] - 6" src="https://codegym-com.translate.goog/images/article/0ca8125b-2f86-49d0-b800-4eed9521ee2b/original.jpeg">Після всіх цих перевірок та збільшення розміру масиву при необхідності далі в закритому методі до <code class=" language-none">add()</code>кінця масив додається новий елемент, а поточний параметр <code class=" language-none">size</code>збільшується на одиницю. Старий масив надалі буде оброблений збирачем сміття. Таким чином і працює динамічний масив: при додаванні елементів ми перевіряємо, чи є в ньому ще місце. Якщо місце є, ми просто додаємо елемент в кінець масиву. Під кінцем мається на увазі не останній осередок в масиві, а той осередок, який відповідає значенню <code class=" language-none">size</code>. Додали перший елемент масив, він поміщається в комірку з індексом [0]. Значення поля <code class=" language-none">size</code>виросло на одиницю = 1. Додаємо наступний елемент: дивимося, що<code class=" language-none">size = 1</code>відповідно елемент поміщаємо в комірку з індексом [1] і так далі. Є перевантажений варіант методу із двома параметрами: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">E</span></span> element<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Ми можемо вказати позицію (індекс) осередку, у якому хочемо додати елемент. Спочатку здійснюється перевірка коректності зазначеного значення індексу, оскільки є ймовірність, що буде вказано неправильний індекс, який буде вказувати на комірку, де нічого немає, або якої просто не існує. Перевірка індексів: <code class=" language-none">index &gt; size || index &lt; 0</code>– якщо зазначений індекс більший за поточний розмір масив або він менший за 0, то викидається виняток <code class=" language-none">IndexOutOfBoundsException</code>. Далі у разі потреби збільшується розмір масиву, аналогічно прикладу вище. Ви, напевно, чули, що при операціях додавання/видалення в масиві щось кудись зрушується (праворуч або ліворуч). Так ось, зсув здійснюється за допомогою копіювання масиву: <code class=" language-none">System.arraycopy(elementData, index, elementData, index + 1, s - index);</code> Усі елементи, що знаходяться праворуч від зазначеного індексу, будуть зрушуватись на одну позицію вправо (index+1). І лише після цього у внутрішній масив під зазначеним індексом додається новий елемент. Так як ми зрушабо частину масиву вправо на одиницю (новий масив не створюється), то необхідна нам комірка звільниться для запису. Посилання на старий масив стирається і надалі їй займеться garbage collector. Вставляємо "maserati" в комірку [3], яка вже зайнята: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="850" alt="Докладний аналіз класу ArrayList [Частина 1] - 7" src="https://cdn.javarush.com/images/article/a45286f5-11af-4e9f-8c35-a9ba31d5263b/original.jpeg">
 </div>
</div>Таким чином, коли відбувається вставка елемента за індексом і при цьому в масиві немає вільних місць, то виклик <code class=" language-none">System.arraycopy()</code>трапиться двічі: перший в <code class=" language-none">grow()</code>другий в самому методі <code class=" language-none">add(index, value)</code>, що явно позначиться на швидкості всієї операції додавання. У результаті, коли необхідно записати у внутрішній масив ще один елемент, а місця там немає, то всередині ArrayList відбувається: 
<ul>
 <li>Створюється новий масив розміром, в 1.5 рази більше вихідного плюс один елемент.</li>
 <li>Усі елементи зі старого масиву копіюються в новий масив.</li>
 <li>Новий масив зберігається у внутрішній змінній об'єкту ArrayList, а старий масив оголошується сміттям.</li>
</ul>Місткість об'єктів типу ArrayList можна збільшувати вручну за допомогою методу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">ensureCapacity</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> minCapacity<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Збільшивши ємність масиву заздалегідь, можна уникнути додаткового перерозподілу оперативної пам'яті згодом. Метод збільшує розмір внутрішнього масиву, щоб у нього вмістилася кількість елементів, переданих у <code class=" language-none">minCapacity</code>. Метод <code class=" language-none">ensureCapacity()</code>не впливає на поле <code class=" language-none">size</code>, він впливає на <code class=" language-none">capacity</code>(розмір) внутрішнього масиву. Вкотре наголошую, що <code class=" language-none">size</code>й <code class=" language-none">capacity</code>різні речі і дуже важливо їх не плутати! Якщо потрібно зменшити розмір базового масиву, на основі якого будується об'єкт типу ArrayList, до поточної кількості елементів, що дійсно зберігаються, слід викликати метод <code class=" language-none">trimToSize()</code>. Після видалення елементів з колекції <code class=" language-none">size()</code>покаже кількість дійсно існуючих елементів, а<code class=" language-none">capacity</code>при цьому не зменшиться! Припустимо: ми ввели 100 елементів, видалабо перші 50, <code class=" language-none">size</code>стане рівним 50, а ось <code class=" language-none">capacity</code>так і залишиться 100. Щоб зменшити і <code class=" language-none">capacity</code>необхідно використовувати метод <code class=" language-none">trimToSize()</code>, який підганяє весь наш capacity до поточного size. Як підганяє? Копіює наш масив так, що там не залишається порожніх осередків (довжина нового масиву просто дорівнює полю size). 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="558" alt="Докладний аналіз класу ArrayList [Частина 1] - 8" src="https://cdn.javarush.com/images/article/9789cab5-38be-4ed2-8161-02b25f7407a9/original.jpeg">
 </div>
</div>Також додавати елементи до нашої колекції можна за допомогою методів <code class=" language-none">addAll</code>. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">addAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Collection</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token keyword"><span class="token keyword">extends</span></span> <span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> c<span class="token punctuation"><span class="token punctuation">)</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">addAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Collection</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token keyword"><span class="token keyword">extends</span></span> <span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> collection<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Перший варіант дозволяє додати всі елементи із вказаної в параметрі методу колекції (наприклад, іншого аркуша) у вихідну колекцію (вставка в кінець), для якої було здійснено виклик методу. Передана колекція (вона може бути і безліччю) перетворюється на масив з допомогою методу <code class=" language-none">toArray()</code>. Звичайно, операція додавання здійснюється також за допомогою копіювання. У другому здійснюється додавання всіх елементів <code class=" language-none">collection</code>до списку, починаючи з індексу <code class=" language-none">index</code>. При цьому всі елементи зрушать праворуч на кількість елементів у списку <code class=" language-none">collection</code>. Видалення елементів Спочатку розглянемо класичні варіанти видалення елементів з ArrayList. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">E</span></span> <span class="token function"><span class="token function">remove</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Здійснює видалення за індексом та зміщує всі наступні (після елемента під зазначеним індексом) елементи вліво, тим самим закриваючи "дірки". Також повертає віддалений елемент (E), який попередньо перед видаленням записується в додаткову змінну, значення якої ми отримуємо в результаті роботи виклику методу. Щоб зрозуміти, що таке E, потрібно буде познайомитися з так званими узагальненими типами (generics). Позначення E вказує на те, що метод повертає той тип даних, який був вказаний при створенні об'єкта ArrayList (згадайте: , <code class=" language-none">List &lt;String&gt; list</code>відповідно в даному випадку замість E "підставиться"<code class=" language-none">String</code>). Для загального розуміння рекомендую ознайомитися з узагальненими типами. Перевіряється коректність введеного індексу і далі всередині методу відбувається зовсім видалення елемента, а виклик приватного методу <code class=" language-none">fastRemove(Object[] es, int i)</code>, у якому відбувається видалення. Методу на вхід ми передаємо наш масив та зазначений індекс. Копіюються елементи, використовуючи <code class=" language-none">System.arraycopy()</code>, зменшується розмір масиву, а далі надають останньому елементу null. Варто зазначити, що новий масив не створюється: <code class=" language-none">System.arraycopy(es, i + 1, es, i, size - 1 - i);</code> У наш же вихідний масив (es) копіюється та частина, яка знаходиться правіше за позицію під зазначеним індексом (i+1), і розташовується вона, починаючи з тієї самої позиції (i), де знаходився елемент , що підлягає видаленню. Таким чином, ми здійснабо зрушення вліво та затерли наш елемент. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="248" alt="Докладний аналіз класу ArrayList [Частина 1] - 9" src="https://cdn.javarush.com/images/article/05be3f49-a31c-4436-b701-9b1a577d565f/original.jpeg">
 </div>
</div>Спробуємо видалити елемент під індексом 3 з нижче: 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="1003" alt="Докладний аналіз класу ArrayList [Частина 1] - 10" src="https://cdn.javarush.com/images/article/0dd977aa-b094-41ae-be97-6e24ab98476e/original.jpeg">
 </div>
</div>Розглянемо другий варіант методу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">remove</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Object</span></span> o<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Метод видаляє зі списку переданий елемент <code class=" language-none">o</code>, а якщо точніше, то об'єкт за вказаним посиланням. Якщо елемент є у списку, він видаляється, а всі елементи зміщуються вліво. Якщо елемент існує у списку та успішно видалено, метод повертає true, у протилежному випадку – false. Аналогічно варіанту з видаленням за індексом, викликається методу <code class=" language-none">fastRemove()</code>, де відбуваються такі самі дії. Різниця у цьому, що у методі <code class=" language-none">remove(Object o)</code>попередньо додатково здійснюється пошук потрібного об'єкта через метод<code class=" language-none">equals()</code>класу Object. При видаленні за значенням у циклі проглядаються всі елементи списку, доки не буде знайдено відповідність. Видалений буде лише перший знайдений елемент. Підсумуємо: при видаленні елементів з динамічного масиву, дірок як у звичайному масиві не залишається (видалений осередок не буде порожнім). Всі наступні елементи (які були правіше від індексу) зсуваються однією позицію вліво. Є ще кілька додаткових методів, за допомогою яких можна тією чи іншою мірою видаляти елементи зі списку. Розглянемо їх коротко. Очищаємо нашу колекцію: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">clear</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> У простому циклі <code class=" language-none">for</code>перебираються всі елементи масиву, кожному з яких надаються null. Видалити елементи з нашої колекції, які містяться в іншій переданій колекції можна так: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">removeAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Collection</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token operator"><span class="token operator">?</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> c<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Якщо необхідно видалити кілька елементів, напевно, не варто робити це в циклі за умовою: зручніше та безпечніше скористатися методом <code class=" language-none">removeAll()</code>. Він приймає колекцію елементів, які будуть видалені зі списку. Колекція повинна містити елементи того ж типу, що зберігає цільовий список. У протилежному випадку буде викинуто <code class=" language-none">ClassCastException</code>. Метод поверне true, якщо список змінено в результаті виклику методу. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="538" alt="Докладний розбір класу ArrayList [Частина 1] - 11" src="https://cdn.javarush.com/images/article/a3c8f44e-9582-4899-9ec0-2714489199d1/original.jpeg">
 </div>
</div> Видаляє елементи, що не належать переданій колекції: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">retainAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Collection</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token operator"><span class="token operator">?</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> c<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="651" alt="Докладний розбір класу ArrayList [Частина 1] - 12" src="https://cdn.javarush.com/images/article/e39cc27c-3b3d-44bd-b7e3-11b4a1cb4ff7/original.jpeg">
 </div>
</div>Припустимо, є колекція: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> listFirst <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
listFirst<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
listFirst<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Black"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
listFirst<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Red"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> І друга: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> listSecond <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
listSecond<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Green"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
listSecond<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Red"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
listSecond<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Тоді потім <code class=" language-none">listSecond.retainAll(listFirst)</code>залишиться <code class=" language-none">listSecond</code>: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
"White"
"Red"</code></pre> Так як пішов "Green", якого немає в <code class=" language-none">listFirst</code>. Але потім <code class=" language-none">listSecond.removeAll(listFirst)</code>залишиться <code class=" language-none">listSecond</code>: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
"Green"
Удалабось все элементы, которые есть в listFirst.</code></pre> Які не належать переданій колекції – означає, що якщо є елементи, яких немає в переданій колекції, потрібно видалити їх з першої (до якої застосовується метод). Належні переданій колекції - відповідно, якщо є елемент і в першій і другій (переданій) колекції, то дубль з першої знищується. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">protected</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">removeRange</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> fromIndex<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> toIndex<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Видаляє зі списку всі елементи, які знаходяться між початковим вказаним індексом (включно) та кінцевим вказаним індексом (не включно). Варто зазначити, що метод не можна викликати безпосередньо на об'єкті класу ArrayList. Щоб його використовувати, необхідно успадкуватися від <code class=" language-none">AbstractList/ArrayList</code>. Метод також використовується іншим методом (subList, про який йтиметься далі). 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">removeIf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Predicate</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token keyword"><span class="token keyword">super</span></span> <span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> filter<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Видаляє елементи з колекції за заданим предикатом. Власне предикат — це певна функція/алгоритм/умова, на основі якої буде видалено один або кілька елементів, що відповідають заданій умові. <code class=" language-none">Predicate</code>- функціональний інтерфейс (містить лише один метод, тому може використовуватися у вигляді лямбди), працює за принципом "прийняв один параметр - повернув boolean". Насправді метод перевизначає реалізацію з інтерфейсу <code class=" language-none">Collection</code>і реалізує наступну "стратегію": він перебирає елементи і позначає ті, які відповідають нашому <code class=" language-none">Predicate</code>; після цього він пробігається вдруге для видалення (і зсуву) елементів, які були відзначені в першій ітерації. Реалізуємо інтерфейс <code class=" language-none">Predicate</code>, який видаватиме true, якщо два об'єкти рівні: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">SamplePredicate</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">T</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">Predicate</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">T</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
  <span class="token class-name"><span class="token class-name">T</span></span> varc1<span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">test</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">T</span></span> varc<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">if</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>varc1<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>varc<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> <span class="token boolean"><span class="token boolean">true</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span>
  <span class="token keyword"><span class="token keyword">return</span></span> <span class="token boolean"><span class="token boolean">false</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> В іншому класі створимо ArrayList <code class=" language-none">String</code>і об'єкт нашого класу, який реалізує <code class=" language-none">Predicate</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> color_list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">SamplePredicate</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> filter <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">SamplePredicate</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Запишемо в змінну <code class=" language-none">varc1</code>значення "White": 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">filter<span class="token punctuation"><span class="token punctuation">.</span></span>varc1 <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Додамо до списку кілька рядків: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java">color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Black"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Red"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Yellow"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Виконаємо на списку метод <code class=" language-none">removeIf</code>, якому передамо наш об'єкт з умовою: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">removeIf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>filter<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> В результаті зі списку будуть видалені всі рядки зі значенням "White", оскільки наш "предикат" порівнює їх на рівність. Підсумковий список: [Black, Red, Yellow]. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="485" alt="Докладний розбір класу ArrayList [Частина 1] - 13" src="https://cdn.javarush.com/images/article/2416ec6b-c789-4638-8036-96f431869cad/original.jpeg">
 </div>
</div>Заміна елементів 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">E</span></span> <span class="token function"><span class="token function">set</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">E</span></span> element<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Здійснює заміну елемента у зазначеній позиції <code class=" language-none">index</code>на переданий <code class=" language-none">element</code>. Індекс також повинен бути більшим за нуль і меншим за індекс останнього елемента, інакше буде викинуто виняток <code class=" language-none">IndexOutOfBoundsException</code>. Жодних копіювань внутрішнього масиву не відбувається. Просто замість елемента за вказаним індексом вставляється новий елемент, тобто. перезаписуємо значення. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="382" alt="Докладний розбір класу ArrayList [Частина 1] - 14" src="https://cdn.javarush.com/images/article/7c550e91-b3d7-4717-b697-c7400a3b835a/original.jpeg">
 </div>
</div>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">replaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">UnaryOperator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span>e<span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> operator<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Змінює всі елементи колекції (можна за умови). В основному використовується у поєднанні з <a href="https://habr.com/ru/post/224593/" target="_blank" rel="nofollow">лямбдами</a> або <a href="https://codegym.cc/groups/posts/2193-anonimnihe-klassih" target="_blank" rel="nofollow">анонімним класом</a> (але для наочності на прикладі використовуємо просто клас, що реалізує інтерфейс), який реалізує інтерфейс <code class=" language-none">UnaryOperator</code>та визначає його методи. Реалізуємо інтерфейс: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">MyOperator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">T</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token keyword"><span class="token keyword">implements</span></span> <span class="token class-name"><span class="token class-name">UnaryOperator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">T</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token class-name"><span class="token class-name">T</span></span> varc1<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">T</span></span> <span class="token function"><span class="token function">apply</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">T</span></span> varc<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">{</span></span>
     <span class="token keyword"><span class="token keyword">return</span></span> varc1<span class="token punctuation"><span class="token punctuation">;</span></span>
  <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> В іншому класі створимо ArrayList <code class=" language-none">String</code>і об'єкт нашого класу, який реалізує <code class=" language-none">UnaryOperator</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> color_list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">MyOperator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> operator <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">MyOperator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Запишемо в змінну <code class=" language-none">varc1</code>значення "White": 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">operator<span class="token punctuation"><span class="token punctuation">.</span></span>varc1 <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Додамо до списку кілька рядків: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java">color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Black"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Red"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Yellow"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">add</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"White"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Виконаємо на списку метод <code class=" language-none">replaceAll</code>, якому передамо наш об'єкт <code class=" language-none">operator</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java">color_list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>operator<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> В результаті всі значення у списку були замінені на "White": [White, White, White, White, White, White]. А ось так, наприклад, можна прибрати всі прогалини з рядків, які є в колекції: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> list <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"A   "</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"  B  "</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"C"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
list<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token operator"><span class="token operator">::</span></span><span class="token function"><span class="token function">trim</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Інші методи: Перетворити обліковий масив ArrayList у звичайний масив можна за допомогою методу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Object</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token function"><span class="token function">toArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> або 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">T</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token class-name"><span class="token class-name">T</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token function"><span class="token function">toArray</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">T</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> a<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> — тут тип масиву, що повертається, визначається в <code class=" language-none">runtime</code> <a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner1_articles" data-max-width="1024" data-id="f102c28b-68cc-4c67-958e-4fa9c0cc77e9" class="img-fluid" alt="Докладний розбір класу ArrayList [Частина 1] - 15" src="https://cdn.javarush.com/images/article/f102c28b-68cc-4c67-958e-4fa9c0cc77e9/1024.jpeg" style="width: 1024px;"></a>Цей метод дозволить: 
<ol>
 <li>прискорити виконання деяких операцій;</li>
 <li>передавати масив як параметр методу, який не перевантажується, щоб приймати безпосередньо колекцію;</li>
 <li>інтеграція нового коду, заснованого на колекціях, із успадкованим кодом, який не розпізнає колекції.</li>
</ol>Повернути об'єкт-копію масиву: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Object</span></span> <span class="token function"><span class="token function">clone</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Слід звернути увагу, що метод <code class=" language-none">clone()</code>повертає тип Object, тому після його виклику потрібно зробити приведення до необхідного класу. Під час клонування створюється новий незалежний об'єкт. Перевірити колекцію на наявність у ній об'єкта: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">contains</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Object</span></span> o<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Здійснює перевірку наявності об'єкта у списку (всередині за допомогою методу equals класу Object, тобто порівнює посилання), повертає true/false залежно від результату. Перебрати (звернутися до кожного елемента, а також виконати якусь дію) колекцію, крім звичних циклів, можна за допомогою: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Consumer</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token operator"><span class="token operator">?</span></span> <span class="token keyword"><span class="token keyword">super</span></span> <span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> action<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Ось так ми можемо вивести наш список: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">List</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">Integer</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> numbers <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">ArrayList</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Arrays</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">asList</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">10</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">20</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">50</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">100</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token operator"><span class="token operator">-</span></span><span class="token number"><span class="token number">5</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
numbers<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>number<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token operator"><span class="token operator">-&gt;</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>number<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Без використання лямбд необхідно використовувати анонімний клас і перевизначати метод <code class=" language-none">accept</code>інтерфейсу <code class=" language-none">Consumer</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java">numbers<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">forEach</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">Consumer</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">Integer</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
  <span class="token annotation punctuation"><span class="token annotation punctuation">@Override</span></span>
   <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">accept</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Integer</span></span> integer<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
      <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>integer<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
          <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Отримати елемент за його індексом: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">E</span></span> <span class="token function"><span class="token function">get</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Використовується для доступу до елементів колекції. Повертає елемент, що знаходиться у списку під вказаним індексом. Якщо <code class=" language-none">index &lt; 0</code>або <code class=" language-none">index &gt;=</code>максимальна кількість елементів списку, буде викинуто виняток <code class=" language-none">IndexOutOfBoundsException</code>. Це основний метод отримання елемента зі списку, і час вилучення елемента за індексом завжди буде однаковим, незалежно від розміру ArrayList, оскільки відбувається звернення до конкретного осередку масиву. Пошук індексів для зазначених об'єктів: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">indexOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Object</span></span> o<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">lastIndexOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Object</span></span> o<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Методи повертають індекс першого (коли вперше зустрічається заданий об'єкт) або останнього входження (коли востаннє зустрічається заданий об'єкт) елемента у списку. Якщо елемент не існує у списку, методи повернуть -1. 
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="595" alt="Докладний розбір класу ArrayList [Частина 1] - 16" src="https://cdn.javarush.com/images/article/7e2d9e2c-5977-4d21-90aa-c51dce550fc6/original.jpeg">
 </div>
</div>
<div class="row justify-content-center jr-image-wrap">
 <div class="col-12 col-sm-10 col-md-8">
  <img data-max-width="579" alt="Докладний розбір класу ArrayList [Частина 1] - 17" src="https://cdn.javarush.com/images/article/f17a0d80-c12f-46af-8a11-4c7d05dd4df2/original.jpeg">
 </div>
</div>Перевірити колекцію на наявність у ній елементів: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">boolean</span></span> <span class="token function"><span class="token function">isEmpty</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Метод повертає true, якщо список порожній (дивиться, чи поле <code class=" language-none">size 0</code>), інакше – false. Якщо у списку містяться лише елементи null, метод поверне false. Іншими словами, null елементи також враховуються цим методом. Дізнатися кількість елементів у списку: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">int</span></span> <span class="token function"><span class="token function">size</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Повертає кількість елементів у списку (значення поля size). Кількість елементів може відрізнятись від обсягу списку (capacity). Отримати ітератор для списку: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Iterator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token function"><span class="token function">iterator</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Повертає ітератор для списку для подальшого використання в циклі або за будь-якої іншої обробки. Ітератор реалізує fail-fast поведінку. Якщо він біжить колекцією і помічає якісь модифікації в ній (які були отримані не за допомогою методів ітератора), він відразу викидає виняток <code class=" language-none">ConcurrentModificationException</code>. У ітератора є так званий <code class=" language-none">modification count</code>. Коли ітератор пробігає колекцією після кожного <code class=" language-none">next/hasNext/remove</code>, він перевіряє цей лічильник. Якщо він не збігся з тим, що очікував побачити ітератора, він кидає виняток. Докладно розглядати ітератори тут я не буду. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">ListIterator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token function"><span class="token function">listIterator</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> и <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">ListIterator</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span> <span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token function"><span class="token function">listIterator</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> Повертає list-ітератор для списку для подальшого використання в циклі або за будь-якої іншої обробки. Інтерфейс <code class=" language-none">ListIterator</code>розширює інтерфейс <code class=" language-none">Iterator</code>для двостороннього обходу списку та видозміни його елементів. У перевантаженому варіанті можна передати індекс, з якого почнеться обхід. Індекс у разі означає перший елемент, з якого розпочне свою роботу метод <code class=" language-none">next()</code>, а за виклику методу <code class=" language-none">previous()</code>обхід почнеться з елемента під індексом «переданий індекс – 1». 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">Spliterator</span></span> <span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">E</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> <span class="token function"><span class="token function">spliterator</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span></code></pre> У Java 8 впроваджено новий тип ітератора late binding (пізнє зв'язування) та fail-fast, який називається ітератором-розділювачем. Ітератори-розділювачі дозволяють перебирати послідовність елементів, але застосовуються в інший спосіб. Найбільш важливою особливістю інтерфейсу <a href="https://easyjava.ru/java/java-8-stream-api-chast-shestaya-sobstvennyj-potok-na-samom-dele-net/" target="_blank" rel="nofollow">Spliterator</a> є його здатність підтримувати паралельну ітерацію окремих частин послідовності елементів, а отже, і паралельне програмування.