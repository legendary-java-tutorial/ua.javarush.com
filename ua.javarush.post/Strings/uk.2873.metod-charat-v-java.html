Метод charAt() в Java
<p>----------------------------------------</p>
Є безліч базових методів, які ми регулярно використовуємо, навіть не замислюючись. Ну а що, якщо замислитись та подивитися, яким чином реалізовані деякі прості, на перший погляд, методи? Думаю, це допоможе нам стати на крок ближче до Java) 
<p>----------------------------------------</p>
Є безліч базових методів, які ми регулярно використовуємо, навіть не замислюючись. Ну а що, якщо замислитись та подивитися, яким чином реалізовані деякі прості, на перший погляд, методи? Думаю, це допоможе нам стати на крок ближче до Java) <img data-max-width="800" data-id="76da1247-e7d7-4925-94df-d8814c82f25f" alt="charAt() в Java - 1" src="https://cdn.javarush.com/images/article/76da1247-e7d7-4925-94df-d8814c82f25f/800.jpeg" style="width: 800px;">Уявимо ситуацію, в якій нам потрібно витягнути певний символ у якомусь рядку. Як ми можемо це зробити в Java? Наприклад, за допомогою виклику методу <code class=" language-none">Java String charAt</code>. Про метод <code class=" language-none">charAt()</code>ми поговоримо в сьогоднішній статті.
<h2>Синтаксис</h2><code class=" language-none">char charAt(int index)</code>повертає значення char за вказаним індексом. Індекс коливається від 0 до <code class=" language-none">length()-1</code>. Тобто, перше <code class=" language-none">char</code>значення послідовності знаходиться в <code class=" language-none">index 0</code>, наступне - <code class=" language-none">index 1</code>і т.д., як і у випадку з індексацією масиву.
<h2>приклад</h2>
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"CodeGym"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"CodeGym"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"CodeGym"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">2</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">print</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"CodeGym"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">3</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> У першому рядку береться перший символ, у другому - другий, і так далі. Так як тут використовується не <code class=" language-none">println</code>, а <code class=" language-none">print</code>без переходу на новий рядок, ми отримаємо висновок в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
Java</code></pre> Якщо <code class=" language-none">char</code>під заданим індексом представлений у вигляді юнікод, результатом роботи методу <code class=" language-none">java charAt()</code>буде символ, який представляє даний юнікод: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"J\u0061vaRush"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Виведення в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
a</code></pre>
<h2>Що "під капотом"</h2>Як воно працює, запитаєте ви? <img data-max-width="800" data-id="e26764e1-d351-4310-9c90-aa1deeb23839" alt="charAt() в Java - 2" src="https://cdn.javarush.com/images/article/e26764e1-d351-4310-9c90-aa1deeb23839/800.jpeg" style="width: 800px;">Справа в тому, що в кожному об'єкті <code class=" language-none">String</code>є масив <code class=" language-none">byte</code>з байтами елементів даного рядка: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">byte</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> value<span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> А ось і сам метод <code class=" language-none">chatAt</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">char</span></span> <span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token function"><span class="token function">isLatin1</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> <span class="token class-name"><span class="token class-name">StringLatin1</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">,</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span> <span class="token keyword"><span class="token keyword">else</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> <span class="token class-name"><span class="token class-name">StringUTF16</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">,</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><code class=" language-none">isLatin1</code>— прапор, який вказує на те, чи є в нашому рядку лише латинські символи чи ні. Від цього залежить, який метод буде викликатись далі.
<h3>isLatin1 = true</h3>Якщо у рядку є лише латинські символи, викликається статичний метод <code class=" language-none">charAt</code>класу <code class=" language-none">StringLatin1</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">char</span></span> <span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">byte</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> value<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>index <span class="token operator"><span class="token operator">&lt;</span></span> <span class="token number"><span class="token number">0</span></span> <span class="token operator"><span class="token operator">||</span></span> index <span class="token operator"><span class="token operator">&gt;=</span></span> value<span class="token punctuation"><span class="token punctuation">.</span></span>length<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">throw</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">StringIndexOutOfBoundsException</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>index<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
   <span class="token keyword"><span class="token keyword">return</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">char</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">[</span></span>index<span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">&amp;</span></span> <span class="token number"><span class="token number">0xff</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Насамперед перевіряється, що індекс, що прийшов більше або дорівнює 0, і що він не виходить за межі внутрішнього масиву байт, і якщо це не так, то кидається виняток - <code class=" language-none">new StringIndexOutOfBoundsException(index)</code>. Якщо перевірки пройдені, далі береться потрібний нам елемент. Наприкінці ми бачимо:
<ul>
 <li><code class=" language-none">&amp;</code>розширює для двійкової операції для <code class=" language-none">byte</code>побітово</li>
 <li><code class=" language-none">0xff</code>нічого не робить, але <code class=" language-none">&amp;</code>вимагає аргументу</li>
 <li><code class=" language-none">(char)</code>наводить дані по таблиці ASCII до<code class=" language-none">char</code></li>
</ul>
<h3>isLatin1 = false</h3>Якщо ж у нас були присутні не тільки латинські символи, то використовуватиметься клас <code class=" language-none">StringUTF16</code>і викликатиметься його статичний метод: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">char</span></span> <span class="token function"><span class="token function">charAt</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">byte</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> value<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token function"><span class="token function">checkIndex</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>index<span class="token punctuation"><span class="token punctuation">,</span></span> value<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">return</span></span> <span class="token function"><span class="token function">getChar</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">,</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Який у свою чергу викликає: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">checkIndex</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> off<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">byte</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> val<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">checkIndex</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>off<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token function"><span class="token function">length</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>val<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> А він делегує статичним методом <code class=" language-none">String</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">checkIndex</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> length<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>index <span class="token operator"><span class="token operator">&lt;</span></span> <span class="token number"><span class="token number">0</span></span> <span class="token operator"><span class="token operator">||</span></span> index <span class="token operator"><span class="token operator">&gt;=</span></span> length<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">throw</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">StringIndexOutOfBoundsException</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"index "</span></span> <span class="token operator"><span class="token operator">+</span></span> index <span class="token operator"><span class="token operator">+</span></span>
                                                 <span class="token string"><span class="token string">", length "</span></span> <span class="token operator"><span class="token operator">+</span></span> length<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тут, власне, відбувається перевірка на допустимість індексу: знову ж таки, чи він позитивний або нуль, і чи не виходив він за межі масиву. Але в класі <code class=" language-none">StringUTF16</code>в методі <code class=" language-none">charAt</code>цікавішим буде виклик другого методу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">char</span></span> <span class="token function"><span class="token function">getChar</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">byte</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> val<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token keyword"><span class="token keyword">int</span></span> index<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token keyword"><span class="token keyword">assert</span></span> index <span class="token operator"><span class="token operator">&gt;=</span></span> <span class="token number"><span class="token number">0</span></span> <span class="token operator"><span class="token operator">&amp;&amp;</span></span> index <span class="token operator"><span class="token operator">&lt;</span></span> <span class="token function"><span class="token function">length</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>val<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">:</span></span> <span class="token string"><span class="token string">"Trusted caller missed bounds check"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   index <span class="token operator"><span class="token operator">&lt;&lt;=</span></span> <span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">return</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">char</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>val<span class="token punctuation"><span class="token punctuation">[</span></span>index<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> <span class="token operator"><span class="token operator">&amp;</span></span> <span class="token number"><span class="token number">0xff</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&lt;&lt;</span></span> HI_BYTE_SHIFT<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">|</span></span>
                 <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>val<span class="token punctuation"><span class="token punctuation">[</span></span>index<span class="token punctuation"><span class="token punctuation">]</span></span>   <span class="token operator"><span class="token operator">&amp;</span></span> <span class="token number"><span class="token number">0xff</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">&lt;&lt;</span></span> LO_BYTE_SHIFT<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner2_3_articles" data-max-width="1080" data-id="919fcdc6-5613-4636-94be-582bb971a45c" alt="charAt() в Java - 3" src="https://cdn.javarush.com/images/article/919fcdc6-5613-4636-94be-582bb971a45c/1080.jpeg" style="width: 1080px;"></a>Приступимо до розбору, що тут власне відбувається. Насамперед на початку методу йде ще одна перевірка допустимості індексу. Щоб зрозуміти те, що відбувається далі, потрібно усвідомити: якщо не латинський символ потрапляє в масив <code class=" language-none">value</code>, його представляють два байти (два осередки масиву). Якщо ми маємо рядок з двох кирабочних символів — “ав”, то: 
<ul>
 <li>для 'а' це пара байтів - 48 та 4;</li>
 <li>для 'в' - 50 та 4.</li>
</ul>Тобто, якщо ми створимо рядок "ав", у неї буде масив <code class=" language-none">value</code>- {48, 4, 50, 4} Власне, у цьому методі йде робота з двома осередками масиву <code class=" language-none">value</code>. Тому далі йде зрушення <code class=" language-none">index &lt;&lt;= 1;</code>, щоб потрапити безпосередньо на індекс першого байта шуканого символу в масиві <code class=" language-none">value</code>. А тепер припустимо, що у нас є рядок <code class=" language-none">"абвг"</code>. Тоді масив value буде виглядати так: {48, 4, 49, 4, 50, 4, 51, 4}. Ми просимо третій елемент рядка, і тоді двійкове уявлення - 00000000 00000011. При зрушенні на 1 ми отримаємо 00000000 00000110, тобто <code class=" language-none">index = 6</code>. Щоб освіжити знання з побітових операцій, можеш почитати <a href="https://codegym.cc/groups/posts/1925-pobitovihe-operacii" target="_blank">цю статтю</a> . <img data-max-width="800" data-id="a38d6a49-aaac-4654-b7d5-c64564d4fa93" alt="charAt() в Java - 4" src="https://cdn.javarush.com/images/article/a38d6a49-aaac-4654-b7d5-c64564d4fa93/800.jpeg" style="width: 800px;">Також бачимо деякі змінні: <code class=" language-none">HI_BYTE_SHIFT</code> у разі дорівнює 0. <code class=" language-none">LO_BYTE_SHIFT</code>в даному випадку дорівнює 8. В останньому рядку даного методу: 
<ol>
 <li>Береться елемент з масиву value і побитово зсувається на <code class=" language-none">HI_BYTE_SHIFT</code>, тобто 0 при цьому збільшуючи <code class=" language-none">index +1</code>. 
  <p>У прикладі з рядком <code class=" language-none">"абвг"</code>шостий байт - 51 - так би і залишився, але при цьому збільшується індекс до 7.</p></li>
 <li>Після цього береться наступний елемент масиву і побітово зсувається, але на LO_BYTE_SHIFT , тобто на 8 бітів. 
  <p>І якщо у нас це був байт 4, який має двійкову виставу - 00000000 00000100, то після зсуву на 8 бітів у нас буде 00000100 00000000. Якщо цілим числом - 1024.</p></li>
 <li>Далі цих двох значень слід операція <code class=" language-none">| (OR)</code>. 
  <p>І якщо у нас були байти 51 і 1024, які в двійковому поданні виглядали як 00000000 00110011 і 00000100 00000000, то після операції ми <code class=" language-none">OR</code>отримаємо 00000100 00110011, що означає число 10.</p>
  <p>Ну і врешті-решт перекладається число 1075 у тип char, а при перекладі int -&gt; char використовується таблиця ASCII, і в ній під номером 1075 стоїть символ 'г'.</p></li>
</ol>Власне, таким чином ми отримаємо 'г' як результат роботи методу <code class=" language-none">charAt()</code>в Java-програмуванні.