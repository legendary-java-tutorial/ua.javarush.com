Перетворення Enum на String
<p>----------------------------------------</p>
Сьогодні поговоримо про роботу з рядковими перерахуваннями, а конкретніше з класами, в яких організовано взаємодію з рядковими константами. Під час розробки програми періодично необхідно оперувати фіксованим набором рядкових значень. Це мож
<p>----------------------------------------</p>
Сьогодні поговоримо про роботу з рядковими перерахуваннями, а конкретніше з <code class=" language-none">enum</code>класами, в яких організовано взаємодію з рядковими константами. <img data-id="f76b9281-f340-4ab1-986e-3cbc231247f8" data-max-width="850" alt="Перетворення Enum на String - 1" src="https://cdn.javarush.com/images/article/f76b9281-f340-4ab1-986e-3cbc231247f8/800.jpeg" style="width: 850px;">
<h2>Використання рядкових перерахувань</h2>Під час розробки програми періодично необхідно оперувати фіксованим набором рядкових значень. Це може бути будь що. Наприклад, список колірних кодів, що підтримуються програмою, або список пристроїв з якими здатна взаємодіяти наша програма, пори року і т.д. Усе це — зумовлений набір рядкових констант із загальною структурою, із якими необхідно налагодити програмне взаємодія лише на рівні Java коду. Коли необхідно взаємодіяти з певним набором рядкових (і не лише) констант, найкраще рішення – написати свій <code class=" language-none">enum</code>клас. Нижче розглянемо приклади перетворення <code class=" language-none">enum</code>на <code class=" language-none">string</code>. 
<h2>Створення рядкових перерахувань</h2>Створимо <code class=" language-none">enum</code>клас, в якому зберігається список різних оточень для розгортання програми, а також URL кожного оточення: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">enum</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token function"><span class="token function">PROD</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://release.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">TEST</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://test.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">AUTO_TEST</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://autotest.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">DEV</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"http://localhost:8080"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>url <span class="token operator"><span class="token operator">=</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> У даному класі ми визначабо 4 оточення: 
<ul>
 <li><code class=" language-none">PROD</code>- Релізне</li>
 <li><code class=" language-none">TEST</code>- Для ручного тестування</li>
 <li><code class=" language-none">AUTO_TEST</code>- оточення для автотестів</li>
 <li><code class=" language-none">DEV</code>- локальне для розробки та дебагу</li>
</ul>А також 4 URL для кожного з цих оточень. Звернемо увагу на деякі важливі моменти. 
<ol>
 <li>Кожна URL-адресаа — це рядкова константа нашого переліку: вони визначаються в дужках у кожної <code class=" language-none">enum</code>константи.</li>
 <li>Обов'язково наявність конструктора, який приймає аргумент того самого типу, що й кожна <code class=" language-none">enum</code>константа.</li>
 <li>Область видимості конструктора - <code class=" language-none">private</code>або <code class=" language-none">package private</code>.</li>
 <li>Необхідно визначити змінну — поле класу, яке зберігатиме певні строкові константи. Для цього поля необхідно створити метод геттер, щоб використовувати значення рядкових констант ззовні.</li>
</ol>
<h2>Перебір рядкових перерахувань</h2>На цьому етапі ми можемо перебрати всі доступні <code class=" language-none">enum</code>значення, і навіть отримати прив'язані до них рядкові константи. Щоб отримати всі значення будь-якого <code class=" language-none">enum</code>класу, необхідно використовувати метод <code class=" language-none">values()</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Environment</span></span> env <span class="token operator"><span class="token operator">:</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">values</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>env <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">" : "</span></span> <span class="token operator"><span class="token operator">+</span></span> env<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Висновок:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
PROD : https://release.application.com/
TEST : https://test.application.com/
AUTO_TEST : https://autotest.application.com/
DEV : http://localhost:8080</code></pre> Як видно з прикладу, для виведення на друк імені <code class=" language-none">enum</code>константи ми передали її в метод <code class=" language-none">System.out.println</code>, а для виведення на друк прив'язаного до цієї константи url ми використовували певний гетер. 
<h2>Отримання рядкової константи з enum</h2>Для отримання значення будь-якої строкової константи ми також можемо викликати гетер у будь-якої <code class=" language-none">enum</code>константи: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

        <span class="token class-name"><span class="token class-name">String</span></span> prodUrl <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>PROD<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">String</span></span> devUrl <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>DEV<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Production url is: "</span></span> <span class="token operator"><span class="token operator">+</span></span> prodUrl<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Development url is: "</span></span> <span class="token operator"><span class="token operator">+</span></span> devUrl<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Висновок:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
Production url is: https://release.application.com/
Development url is: http://localhost:8080</code></pre>
<h2>Отримання enum константи на ім'я</h2>Деколи буває необхідно отримати <code class=" language-none">enum</code>константу за її рядковим найменуванням. Робиться це за допомогою методу <code class=" language-none">valueOf(String)</code>, який повертає константу на її ім'я: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

        <span class="token class-name"><span class="token class-name">Environment</span></span> prod <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">valueOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"PROD"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">Environment</span></span> dev <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">valueOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"DEV"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Production url is: "</span></span> <span class="token operator"><span class="token operator">+</span></span> prod<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Development url is: "</span></span> <span class="token operator"><span class="token operator">+</span></span> dev<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre><strong>Висновок:</strong>
<pre class=" language-none" tabindex="0"><code class=" language-none">
Production url is: https://release.application.com/
Development url is: http://localhost:8080</code></pre> Але тут потрібна обережність. Якщо метод не знайде <code class=" language-none">enum</code>константу із зазначеним ім'ям, буде кинуто виняток <code class=" language-none">java.lang.IllegalArgumentException</code>. 
<h2>Перетворення String на Enum</h2>Іноді виникає зворотна потреба. Знаючи значення <code class=" language-none">enum</code>отримати саму <code class=" language-none">enum</code>константу. Тобто. у нашому прикладі, знаючи певну адресау, потрібно отримати відповідну <code class=" language-none">Environment</code>константу. Є кілька варіантів, щоб зробити це. І всі вони вимагають доопрацювання у самому <code class=" language-none">enum</code>класі. Варіант 1. Перебір усередині класу. Необхідно створити метод, який прийматиме рядок, і порівнювати його з усіма значеннями <code class=" language-none">enum</code>класу. При збігу метод повертатиме потрібне перерахування. Для нашого прикладу необхідно всередині класу <code class=" language-none">Environment</code>створити наступний метод: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span> <span class="token function"><span class="token function">getEnvByUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Environment</span></span> env <span class="token operator"><span class="token operator">:</span></span> <span class="token function"><span class="token function">values</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token comment"><span class="token comment">// либо equalsIgnoreCase, на ваше усмотрение</span></span>
        <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>env<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>url<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token keyword"><span class="token keyword">return</span></span> env<span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token comment"><span class="token comment">// Либо просто вернуть null</span></span>
    <span class="token keyword"><span class="token keyword">throw</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">IllegalArgumentException</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"No enum found with url: ["</span></span> <span class="token operator"><span class="token operator">+</span></span> url <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">"]"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Тоді ми зможемо отримувати <code class=" language-none">enum</code>з рядка таким чином: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">String</span></span> url <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"http://localhost:8080"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">Environment</span></span> env <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getEnvByUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>url<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Environment name for url=["</span></span> <span class="token operator"><span class="token operator">+</span></span> url <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">"] is: "</span></span> <span class="token operator"><span class="token operator">+</span></span> env<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Висновок: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
Environment name for url=[http://localhost:8080] is: DEV</code></pre> Цей підхід має свої мінуси. Щоразу для отримання <code class=" language-none">enum</code>константи доведеться перебирати всі значення і робити кілька порівнянь. Збитки продуктивності у разі визначатиметься кількістю констант і кількістю подібних операцій. Другий спосіб вирішення цього завдання такої проблеми не має. Повний код <code class=" language-none">Enum</code>класу: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">enum</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token function"><span class="token function">PROD</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://release.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">TEST</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://test.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">AUTO_TEST</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://autotest.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">DEV</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"http://localhost:8080"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>url <span class="token operator"><span class="token operator">=</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span> <span class="token function"><span class="token function">getEnvByUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Environment</span></span> env <span class="token operator"><span class="token operator">:</span></span> <span class="token function"><span class="token function">values</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>env<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>url<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
                <span class="token keyword"><span class="token keyword">return</span></span> env<span class="token punctuation"><span class="token punctuation">;</span></span>
            <span class="token punctuation"><span class="token punctuation">}</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
        <span class="token keyword"><span class="token keyword">throw</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">IllegalArgumentException</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"No enum found with url: ["</span></span> <span class="token operator"><span class="token operator">+</span></span> url <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">"]"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Варіант 2. Використання <code class=" language-none">HashMap</code> У цьому випадку ми створюємо карту всередині нашого переліку та заповнюємо її один раз на етапі компіляції, а потім беремо з неї значення: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">enum</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

    <span class="token function"><span class="token function">PROD</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://release.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">TEST</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://test.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">AUTO_TEST</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"https://autotest.application.com/"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span>
    <span class="token function"><span class="token function">DEV</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"http://localhost:8080"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">this</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>url <span class="token operator"><span class="token operator">=</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> url<span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token comment"><span class="token comment">// Создаем static final карту</span></span>
    <span class="token keyword"><span class="token keyword">private</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">final</span></span> <span class="token class-name"><span class="token class-name">Map</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span> LOOKUP_MAP <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">HashMap</span></span><span class="token generics"><span class="token punctuation"></span><span class="token generics"><span class="token punctuation"><span class="token punctuation">&lt;</span></span><span class="token punctuation"><span class="token punctuation">&gt;</span></span></span><span class="token punctuation"></span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

    <span class="token comment"><span class="token comment">// Заполняем её всеми значениями</span></span>
    <span class="token keyword"><span class="token keyword">static</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">Environment</span></span> env <span class="token operator"><span class="token operator">:</span></span> <span class="token function"><span class="token function">values</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
            LOOKUP_MAP<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">put</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>env<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> env<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token punctuation"><span class="token punctuation">}</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>

    <span class="token comment"><span class="token comment">// Возвращаем Environment по строковому url</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span> <span class="token function"><span class="token function">getEnvByUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> url<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token keyword"><span class="token keyword">return</span></span> LOOKUP_MAP<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">get</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>url<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> У плані використання обидва варіанти ідентичні: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">class</span></span> <span class="token class-name"><span class="token class-name">Main</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
    <span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">main</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span><span class="token punctuation"><span class="token punctuation">[</span></span><span class="token punctuation"><span class="token punctuation">]</span></span> args<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
        <span class="token class-name"><span class="token class-name">String</span></span> url <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"http://localhost:8080"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
        <span class="token class-name"><span class="token class-name">Environment</span></span> env <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Environment</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">getEnvByUrl</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>url<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

        <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Environment name for url=["</span></span> <span class="token operator"><span class="token operator">+</span></span> url <span class="token operator"><span class="token operator">+</span></span> <span class="token string"><span class="token string">"] is: "</span></span> <span class="token operator"><span class="token operator">+</span></span> env<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
    <span class="token punctuation"><span class="token punctuation">}</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Висновок: 
<pre class=" language-none" tabindex="0"><code class=" language-none">
Environment name for url=[http://localhost:8080] is: DEV</code></pre> Але й цей спосіб має недоліки. По-перше, коду стало значно більше. А по-друге, <code class=" language-none">HashMap</code>з усіма <code class=" language-none">enum</code>значеннями зберігатиметься в пам'яті програми постійно. Як бачимо, у всього є плюси та мінуси. Але враховуючи те, що в <code class=" language-none">enum</code>класах зазвичай зберігається не так багато значень, мінуси будуть практично непомітні. Є нюанс: якщо подібна операція (отримання Java Enum за String значенням) виконується часто, краще використовувати другий варіант. Докладніше з цією темою та <code class=" language-none">Enum</code>класами взагалі можна познайомитися на курсі CodeGym. Студенти CodeGym вивчають <code class=" language-none">Enum</code>вже на <a href="https://codegym.cc/quests/lectures/questmultithreading.level05.lecture01" target="_blank">першій лекції п'ятого рівня</a> . <a href="https://codegym.cc/" target="_blank"><img data-id="9157d915-b78b-48a1-bf15-48c323a67782" data-max-width="350" alt="Перетворення Enum на String - 2" src="https://cdn.javarush.com/images/article/9157d915-b78b-48a1-bf15-48c323a67782/256.jpeg" style="width: 350px;"></a>