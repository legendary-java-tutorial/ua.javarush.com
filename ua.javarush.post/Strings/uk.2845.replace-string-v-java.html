Replace string в Java
<p>----------------------------------------</p>
У роботі програміста часто-густо деякі завдання або їх складові можуть повторюватися. Тому сьогодні хотілося б торкнутися теми, яка часто зустрічається у повсякденній роботі будь-якого Java-розробника. Припустимо, що вам із деякого методу п
<p>----------------------------------------</p>
У роботі програміста часто-густо деякі завдання або їх складові можуть повторюватися. Тому сьогодні хотілося б торкнутися теми, яка часто зустрічається у повсякденній роботі будь-якого Java-розробника. <img data-max-width="800" data-id="d81f2c04-c20b-426d-a92b-95b2fcb3d0dc" alt="Replace string в Java - 1" src="https://cdn.javarush.com/images/article/d81f2c04-c20b-426d-a92b-95b2fcb3d0dc/800.jpeg" style="width: 800px;">Припустимо, що вам із деякого методу приходить деякий рядок. І все в ній начебто добре, але є якась дрібниця, яка вас не влаштовує. Наприклад, не підходить роздільник і вам потрібен якийсь інший (або зовсім не потрібен). Що можна зробити у такій ситуації? Звичайно, скористатися методами <code class=" language-none">replace</code>класу <code class=" language-none">String</code>.
<h2>Java string replace</h2>Об'єкт типу <code class=" language-none">String</code>має чотири варіації методу заміни <code class=" language-none">replace</code>. 
<ul>
 <li><code class=" language-none">replace(char, char);</code></li>
 <li><code class=" language-none">replace(CharSequence, CharSequence);</code></li>
 <li><code class=" language-none">replaceFirst(String, String);</code></li>
 <li><code class=" language-none">replaceAll(String, String).</code></li>
</ul>Призначення всіх цих методів одне – заміна частини рядка на інший рядок. Давайте розглянемо їх докладніше. <span class="text-bold">1.<code class=" language-none">replace(char, char)</code></span> <code class=" language-none">String replace(char oldChar, char newChar)</code> - Замінює всі входження символу першого аргументу <code class=" language-none">oldChar</code>другим - <code class=" language-none">newChar</code>. У цьому прикладі ми замінимо кому на крапку з комою: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"In CodeGym, Diego the best, Diego is Java God"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">','</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">';'</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Виведення в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">In CodeGym; Diego the best; Diego is Java God</code></pre><span class="text-bold">2.<code class=" language-none">replace(CharSequence, CharSequence)</code></span> Замінює кожен підрядок рядка, який відповідає зазначеній послідовності символів, на послідовності символів заміни. 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"In CodeGym, Diego the best, Diego is Java God"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Java"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"Rush"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Висновок: 
<pre class=" language-none" tabindex="0"><code class=" language-none">In RushRush, Diego the best, Diego is Rush God</code></pre><span class="text-bold">3.<code class=" language-none">replaceFirst(String, String)</code></span> <code class=" language-none">String replaceFirst(String regex, String replacement)</code> — замінює перший підрядок, який відповідає зазначеному регулярному виразу, що заміщає рядком. При використанні неприпустимого регулярного виразу можна вловити <a href="https://docs.oracle.com/javase/8/docs/api/java/util/regex/PatternSyntaxException.html" rel="nofollow" target="_blank">PatternSyntaxException</a> (що не є гуд). У цьому прикладі давайте замінимо ім'я робота-чемпіона: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"In CodeGym, Diego the best, Diego is Java God"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replaceFirst</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Diego"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"Amigo"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Виведення в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">In CodeGym, Amigo the best, Diego is Java God</code></pre> Як бачимо, змінилося лише перше входження " Diego " , ну а подальші залишабося за бортом — тобто, недоторканими. <span class="text-bold">4. <code class=" language-none">replaceAll()</code>Java</span> <code class=" language-none">String replaceAll(String regex, String replacement)</code> - даний метод замінює в рядку всі входження підрядки <code class=" language-none">regex</code>на <code class=" language-none">replacement</code>. Як перший аргумент <code class=" language-none">regex</code>можливе використання регулярного виразу. Як приклад спробуємо виконати попередню заміну з іменами, але вже новим методом: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"In CodeGym, Diego the best, Diego is Java God"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Diego"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"Amigo"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Виведення в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">In CodeGym, Amigo the best, Amigo is Java God</code></pre> Як бачимо, відбулася повна заміна всіх символів на необхідні. Думаю, Аміго буде задоволений =)
<h2>Регулярні вирази</h2>Вище було сказано, що є можливість заміни за регулярним виразом. Для початку прояснимо для себе, що ж таке регулярне вираження? <span class="text-bold">Регулярні вирази</span> - це формальна мова для пошуку та здійснення маніпуляцій з підрядками в тексті, заснована на використанні метасимволів (символів-джокерів). Простіше кажучи, це шаблон, що складається із символів та метасимволів, що задає правило пошуку. Наприклад: <span class="text-bold"><code class=" language-none">\D</code></span>шаблон, що описує будь-який нецифровий символ; <span class="text-bold"><code class=" language-none">\d</code></span>— визначає будь-який цифровий символ, який можна описати як <span class="text-bold"><code class=" language-none">[0-9]</code></span>; <span class="text-bold"><code class=" language-none">[a-zA-Z]</code></span>- шаблон, що описує латинські символи від a до z, без урахування регістру; Розглянемо застосування в методі <code class=" language-none">replaceAll</code>класу <code class=" language-none">String</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> value <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"In CodeGym, Diego the best, Diego is Java God"</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"\\s[a-zA-Z]{5}\\s"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">" Amigo "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Виведення в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">In CodeGym, Amigo the best, Amigo is Java God</code></pre><code class=" language-none">\\s[a-zA-Z]{5}\\s</code>- Описує слово з 5 латинських символів, оточене пробілами. Відповідно, цей шаблон і замінюється на переданий нами рядок.
<h2>Java regex replace</h2>В основному для використання регулярних виразів у Java застосовують можливості пакета <code class=" language-none">java.util.regex</code>. Ключовими класами є: 
<ol>
 <li><code class=" language-none"><span class="text-bold">Pattern</span></code>- Клас, що надає скомпільований варіант регулярного вираження.</li>
 <li><code class=" language-none"><span class="text-bold">Matcher</span></code>— даний клас інтерпретує шаблон і визначає збіги в рядку, що прийшов йому рядку.</li>
</ol>Як правило ці два класи працюють у зв'язці. Отже, як буде виглядати наш попередній об'єкт, але вже за допомогою <code class=" language-none">Matcher</code>і <code class=" language-none">Pattern</code>: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">Pattern</span></span> pattern <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Pattern</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">compile</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"\\s[a-zA-Z]{5}\\s"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">Matcher</span></span> matcher <span class="token operator"><span class="token operator">=</span></span> pattern<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">matcher</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"In CodeGym, Diego the best, Diego is Java God"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">String</span></span> value <span class="token operator"><span class="token operator">=</span></span> matcher<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">" Amigo "</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>value<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> І висновок у нас буде тим самим: 
<pre class=" language-none" tabindex="0"><code class=" language-none">In CodeGym, Amigo the best, Amigo is Java God</code></pre> Більш детально з регулярними виразами можна ознайомитись <a href="https://codegym.cc/groups/posts/regulyarnye-vyrazheniya-v-java" target="_blank">у цій статті</a> .
<h2>Альтернатива replaceAll</h2>Безперечно, методи <code class=" language-none">replace</code>дуже <code class=" language-none">String</code>вражаючі, але не можна не враховувати той факт, що <code class=" language-none">String</code>об'єкт <code class=" language-none">immutable</code>, тобто він не може бути змінений після свого створення. Тому коли ми замінюємо деякі частини рядка за допомогою методів <code class=" language-none">replace</code>, ми не змінюємо об'єкт <code class=" language-none">String</code>, а щоразу створюємо новий, з необхідним вмістом. Але щоразу створювати новий об'єкт досить довго, чи не так? Особливо, коли питання не в парі об'єктів, а в парі сотень, а то й тисяч. Мимоволі починаєш замислюватися про альтернативи. І які ми маємо альтернативи? <img data-max-width="800" data-id="4940b345-5096-4cce-bff2-2082581f4dcf" alt="Replace string в Java - 2" src="https://cdn.javarush.com/images/article/4940b345-5096-4cce-bff2-2082581f4dcf/800.jpeg" style="width: 800px;">Хм... Коли мова заходить про <code class=" language-none">String</code>її властивості <code class=" language-none">immutable</code>, відразу згадуєш про альтернативи, але не <code class=" language-none">immutable</code>, а саме про <a href="https://codegym.cc/groups/posts/2351-znakomstvo-so-string-stringbuffer-i-stringbuilder-v-java" target="_blank">StringBuilder/StringBuffer</a>. Як ми пам'ятаємо, ці класи практично не відрізняються за винятком того, що <code class=" language-none">StringBuffer</code>оптимізовано під використання в багатопотоковому середовищі, тому в умовах однопоточного використання <code class=" language-none">StringBuilder</code>працює дещо швидше. Виходячи з цього, сьогодні ми і будемо використовувати <code class=" language-none">StringBuilder.</code> У даного класу є багато цікавих методів, але саме зараз нас цікавить <code class=" language-none">replace</code>. <code class=" language-none">StringBuilder replace(int start, int end, String str)</code>— цей метод замінює символи у підстроюванні цієї послідовності на символи у зазначеному рядку. Підрядок починається в зазначеному початку і продовжується до символу в кінці індексу <code class=" language-none">-1</code>або до кінця послідовності, якщо такого символу немає. Давайте розглянемо приклад: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">StringBuilder</span></span> strBuilder <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">StringBuilder</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Java Rush"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
strBuilder<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token number"><span class="token number">5</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token number"><span class="token number">9</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"God"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>strBuilder<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Висновок: 
<pre class=" language-none" tabindex="0"><code class=" language-none">Java God</code></pre> Як ви бачите, ми вказуємо проміжок, в який хочемо записати рядок, і записуємо підрядок поверх те, що є в проміжку. Так ось, за допомогою <code class=" language-none">StringBuilder</code>відтворимо аналог методу <code class=" language-none">replaceall java</code>. Як це буде виглядати: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">static</span></span> <span class="token class-name"><span class="token class-name">String</span></span> <span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token class-name"><span class="token class-name">String</span></span> str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">String</span></span> oldStr<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token class-name"><span class="token class-name">String</span></span> newStr<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>

   <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">||</span></span> <span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>oldStr<span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">||</span></span> oldStr<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">equals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>newStr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> str<span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
   <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>newStr <span class="token operator"><span class="token operator">==</span></span> <span class="token keyword"><span class="token keyword">null</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       newStr <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token punctuation"><span class="token punctuation">}</span></span>
   <span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> strLength <span class="token operator"><span class="token operator">=</span></span> str<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">length</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token keyword"><span class="token keyword">final</span></span> <span class="token keyword"><span class="token keyword">int</span></span> oldStrLength <span class="token operator"><span class="token operator">=</span></span> oldStr<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">length</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">StringBuilder</span></span> builder <span class="token operator"><span class="token operator">=</span></span> <span class="token keyword"><span class="token keyword">new</span></span> <span class="token class-name"><span class="token class-name">StringBuilder</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">int</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> strLength<span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
       <span class="token keyword"><span class="token keyword">int</span></span> index <span class="token operator"><span class="token operator">=</span></span> builder<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">indexOf</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>oldStr<span class="token punctuation"><span class="token punctuation">,</span></span> i<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

       <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>index <span class="token operator"><span class="token operator">==</span></span> <span class="token operator"><span class="token operator">-</span></span><span class="token number"><span class="token number">1</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
           <span class="token keyword"><span class="token keyword">if</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span>i <span class="token operator"><span class="token operator">==</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
               <span class="token keyword"><span class="token keyword">return</span></span> str<span class="token punctuation"><span class="token punctuation">;</span></span>
           <span class="token punctuation"><span class="token punctuation">}</span></span>
           <span class="token keyword"><span class="token keyword">return</span></span> builder<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toString</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
       <span class="token punctuation"><span class="token punctuation">}</span></span>
       builder <span class="token operator"><span class="token operator">=</span></span> builder<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replace</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>index<span class="token punctuation"><span class="token punctuation">,</span></span> index <span class="token operator"><span class="token operator">+</span></span> oldStrLength<span class="token punctuation"><span class="token punctuation">,</span></span> newStr<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token punctuation"><span class="token punctuation">}</span></span>
       <span class="token keyword"><span class="token keyword">return</span></span> builder<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">toString</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> На перший погляд страшно, але трохи розібравшись, можна зрозуміти, що все не так вже й складно і цілком собі логічно. <a href="https://codegym.cc/welcome" target="_blank"><img id="click_banner3_2_articles" data-max-width="1080" data-id="5abc2912-d10d-4e1c-b2a1-2569f986e465" alt="Replace string в Java - 3" src="https://cdn.javarush.com/images/article/5abc2912-d10d-4e1c-b2a1-2569f986e465/1080.jpeg" style="width: 1080px;"></a>У нас є три аргументи: 
<ul>
 <li><code class=" language-none">str</code>— рядок, у якому ми хочемо замінити деякі підрядки;</li>
 <li><code class=" language-none">oldStr</code>— подання підрядків, які замінюватимемо;</li>
 <li><code class=" language-none">newStr</code>— те, на що ми замінюватимемо.</li>
</ul>Перший <code class=" language-none">if</code>нам необхідний, щоб перевірити вхідні дані, і якщо рядок <code class=" language-none">str</code>або <code class=" language-none">oldStr</code>порожні, або ж новий підряд <code class=" language-none">newStr</code>дорівнює старому <code class=" language-none">oldStr</code>, то виконання методу буде безглуздим. Тому повертаємо початковий рядок - <code class=" language-none">str</code>. Далі перевіряємо <code class=" language-none">newStr</code>на <code class=" language-none">null</code>, і якщо це так, то перетворимо на більш зручний для нас формат порожнього рядка - <code class=" language-none">""</code>. Після цього у нас йде оголошення необхідних нам змінних: 
<ul>
 <li>довжини загального рядка <code class=" language-none">str</code>;</li>
 <li>довжини підрядки <code class=" language-none">oldStr</code>;</li>
 <li>об'єкт <code class=" language-none">StringBuilder</code>із загального рядка.</li>
</ul>Запускаємо цикл, який повинен відпрацювати кількість разів, що дорівнює довжині загального рядка (але, швидше за все, цього ніколи не станеться). За допомогою методу класу <code class=" language-none">StringBuilder</code>— <code class=" language-none">indexOf</code>дізнаємося індекс першого входження цікавої для нас підрядки. З жалем, хотілося б відзначити, що <code class=" language-none">indexOf</code>не працює з регулярними висловлюваннями, тому наш підсумковий метод буде працювати тільки з входженнями рядків(( Якщо цей індекс у нас дорівнює <code class=" language-none">-1</code>, то даних входжень у поточному об'єкті <code class=" language-none">StringBuilder</code>більше немає, тому виходимо з методу з результатом, що цікавить): він міститься в нашому <code class=" language-none">StringBuilder</code>, який ми перетворимо до <code class=" language-none">String</code>, за допомогою <code class=" language-none">toString</code>. Якщо у нас індекс дорівнює<code class=" language-none">-1</code>у першій ітерації циклу, отже підрядки, яку треба замінити, був у загальному рядку спочатку. Тож у такій ситуації просто повернемо загальний рядок. Далі у нас і йде використання вищеописаного методу <code class=" language-none">replace</code>з <code class=" language-none">StringBuilder</code>використанням знайденого індексу входження для позначення координат замінної підрядки. Цей цикл відпрацює стільки разів, скільки буде знайдено підрядок, які потрібно замінити. Якщо рядок складається лише із символу, який потрібно замінити, то тільки в такому разі у нас цикл відпрацює повністю і ми отримаємо результат, <code class=" language-none">StringBuilder</code>перетворений на рядок. Потрібно перевірити коректність роботи цього методу, чи не так? Напишемо тест, який перевіряє роботу методу у різних ситуаціях: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token annotation punctuation"><span class="token annotation punctuation">@Test</span></span>
<span class="token keyword"><span class="token keyword">public</span></span> <span class="token keyword"><span class="token keyword">void</span></span> <span class="token function"><span class="token function">customReplaceAllTest</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token class-name"><span class="token class-name">String</span></span> str <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"qwertyuiop__qwertyuiop__"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> firstCase <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"q"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"a"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">String</span></span> firstResult <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"awertyuiop__awertyuiop__"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token function"><span class="token function">assertEquals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>firstCase<span class="token punctuation"><span class="token punctuation">,</span></span> firstResult<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> secondCase <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"q"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"ab"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">String</span></span> secondResult <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"abwertyuiop__abwertyuiop__"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token function"><span class="token function">assertEquals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>secondCase<span class="token punctuation"><span class="token punctuation">,</span></span> secondResult<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> thirdCase <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"rtyu"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"*"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">String</span></span> thirdResult <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"qwe*iop__qwe*iop__"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token function"><span class="token function">assertEquals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>thirdCase<span class="token punctuation"><span class="token punctuation">,</span></span> thirdResult<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> fourthCase <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"q"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">String</span></span> fourthResult <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"wertyuiop__wertyuiop__"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token function"><span class="token function">assertEquals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>fourthCase<span class="token punctuation"><span class="token punctuation">,</span></span> fourthResult<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> fifthCase <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"uio"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token class-name"><span class="token class-name">String</span></span> fifthResult <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"qwertyp__qwertyp__"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token function"><span class="token function">assertEquals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>fifthCase<span class="token punctuation"><span class="token punctuation">,</span></span> fifthResult<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> sixthCase <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"***"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token function"><span class="token function">assertEquals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>sixthCase<span class="token punctuation"><span class="token punctuation">,</span></span> str<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

   <span class="token class-name"><span class="token class-name">String</span></span> seventhCase <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">Solution</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"q"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"***"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
   <span class="token function"><span class="token function">assertEquals</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>seventhCase<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">""</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span></code></pre> Можна розбити на 7 окремих тестів, кожен із яких відповідатиме за свій тестовий випадок. Запустивши його, ми побачимо, що він зелений, тобто успішний. Ну от, начебто і все. Хоча зачекайте, вище ми говорабо, що цей метод буде значно швидше, ніж <code class=" language-none">replaceAll</code>у <code class=" language-none">String</code>. Що ж, давайте подивимося: 
<pre class=" line-numbers  language-java" tabindex="0"><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span><code class="  language-java"><span class="token class-name"><span class="token class-name">String</span></span> str <span class="token operator"><span class="token operator">=</span></span> <span class="token string"><span class="token string">"qwertyuiop__qwertyuiop__"</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token keyword"><span class="token keyword">long</span></span> firstStartTime <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">nanoTime</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">long</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> <span class="token number"><span class="token number">10000000L</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   str<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">replaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"tyu"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"#"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">double</span></span> firstPerformance <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">nanoTime</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-</span></span> firstStartTime<span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">long</span></span> secondStartTime <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">nanoTime</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token keyword"><span class="token keyword">for</span></span> <span class="token punctuation"><span class="token punctuation">(</span></span><span class="token keyword"><span class="token keyword">long</span></span> i <span class="token operator"><span class="token operator">=</span></span> <span class="token number"><span class="token number">0</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i <span class="token operator"><span class="token operator">&lt;</span></span> <span class="token number"><span class="token number">10000000L</span></span><span class="token punctuation"><span class="token punctuation">;</span></span> i<span class="token operator"><span class="token operator">++</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token punctuation"><span class="token punctuation">{</span></span>
   <span class="token function"><span class="token function">customReplaceAll</span></span><span class="token punctuation"><span class="token punctuation">(</span></span>str<span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"tyu"</span></span><span class="token punctuation"><span class="token punctuation">,</span></span> <span class="token string"><span class="token string">"#"</span></span><span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span>
<span class="token punctuation"><span class="token punctuation">}</span></span>

<span class="token keyword"><span class="token keyword">double</span></span> secondPerformance <span class="token operator"><span class="token operator">=</span></span> <span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">nanoTime</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token punctuation"><span class="token punctuation">)</span></span> <span class="token operator"><span class="token operator">-</span></span> secondStartTime<span class="token punctuation"><span class="token punctuation">;</span></span>

<span class="token class-name"><span class="token class-name">System</span></span><span class="token punctuation"><span class="token punctuation">.</span></span>out<span class="token punctuation"><span class="token punctuation">.</span></span><span class="token function"><span class="token function">println</span></span><span class="token punctuation"><span class="token punctuation">(</span></span><span class="token string"><span class="token string">"Performance ratio  - "</span></span> <span class="token operator"><span class="token operator">+</span></span>  firstPerformance <span class="token operator"><span class="token operator">/</span></span> secondPerformance<span class="token punctuation"><span class="token punctuation">)</span></span><span class="token punctuation"><span class="token punctuation">;</span></span></code></pre> Далі цей код був запущений тричі, і ми отримали наступні результати: Висновок в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">Performance ratio  - 5.012148941181627
 
Performance ratio  - 5.320637176017641
 
Performance ratio  - 4.719192686500394</code></pre> Як ми бачимо, в середньому наш метод продуктивніший, ніж класичний <code class=" language-none">replaceAll</code>клас <code class=" language-none">String</code>у 5 разів! Що ж і насамкінець давайте запустимо цю ж перевірку, але, так би мовити, вхолосту. Інакше кажучи, у разі коли збіги знайдено нічого очікувати. Замінимо рядок для пошуку <code class=" language-none">"tyu"</code>з <code class=" language-none">"--"</code>. При трьох запусках були отримані наступні результати: Виведення в консоль: 
<pre class=" language-none" tabindex="0"><code class=" language-none">Performance ratio  - 8.789647093542246
 
Performance ratio  - 9.177105482660881
 
Performance ratio  - 8.520964375227406</code></pre> У середньому продуктивність випадків, коли збігів не було знайдено, зросла в 8.8 раз! <img data-max-width="800" data-id="fe356494-ada3-47ca-a5cb-3543ddafe78d" alt="Replace string в Java - 4" src="https://cdn.javarush.com/images/article/fe356494-ada3-47ca-a5cb-3543ddafe78d/800.jpeg" style="width: 800px;">
<div class="table-container">
 <table>
  <tbody>
   <tr>
    <th>Що почитати ще:</th>
   </tr>
   <tr>
    <td>
     <ul>
      <li><a href="https://codegym.cc/groups/posts/2347-klass-string-v-java" target="_blank">Клас String в Java</a></li>
      <li><a href="https://codegym.cc/groups/posts/2757-chto-takoe-metodih-v-java" target="_blank">Що таке методи Java?</a></li>
      <li><a href="https://codegym.cc/groups/posts/2779-reverse-string-v-java-uchimsja-reversirovatjh-stroki-raznihmi-sposobami" target="_blank">Reverse string в Java: вчимося реверсувати рядки різними способами </a></li>
     </ul></td>
   </tr>
  </tbody>
 </table>
</div>