Причини появи ООП
<p>----------------------------------------</p>
Історія про компанію. Хочу розповісти вам одну історію, що демонструє, як ООП допомагає впоратися зі складністю великих систем. Це потрібно для того, щоб ви усвідомили призначення ООП. Була собі невелика компанія, що займалася доставкою товарів у космосі… Назвемо її Galaxy Rush. І було в ній
<p>----------------------------------------</p>
<h2>1. Історія про компанію</h2>
<p>Хочу розповісти вам одну історію, що демонструє, як <span class="term">ООП</span> допомагає впоратися зі складністю великих систем. Це потрібно для того, щоб ви усвідомили призначення <span class="term">ООП</span>.</p>
<p>Була собі невелика компанія, що займалася доставкою товарів у космосі…</p>
<p>Назвемо її Galaxy Rush. І працювало в ній 5 співробітників. Один займався фінансами, другий працював на складі, третій доставляв товари, четвертий відповідав за рекламу, а п'ятий усім керував.</p>
<p>Вони були дуже старанними, і все в них складалося якнайкраще. Компанія мала хорошу репутацію та заробляла багато грошей. Але з кожним роком кількість замовлень збільшувалась, тож директору довелося наймати додаткових працівників. Декілька на склад, декілька на доставку, ще одного касира та ще одного маркетолога для розширення ринку.</p>
<p><span class="text-red">І тут почалися проблеми. Людей <strong>стало більше</strong>, і вони <strong>почали один одному заважати</strong>.</span></p>
<p>Маркетолог витратив усі гроші на нову рекламну кампанію, і в <span class="text-orange">касі немає грошей на закупівлю товару, який треба терміново відправити</span>.</p>
<p>На складі є 10 коробок із новенькими гіпердвигунами, що надходять на склад раз на місяць. Кур'єр полетів відвезти один гіпердвигун, і замовлення на 10 гіпердвигунів від іншого клієнта буде чекати цілий місяць. <span class="text-orange">Перший кур'єр просто не знав про інше замовлення, яке мав виконати другий кур'єр.</span></p>
<p>Новий помічник директора відправив кур'єра на кораблі для закупівлі товару, і <span class="text-orange">всі інші змушені чекати, доки з'явиться доступний корабель</span>. Є чимало замовлень, які потрібно терміново доставити, але цей помічник керує тільки закупівлями й <strong>намагається добре виконувати свою роботу</strong>. <span class="text-green">Що краще працівник виконував свої обов'язки, то більше він заважав іншим.</span></p>
<p>Проаналізувавши ситуацію, директор зрозумів, що такі важливі ресурси, як корабель, готівка й товар витрачаються не оптимально, а за принципом «хто першим встав, той ся і вбрав». Будь-хто міг узяти потрібний всім ресурс для своєї роботи й поставити цим під удар інших співробітників, та й усю компанію в цілому.</p>
<p>Потрібно було щось робити, і <span class="text-green">директор вирішив розділити монолітну компанію на кілька відділів</span>. З'явилися відділ доставки, відділ маркетингу, відділ закупівель, фінансовий відділ і відділ запасів. Тепер уже ніхто не міг просто так взяти корабель. Директор відділу доставки отримував усю інформацію про доставки й видавав корабель тому кур'єру, чиє замовлення було вигіднішим для компанії. Склад теж не дозволяв кур'єрам брати товар на свій розсуд, а натомість контролював цей процес. Фінансовий відділ міг не дати грошей на маркетинг, якщо знав, що найближчим часом планується закупівля. У кожному відділі була тільки одна публічна особа — його керівник. <span class="text-red">Внутрішній устрій окремих відділів був їхньою внутрішньою справою. </span>Коли кур'єр хотів отримати товар, він звертався до керівника складу, а не йшов просто на склад. Усі нові заявки отримував директор відділу доставки (<code>public person</code>), а не кур'єр (<code>private
    person</code>).</p>
<p>Інакше кажучи, <span class="text-green">директор об'єднав ресурси та дії над ними в групи (відділи)</span>, а також <span class="text-orange">заборонив іншим втручатися у внутрішню структуру відділів</span>. <span class="text-viola">Контактувати можна було тільки з певною особою.</span></p>
<p>З погляду <span class="term">ООП</span> це не що інше, як <span class="text-green">розділення програми на об'єкти. Монолітна програма, що складається з функцій і змінних, перетворюється на програму, що складається з об'єктів. </span>А об'єкти містять в собі змінні та функції.</p>
<p><span class="text-user">Проблема була в тому, що <span class="text-red">будь-який працівник міг безконтрольно працювати з будь-яким ресурсом і віддавати команди будь-якій людині. </span></span><span class="text-user">Ми ввели невелике обмеження, і, як наслідок, отримали більше порядку. А ще змогли краще все це контролювати.</span></p>
<p>«Розділяй і володарюй» у чистому вигляді.</p>
<hr>
<h2>2. Процес створення програм</h2>
<p>Торкнімося ще одного важливого моменту, який розкриває додаткову перевагу <span class="term">ООП</span>. Розумієте, програми скоріше схожі не на будівлі, а на тварин. <strong><span class="text-green">Їх не будують, їх вирощують. </span></strong><span class="text-green">Розробка — це постійні зміни.</span> Для будівництва ви можете мати хороший план і чітко його дотримуватись. Що ж до розробки програм, це не так.</p>
<p>Дуже часто в програмуванні щось не вдається зробити в той спосіб, який було передбачено спочатку, і доводиться багато чого переробляти. Ще частіше змінюються вимоги замовника.</p>
<p>А якщо замовник проєкту надав точні й жорсткі вимоги щодо його розробки? Тоді все ще гірше. Розгляньте ситуацію з продуктом у часі.</p>
<p><span class="text-orange">Успіх продукту призведе до того, що замовник захоче випустити його нову версію, а потім ще і ще. </span>І, звичайно ж, потрібно буде внести лише «невеличкі зміни» в уже наявний продукт. <span class="text-green">Тому розробка продукту — це ланцюжок постійних змін. </span>Тільки масштаб часу різний. Нова версія може випускатися щотижня, щомісяця або кожні пів року.</p>
<p>І який же висновок можна зробити з усього цього? <span class="text-red">Внутрішню структуру продукту потрібно підтримувати в такому стані, який дозволить вносити значні (і не дуже) зміни з мінімальними переробками.</span></p>
<p><strong>Зв'язність об'єктів</strong></p>
<p><span class="text-user">Проте зробити це складніше, ніж сказати. </span>Ми вже говорили, що програма складається з об'єктів, які взаємодіють між собою. Нанесімо на дошку всі об'єкти нашої програми, позначивши їх жирними точками. А потім кожний об'єкт (точку) з'єднаємо стрілками з усіма об'єктами (точками), з якими він взаємодіє.</p>
<p>Тепер спробуймо об'єднати об'єкти (точки) у групи. Точки слід об'єднати в групу, якщо зв'язки між ними значно інтенсивніші, ніж з іншими точками. Якщо більшість стрілок від точки з'єднує її з точками цієї ж групи, значить, розподіл на групи виконано правильно. Точки всередині однієї групи будемо називати <strong>сильно пов'язаними</strong>, а точки з різних груп — слабко пов'язаними.</p>
<p><strong>Принцип слабкої зв'язності</strong></p>
<p>Це називається «принцип слабкої зв'язності». Програму розділяють на кілька частин, чи то шарів, які мають сильно пов'язану внутрішню логіку й дуже слабкі зв'язки з іншими шарами (частинами). <span class="text-orange">Зазвичай взаємодію між шарами суворо регламентовано. Один шар може звертатися до іншого, але використовувати тільки невелику частину його класів. <span class="text-user">Це той самий принцип «розділення на відділи», тільки в більшому масштабі</span>.</span></p>
<p>Як наслідок, ми можемо реорганізувати відділ, підвищити його ефективність, найняти ще більше людей, але <span class="text-red">якщо ми не змінимо протокол взаємодії інших відділів із нашим, усі втілені зміни залишаться локальними. </span>Нікому не доведеться перенавчатися. Не доведеться переробляти всю систему. Кожен відділ може займатися такою внутрішньою оптимізацією, якщо механізми взаємодії з іншими відділами вибрано вдало.</p>
<p>Вибрано вдало. А що станеться, якщо їх вибрано невдало? Тоді «<strong>запас змін</strong>» швидко вичерпається, і доведеться переробляти всю систему. Таке доводиться робити час від часу. Не можна передбачити, що станеться в майбутньому, але можна звести кількість переробок до мінімуму.</p>
<p><strong>Принцип абстракції</strong></p>
<p>Вибір структури відділів і способу їх взаємодії — це «<strong>принцип абстракції</strong>». У програмуванні він використовується для визначення, на які частини краще розділити програму та як ці частини мають взаємодіяти. Цей принцип також можна застосовувати для поділу отриманих частин, доки ми не розділимо програму на окремі класи.</p>
<p><span class="text-user">А приховування внутрішньої структури цих частин і жорсткі обмеження на взаємодію з іншими частинами — це <strong>інкапсуляція</strong>.</span> <span class="text-green">Інкапсуляція + абстракція — це наріжні камені <span class="term">ООП</span>.</span> Хороша програма має відповідати цим двом принципам. Далі ми розглянемо інші принципи та їхні переваги.</p>