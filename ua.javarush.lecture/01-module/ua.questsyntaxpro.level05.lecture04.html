Двовимірні масиви
<p>----------------------------------------</p>
Двовимірні масиви. Ще один цікавий факт про масиви: масиви бувають не лише лінійними, а й двовимірними. І що це означає, запитаєте ви? А це означає, що комірки масиву можна представити не тільки у вигляді стовпця (або рядка), а й у вигляді прямокутної таблиці. int[][] ім'я = new int[ширина]
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="e5de9d1f-8136-4858-bfc7-cfdbbce2cdcb" data-max-width="1024" src="https://cdn.javarush.com/images/article/e5de9d1f-8136-4858-bfc7-cfdbbce2cdcb/original.png" alt=""/>
        </div>
    </div>
</div>

<hr>

<h2>1. Двовимірні масиви</h2>
<p>Ще один цікавий факт про масиви: масиви бувають не лише лінійними, а й двовимірними.</p>
<p>І що це означає, запитаєте ви?</p>
<p>А це означає, що комірки масиву можна представити не тільки у вигляді стовпця (або рядка), а й у вигляді прямокутної таблиці.</p>
<div class="lesson-example lesson-example--center">
    <pre class="lecture-code lecture-code--present language-java"><code><span class="text-orange">int[][]</span> <span class="text-red">ім'я</span> = new <span class="text-viola">int</span>[<span class="text-user">ширина</span>][<span class="text-user">висота</span>];</code></pre>
</div>
<p>де <strong><span class="text-red">ім'я</span></strong> — це ім'я змінної-масиву, ширина — це <span class="text-user">ширина</span> таблиці (виміряна в комірках), а <span class="text-user">висота</span> — це висота таблиці. Приклад:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code><span class="text-orange">int[][]</span> <span class="text-red">data</span> = new <span class="text-viola">int</span>[2][5];
<span class="text-red">data</span>[1][1] = 5;</code></pre>
        </td>
        <td>Створюємо двовимірний масив: два стовпці та 5 рядків.<br/> У комірку (1,1) записуємо 5.</td>
    </tr>
    </tbody>
</table>
<p>Отакий вигляд це матиме в пам'яті:</p>
<img data-id="cc727db6-51a6-42d4-8795-7ae186fbb08b" src="https://cdn.javarush.com/images/article/cc727db6-51a6-42d4-8795-7ae186fbb08b/original.png" alt="Двовимірні масиви"/>
<p>До речі, для двовимірних масивів теж можна використовувати швидку ініціалізацію:</p>
<pre class="language-java"><code>// кількість днів у місяцях року поквартально
int[][] <span class="text-red">months</span> = { {31, 28, 31}, {30, 31, 30}, {31, 31, 30}, {31, 30, 31} };</code></pre>
<p>Є дуже багато ситуацій, коли вам, як програмісту, може знадобитися двовимірний масив. Реалізація майже будь-якої настільної гри — це ж готовий двовимірний масив: «Шахи», «Шашки», «Хрестики-нулики», «Морський бій»:</p>
<img data-id="59c68b31-a590-4b00-9440-fe67374c13a2" src="https://cdn.javarush.com/images/article/59c68b31-a590-4b00-9440-fe67374c13a2/original.jpg" alt="Двовимірні масиви 2"/>
<p>Ігрове поле «Шахів» або «Морського бою» просто ідеально лягає на двовимірні масиви, тільки координати клітин треба буде позначати лише числами. Не «пішак e2 -&gt; e4», а «пішак (4,1) -&gt; (4,3)». Вам, як програмісту, буде навіть легше.</p>
<hr>
<h2>2. Розташування елементів у масивах: (x,y) чи (y,x)</h2>
<p>Тут, до речі, виникає цікава дилема.</p>
<p>Створення масиву <code>new int[2][5]</code>; означає, що ми створили таблицю «два <span class="text-orange">рядки</span> та 5 <span class="text-viola">стовпців</span>» чи все-таки «два <span class="text-viola">стовпці</span> та 5 <span class="text-orange">рядків</span>»? Інакше кажучи, ми спочатку вказуємо «ширину», а потім «висоту», або все-таки спочатку «висоту», а потім — «ширину»? І, як то кажуть, не все настільки однозначно.</p>
<p>Почнімо із запитання: <strong>а як ця таблиця насправді зберігається в пам'яті?</strong></p>
<p>Безпосередньо в пам'яті комп'ютера жодної таблиці немає: усі байти пам'яті пронумеровані як 0, 1, 2, ... Для нас це таблиця 2×5, а в пам'яті це просто 10 комірок і все — без розділення на рядки та стовпці.</p>
<p><strong>Аргумент на користь гіпотези «ширина»–«висота».</strong></p>
<p>Ще в школі всіх учили, що з пари координат спочатку вказують «x», а потім «y». І це не просто шкільний стандарт — це взагалі стандарт у математиці. Проти цариці наук, авжеж, не попреш. Так що? Спочатку «ширина», а потім «висота»?</p>
<p><strong>Аргумент на користь гіпотези «висота»–«ширина».</strong></p>
<p>Тут теж є цікавий аргумент, і ґрунтується він на… швидкій ініціалізації двовимірних масивів. Адже, якщо ми захочемо ініціалізувати наш масив, то напишемо цей код так:</p>
<pre class="language-java"><code>// Важлива матриця з даними
int[][] <span class="text-red">matrix</span> = { {1, 2, 3, 4, 5}, {1, 2, 3, 4, 5} };</code></pre>
<p>Нічого не помічаєте? А якщо ось так?</p>
<pre class="language-java"><code>// Важлива матриця з даними
int[][] <span class="text-red">matrix</span> = {
  {1, 2, 3, 4, 5},
  {1, 2, 3, 4, 5}
};</code></pre>
<p>Якщо написати наші дані в коді по рядках, отримаємо таблицю, що містить 2 рядки та 5 стовпців.</p>
<p><strong>Підсумки</strong></p>
<p>Ну що тут скажеш? Як вам зручніше — вирішуєте ви. Головне, щоб усі програмісти, які працюють над одним проєктом, дотримувались однакового підходу.</p>
<p>Якщо ви працюватимете над проєктом, де в коді багато ініціалізованих двовимірних масивів , то, найімовірніше, там усі будуть використовувати швидку ініціалізацію даних і буде стандарт «висота»–«ширина».</p>
<p>Якщо ж вам пощастить потрапити в проєкт, де багато математики та працюють із координатами (наприклад, робота з ігровими рушіями), там, найімовірніше, будуть дотримуватися підходу «ширина»–«висота».</p>
<hr>
<h2>3. Будова двовимірних масивів</h2>
<p>А зараз ви дізнаєтеся, як насправді влаштовано двовимірні масиви. Готові?</p>
<p>Двовимірні масиви — це насправді масиви масивів!</p>
<p>Інакше кажучи, якщо у випадку зі звичайним масивом «змінна-масив зберігає посилання на контейнер, в якому зберігаються елементи масиву», то у випадку з двовимірними масивами маємо дещо вибухонебезпечнішу ситуацію: змінна-двовимірний масив зберігає посилання на контейнер, в якому зберігаються посилання на одновимірні масиви. Це краще один раз побачити, ніж сто разів спробувати пояснити:</p>
<img data-max-width="1024" data-id="527b916e-fed3-48dd-8677-e753cff71596" src="https://cdn.javarush.com/images/article/527b916e-fed3-48dd-8677-e753cff71596/1024.jpeg" alt="">
<p><strong>Ліворуч</strong> у нас «змінна-двовимірний-масив», яка зберігає посилання на «об'єкт-двовимірний масив». <strong>У </strong><strong>центрі</strong> маємо «об'єкт-двовимірний масив»: у його комірках зберігаються посилання на одновимірні масиви — рядки двовимірного масиву. Ну й <strong>праворуч</strong> ви бачите чотири одновимірних масиви — рядки нашого двовимірного масиву.</p>
<p>Отак насправді влаштовано двовимірні масиви. І такий підхід дає Java-програмісту кілька переваг:</p>
<p><strong>По-перше</strong>, оскільки «контейнер контейнерів» зберігає посилання на «масиви-рядки», ми можемо дуже швидко й просто міняти рядки місцями. Щоб отримати доступ до «контейнера контейнерів», треба просто вказати один індекс замість двох. Приклад:</p>
<pre class="language-java"><code><span class="text-orange">int[][]</span> <span class="text-red">data</span> = new <span class="text-viola">int</span>[2][5];
<span class="text-orange">int[]</span> <span class="text-red">row1</span> = data[0];
<span class="text-orange">int[]</span> <span class="text-red">row2</span> = data[1];</code></pre>
<p>Отакий код допоможе поміняти рядки місцями:</p>
<table>
    <tbody>
    <tr>
        <td>
<pre class="language-java"><code>// Важлива матриця з даними
int[][] <span class="text-red">matrix</span> = {
  {1, 2, 3, 4, 5},
  {5, 4, 3, 2, 1}
};

int[] <span class="text-green">tmp</span> = <span class="text-red">matrix</span>[0];
matrix[0] = <span class="text-red">matrix</span>[1];
matrix[1] = <span class="text-green">tmp</span>;</code></pre>
        </td>
        <td>Двовимірний масив<br/><br/><br/><br/><br/><br/> У <code>matrix[0]</code> у нас зберігається посилання на перший рядок.<br/> Міняємо посилання місцями.<br/><br/> У результаті масив <code>matrix</code> має такий вигляд:<br/>
            <pre><code>{
  {5, 4, 3, 2, 1},
  {1, 2, 3, 4, 5}
};</code></pre>
        </td>
    </tr>
    </tbody>
</table>
<p>Якщо ви звертаєтеся до комірки двовимірного масиву, але після імені масиву вказуєте тільки один індекс, ви таким чином звернетеся до контейнера контейнерів, у комірках якого зберігаються посилання на звичайні одновимірні масиви.</p>

<hr>
<div class="task-widget-container" showCover="true" taskKey="ua.javarush.task.pro.task05.task0509"></div>
<hr>

<div class="lesson-carousel lesson-carousel--comics">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="b4c92a3b-84ee-4230-8b8a-354741699764" data-max-width="1024" src="https://cdn.javarush.com/images/article/b4c92a3b-84ee-4230-8b8a-354741699764/original.png" alt=""/>
        </div>
        <div class="lesson-carousel__item">
            <img data-id="8530f589-918c-4e32-9ab8-2ac4cce6205f" data-max-width="1024" src="https://cdn.javarush.com/images/article/8530f589-918c-4e32-9ab8-2ac4cce6205f/original.png" alt=""/>
        </div>
    </div>
</div>