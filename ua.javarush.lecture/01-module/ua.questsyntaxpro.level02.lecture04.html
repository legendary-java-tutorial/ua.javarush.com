Адресація пам'яті та змінні
<p>----------------------------------------</p>
Будова пам'яті У кожного комп'ютера є оперативна пам'ять. Що ж це таке, які має властивості та, найголовніше, яка нам із цього користь? Кожна програма (включно з програмами, написаними мовою Java) перед виконанням завантажується в оперативну пам'ять. &nbsp;В оперативній пам'яті
<p>----------------------------------------</p>
<div class="lesson-carousel lesson-carousel--comics">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="cff0a08c-af1e-4cea-a559-4e56e53a8fc4" data-max-width="1024" alt="" src="https://cdn.javarush.com/images/article/cff0a08c-af1e-4cea-a559-4e56e53a8fc4/original.png"/>
        </div>
    </div>
</div>

<hr>

<h2>1. Будова пам'яті</h2>
<p>У кожного комп'ютера є <span class="term text-viola">оперативна пам'ять</span>. Що ж це таке, які має властивості та, найголовніше, яка нам із цього користь?</p>
<p>Кожна програма (включно з <span class="term text-neon">програмами</span>, написаними мовою Java) перед виконанням завантажується в <span class="term text-viola">оперативну пам'ять</span>.&nbsp;В оперативній пам'яті містяться код програми (який виконується процесором) і дані програми (які в пам'ять поміщає сама програма).</p>
<p>Що ж таке оперативна пам'ять і на що вона схожа?</p>
<p>Уявіть собі Excel 😎 Сторінка в Exсel складається з <span class="term text-green">клітинок (комірок)</span>, і кожна комірка має свій <span class="term text-brown">унікальний номер</span> (<code>A1</code>, <code>A2</code>, ... <code>B1</code>, <code>B2</code>). Якщо знати <span class="term text-brown">номер комірки</span>, завжди можна записати в неї якесь значення або ж отримати значення, що там зберігається. <span class="term text-viola">Пам'ять</span> комп'ютера побудована за схожим принципом.</p>
<p><img data-id="346cb329-af14-4134-844d-1949f1c53ff8" src="https://cdn.javarush.com/images/article/346cb329-af14-4134-844d-1949f1c53ff8/original.png" alt=""/></p>
<p>Під час роботи програма та її дані зберігаються в <span class="term text-viola">пам'яті</span>.&nbsp;Уся пам'ять комп'ютера складається з маленьких комірок — <span class="term text-green">байтів</span>. Кожна комірка має свій унікальний номер — <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, ...; (нумерація починається з нуля). Знаючи <span class="term text-brown">номер комірки</span>, ми зможемо зберегти в ній певні дані. Або взяти їх із цієї комірки.&nbsp;В одних комірках зберігається код програми — набір команд для процесора, в інших — дані цієї програми. Номер комірки також називають <span class="term text-brown">адресою комірки</span>.</span></p>
<p>Процесор уміє виконувати команди із завантаженої в пам'ять програми. Майже всі команди процесора — це щось на кшталт <span class="term">узяти з деяких комірок дані</span> → <span class="term">щось із ними зробити</span> → <span class="term">результат помістити в інші комірки</span>.</p>
<p>Поєднуючи сотні простих команд, ми отримуємо складні та корисні команди.</p>
<p>Коли в коді програми відбувається оголошення змінної, їй виділяється шматочок іще не використаної <span class="term text-viola">пам'яті</span>. Зазвичай це кілька байтів. Під час оголошення змінної обов'язково треба вказати тип інформації, яку програма буде зберігати в ній: числа, текст або інші дані. Адже якщо тип інформації невідомий, то незрозуміло, якого розміру блок пам'яті потрібно виділити для змінної.</p>
<p>На світанку комп'ютерної ери програми працювали просто з номерами комірок пам'яті, але потім для зручності коміркам почали надавати імена. <span class="term text-red">Унікальне</span> ім'я змінної створюється насамперед для полегшення життя програмістів: програма під час роботи чудово впоралася б і з номерами.</p>
<hr>
<h2>2. Змінні в пам'яті</h2>
<p>Загалом у Java є 4 типи даних для зберігання цілих чисел. Це <code>byte</code>, <code>short</code>, <code>int</code> і <code>long</code>.</p>
<table>
    <tbody>
    <tr>
        <th class="text-center">Тип</th>
        <th class="text-center">Розмір, байт</th>
        <th>Походження імені</th>
    </tr>
    <tr>
        <td class="text-center"><code>byte</code></td>
        <td class="text-center"><code>1</code></td>
        <td><span class="term">Byte</span>, оскільки займає один байт пам'яті</td>
    </tr>
    <tr>
        <td class="text-center"><code>short</code></td>
        <td class="text-center"><code>2</code></td>
        <td>Скорочення від <span class="term">Short Integer</span></td>
    </tr>
    <tr>
        <td class="text-center"><code>int</code></td>
        <td class="text-center"><code>4</code></td>
        <td>Скорочення від <span class="term">Integer</span></td>
    </tr>
    <tr>
        <td class="text-center"><code>long</code></td>
        <td class="text-center"><code>8</code></td>
        <td>Скорочення від <span class="term">Long Integer</span></td>
    </tr>
    </tbody>
</table>
<p>Також у Java є 2 дійсні типи — float і double:</p>
<table>
    <tbody>
    <tr>
        <th class="text-center">Тип</th>
        <th class="text-center">Розмір, байт</th>
        <th>Походження імені</th>
    </tr>
    <tr>
        <td class="text-center"><code>float</code></td>
        <td class="text-center"><code>4</code></td>
        <td>Скорочення від <span class="term">Floating Point Number</span></td>
    </tr>
    <tr>
        <td class="text-center"><code>double</code></td>
        <td class="text-center"><code>8</code></td>
        <td>Скорочення від <span class="term">Double Float</span></td>
    </tr>
    </tbody>
</table>
<p>Щоразу, коли виконання програми доходить до команди створення змінної, цій змінній виділяється невелика область пам'яті (розмір області залежить від типу змінної).</p>
<div class="lesson-note lesson-note--important">
    <div class="lesson-note__container">
        <div class="lesson-note__content">
            <div class="text-center">
                Адресою змінної вважається адреса першої комірки виділеного для неї блоку&nbsp;пам'яті.
            </div>
        </div>
    </div>
</div>
<p>Java-програмам заборонено звертатися безпосередньо до пам'яті. Уся робота з пам'яттю відбувається лише через Java-машину.</p>
<hr>
<h2>3. Тип <code>String</code> у пам'яті</h2>
<p>Тип <code class="text-orange">String</code> може зберігати великі обсяги даних, тому це не просто тип даних, а повноцінний клас.</p>
<p>Дані типу <code class="text-orange">String</code> (текст) поміщаються в спеціальний об'єкт, для якого виділяється пам'ять, а вже адреса цього об'єкта поміщається в змінну, для якої теж виділяється пам'ять.</p>
<p><img data-id="49f31722-198a-4bb2-a1f0-dffc93ed78e4" src="https://cdn.javarush.com/images/article/49f31722-198a-4bb2-a1f0-dffc93ed78e4/original.png" alt=""/></p>
<p>Змінна <code class="text-green">a</code> типу <code>int</code> займає <code>4</code> байти і зберігає значення <code class="text-green">1</code>.</p>
<p>Змінна <code class="text-green">b</code> типу <code>int</code> займає <code>4</code> байти і зберігає значення <code class="text-green">10,555</code>. Кома тут не відокремлює дробову частину числа, а розділяє групи розрядів. Дробову частину відокремлюють крапкою.</p>
<p>Змінна <code class="text-user">d</code> типу <code>double</code> займає <code>8</code> байтів та зберігає значення <code class="text-user">13.001</code>.</p>
<p>Змінна <code class="text-orange">str</code> типу <code>String</code> займає <code>4</code> байти і зберігає значення <code><span class="text-red">G13</span></code> — адресу першої комірки об'єкта, який містить текст.</p>
<p><code>Об'єкт</code> типу <code>String</code> (який містить текст) зберігається в окремому блоці пам'яті. Адреса його першої комірки зберігається в змінній <code class="text-orange">str</code>.</p>
<hr>
<h2>4. Чому в програмуванні все нумерують починаючи з нуля</h2>
<p>Люди часто дивуються, чому в програмуванні майже скрізь починають відлік з нуля. Річ у тім, що є дуже багато ситуацій, коли <span class="term text-green">рахувати починаючи з нуля зручніше</span> (хоча трапляються й такі ситуації, коли зручніше рахувати починаючи з <code>1</code>).</p>
<p>Найпростіша з таких ситуацій — це адресація пам'яті. Якщо вашій змінній виділили <code>4</code> байти пам'яті й ви знаєте, що <code>X</code> — адреса першого байта, то яку адресу буде мати кожен із цих байтів? <code>X<span class="text-red">+</span>0</code>, <code>X<span class="text-red">+</span>1</code>, <code>X<span class="text-red">+</span>2</code>, <code>X<span class="text-red">+</span>3</code>. Ось ми вже й отримали групу байтів із індексами <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code> (тобто для визначення адрес усіх байтів знадобилася група чисел саме від <code>0</code> до <code>3</code>).</p>
<p>Коли ми думаємо про відносну адресу всередині будь-якого блоку даних, завжди отримуємо нумерацію з нуля. Це і є перша й найпоширеніша причина починати <span class="term text-green">відлік з нуля</span>.</p>

<hr>

<div class="lesson-carousel lesson-carousel--comics">
    <div class="lesson-carousel__list">
        <div class="lesson-carousel__item">
            <img data-id="12ac7ede-63d9-43ee-b703-c3544156032e" data-max-width="1024" alt="" src="https://cdn.javarush.com/images/article/12ac7ede-63d9-43ee-b703-c3544156032e/original.png"/>
        </div>
    </div>
</div>