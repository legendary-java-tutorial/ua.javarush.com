<h2>3.1 Знайомство з хостами та підмережами</h2>
<p><strong>IP-адресаи</strong> використовуються для ідентифікації пристроїв у мережі. Для взаємодії з іншими пристроями через мережу IP-адресаа повинна бути призначена кожному мережевому пристрої (у тому числі комп'ютерам, серверам, маршрутизаторам, принтерам). Такі пристрої в мережі називають <strong>хостами</strong> .</p>
<p>У мережевого обладнання також є свої номери. А всі комп'ютери, які обслуговує конкретне мережеве обладнання, називають <strong>підмережею</strong> . Кожна підмережа має певний шаблон, за яким мережеве обладнання призначає IP-адресаи своїм підшефним. Такий шаблон називається <strong>маскою підмережі</strong> .</p>
<p>Маски підмереж дозволяють розділяти одну мережу на кілька підмереж, а також задають максимальну кількість підшефних хостів.</p>
<h3>Знайомство з IP-адресаами</h3>
<p>IP-адресаа складається з чотирьох частин, записаних у вигляді десяткових чисел з точками (наприклад, <code>192.168.1.1</code>). Кожну з цих чотирьох частин називають <strong>октетом</strong> . Октет є вісім двійкових цифр, наприклад <code>00001111</code>.</p>
<p>Таким чином, кожен октет може набувати у двійковому вигляді значення від <code>00000000</code>до <code>11111111</code>або від <code>0</code>до <code>255</code>в десятковому вигляді.</p>
<h3>Структура IP-адресаи</h3>
<p>Перша частина IP-адресаи є номером мережі, інша – ідентифікатор хоста. Разом вони утворюють унікальну IP-адресау хоста. Чим коротше номер мережі, тим більше в ній може поміститися хостів. Якщо номер мережі займає <code>3 байта</code>, то номер хоста залишиться лише один байт (максимум <code>255</code>хостів в мережі).</p>
<p>Номер мережі використовується маршрутизаторами (роутерами, інтернет-центрами) для передачі пакетів у потрібні мережі, тоді як ідентифікатор хоста визначає конкретний пристрій цієї мережі, якому повинні бути доставлені пакети.</p>
<h3>Приклад номера мережі та хоста</h3>
<p>На наступному малюнку показано приклад IP-адресаи, у якому перші три октети ( <code>192.168.1</code>) є номер мережі, а четвертий октет ( <code>16</code>) – ідентифікатор хоста.</p><img data-max-width="512" data-id="fb836885-cafa-404c-8130-d65294f56825" alt="Приклад номера мережі та хоста" src="https://cdn.javarush.com/images/article/fb836885-cafa-404c-8130-d65294f56825/512.jpeg" style="width: 512px;">
<p>Кількість двійкових цифр в IP-адресаі, які припадають на номер мережі, і кількість цифр на адресау, що припадає на ідентифікатор хоста, можуть бути різними залежно від маски підмережі.</p>
<h2>3.2 Маски підмереж</h2>
<h3>Приватні IP-адресаи</h3>
<p>У кожного хоста в інтернеті має бути унікальна адресаа. Виняток – це IP-адресаи всередині локальних мереж.</p>
<p>Якщо в тебе в офісі є своя локальна мережа, то її комп'ютери матиме свої власні неунікальні IP-адресаи. Однак, якщо це комп'ютер безпосередньо підключений до інтернету, або сервер, то у нього має бути публічна унікальна IP-адресаа.</p>
<p>Існує спеціальна організація (IANA), яка займається розподілом IP-адреса. Інтернет-провайдери викуповують у неї IP-адресаи блоками (підмережами) і потім продають їх своїм клієнтам. Так що якщо ви платите за білу IP-адресау, то все гаразд (провайдер теж за неї платить гроші).</p>
<p>Також IANA виділила кілька підмереж, які прийнято використовувати для локальних непублічних мереж. Так як ці підмережі непублічні, їх може використовувати будь-хто для будь-яких цілей. Усього таких підмереж три: велика, середня та маленька.</p>
<p>Для них зарезервовані такі три блоки IP-адреса:</p>
<ul>
 <li><code>10.0.0.0</code>-<code>10.255.255.255</code></li>
 <li><code>172.16.0.0</code>-<code>172.31.255.255</code></li>
 <li><code>192.168.0.0</code>-<code>192.168.255.255</code></li>
</ul>
<p>IP-адресаи вказаних приватних підмереж іноді називають "сірими".</p>
<h3>Маски підмережі</h3>
<p>Для того, щоб визначити, які біти IP-адресаи належать до номера хоста, а які до номера підмережі використовують так звану <strong>маску підмережі</strong> .</p>
<p>Допустимо у вас є IP-адресаа, записана в двійковому вигляді:</p>
<div class="lesson-example lesson-example--center">
 <pre class="lecture-code lecture-code--present  language-java" tabindex="0"><code class=" language-java"><span class="token number"></span><span class="text-red"><span class="token number">11110101</span>  <span class="token number">01010101</span> <span class="token number">1111</span></span><span class="token number"></span><span class="text-green"><span class="token number">1111</span> <span class="token number">00000001</span></span><span class="token number"></span></code></pre>
</div>
<p>Червоним кольором відзначені біти, які відповідають за номер мережі, зеленим – за номер хоста. Так, так також можна. Тут немає жорсткої прив'язки до байтів.</p>
<p>Маскою підмережі називатиметься таке число, де бітам підмережі будуть відповідати одиниці, а бітам хоста – нулі. Приклад маски підмережі для попередньої адресаи:</p>
<div class="lesson-example lesson-example--center">
 <pre class="lecture-code lecture-code--present  language-java" tabindex="0"><code class=" language-java"><span class="token number"></span><span class="text-red"><span class="token number">11111111</span>  <span class="token number">11111111</span> <span class="token number">1111</span></span><span class="token number"></span><span class="text-green"><span class="token number">0000</span> <span class="token number">00000000</span></span><span class="token number"></span></code></pre>
</div>
<p>Усі біти підмережі рівні <code class="text-red">1</code>, всі біти хоста рівні <code class="text-green">0</code>.</p>
<p>Приклад виділення номера мережі та ідентифікатора хоста в IP-адресаі:</p>
<div class="table-container">
 <table>
  <tbody>
   <tr>
    <th></th>
    <th>1-ий октет: (192)</th>
    <th>Другий октет: (168)</th>
    <th>Третій октет: (1)</th>
    <th>Четвертий октет: (2)</th>
   </tr>
   <tr>
    <td><strong>IP-адресаа (двійковий)</strong></td>
    <td>11000000</td>
    <td>10101000</td>
    <td>00000001</td>
    <td>00000010</td>
   </tr>
   <tr>
    <td><strong>Маска підмережі (двійкова)</strong></td>
    <td>11111111</td>
    <td>11111111</td>
    <td>11111111</td>
    <td>00000000</td>
   </tr>
   <tr>
    <td><strong>Номер мережі</strong></td>
    <td>11000000</td>
    <td>10101000</td>
    <td>00000001</td>
    <td></td>
   </tr>
   <tr>
    <td><strong>Ідентифікатор хоста</strong></td>
    <td></td>
    <td></td>
    <td></td>
    <td>00000010</td>
   </tr>
  </tbody>
 </table>
</div>
<p>Маски підмережі завжди складаються із серії послідовних одиниць, починаючи з найлівішого біта маски, за якою слідує серія послідовних нулів, що становлять загалом <code>32</code>біта.</p>
<p>Маску підмережі можна визначити, як кількість біт в адресаі, що представляють номер мережі (кількість біт зі значенням " <code>1</code>"). Наприклад, " <code>8-бітною маскою</code>" називають маску, у якій <code>8</code>біт – поодинокі, інші <code>24</code>біта – нульові.</p>
<p>Маски підмережі записуються у форматі десяткових чисел із точками, як і IP-адресаи. У наступних прикладах показані двійковий і десятковий запис <code>8-бітної</code>, <code>16-бітної</code>, <code>24-бітної</code>і <code>29-бітної</code>масок підмережі.</p>
<p>Маски підмережі:</p>
<div class="table-container">
 <table>
  <tbody>
   <tr>
    <th></th>
    <th>Десяткова</th>
    <th>Двійкова 1-ий октет:</th>
    <th>Двійкова 2-ий октет:</th>
    <th>Двійкова третій октет:</th>
    <th>Двійкова 4-ий октет:</th>
   </tr>
   <tr>
    <td><strong>8-бітна маска</strong></td>
    <td>255.0.0.0</td>
    <td>11111111</td>
    <td>00000000</td>
    <td>00000000</td>
    <td>00000000</td>
   </tr>
   <tr>
    <td><strong>16-бітна маска</strong></td>
    <td>255.255.0.0</td>
    <td>11111111</td>
    <td>11111111</td>
    <td>00000000</td>
    <td>00000000</td>
   </tr>
   <tr>
    <td><strong>24-бітна маска</strong></td>
    <td>255.255.255.0</td>
    <td>11111111</td>
    <td>11111111</td>
    <td>11111111</td>
    <td>00000000</td>
   </tr>
   <tr>
    <td><strong>29-бітна маска</strong></td>
    <td>255.255.255.248</td>
    <td>11111111</td>
    <td>11111111</td>
    <td>11111111</td>
    <td>11111000</td>
   </tr>
  </tbody>
 </table>
</div>
<h2>3.3 DHCP</h2>
<p>Усередині локальної мережі може бути як статичні, і динамічні IP-адресаи. Системні адміністратори можуть надати статичні адресаи комп'ютерам. Динамічні призначаються комп'ютерам автоматично за допомогою сервісу <strong>DHCP</strong> .</p>
<p><strong>Dynamic Host Configuration Protocol</strong> (DHCP) — прикладний протокол, що дозволяє мережевим пристроям автоматично отримувати IP-адресау та інші параметри, необхідних роботи у мережі TCP/IP.</p>
<p>Після того, як комп'ютер завантажився, операційна система звертається до сервера DHCP (зазвичай він вбудований в роутер) і отримує від нього IP-адресау (та інші необхідні параметри). Це дозволяє уникнути ручного налаштування комп'ютерів мережі. Такий підхід використовують у більшості локальних мереж.</p>
<h3>Розподіл IP-адреса</h3>
<p>Протокол DHCP надає три способи розподілу IP-адреса:</p>
<p><strong>Ручний розподіл</strong> . При цьому способі мережевий адміністратор зіставляє апаратну адресау (MAC-адресау) кожного комп'ютера та певну IP-адресау. Фактично цей спосіб розподілу адреса відрізняється від ручного налаштування кожного комп'ютера лише тим, що відомості про адресаи зберігаються централізовано (на сервері DHCP) і тому їх простіше змінювати за необхідності.</p>
<p><strong>Автоматичний розподіл</strong> . При цьому способі кожному комп'ютеру на постійне використання виділяється довільна вільна IP-адресаа з певного адміністратором діапазону.</p>
<p><strong>Динамічний розподіл</strong> . Цей спосіб аналогічний автоматичному розподілу, крім того, що адресаа видається комп'ютеру не так на постійне користування, але в певний термін. Це називається орендою адресаи. Після закінчення терміну оренди IP-адресаа знову вважається вільним і клієнт повинен запитити новий (він, втім, може виявитися тим самим). Крім того, клієнт може відмовитися від отриманої адресаи.</p>
<p>Розширені служби DHCP здатні автоматично оновлювати записи DNS, що відповідають клієнтським комп'ютерам, при виділенні ним нових адреса. Таке може бути корисним, коли у тебе велика корпоративна мережа, в якій використовується внутрішній DNS для імен серверів та комп'ютерів.</p>
<h3>Опції DHCP</h3>
<p>Крім IP-адресаи, DHCP також може повідомляти клієнту додаткові параметри, необхідні для нормальної роботи мережі. Ці параметри називаються опціями DHCP. Їх дуже багато, але тобі потрібно знати лише кілька із них.</p>
<p>Деякі з найбільш часто використовуваних опцій:</p>
<ul>
 <li>IP-адресаа маршрутизатора за замовчуванням;</li>
 <li>маска підмережі;</li>
 <li>адресаи серверів DNS;</li>
 <li>ім'я домену DNS.</li>
</ul>
<h2>3.4 localhost та 127.0.0.1</h2>
<p>Є кілька IP-адреса, які корисно знати. Наприклад, IP-адресаа твого маршрутизатора. Ще одна IP-адресаа, яку корисно знати - це <code>127.0.0.1.</code>Зараз ми поговоримо про неї трохи докладніше.</p>
<h3>Що таке 127.0.0.1?</h3>
<p>IP-адресаа <code>127.0.0.1</code>відома як адресаа зворотного зв'язку, але ви можете побачити її під ім'ям <strong>localhost</strong> . Коли ти вказуєш браузеру на <code>127.0.0.1</code>, він намагається підключитися до комп'ютера, який ти використовуєш зараз. Це зручно, коли хочеш підключитися до сервера на своєму комп'ютері.</p>
<p><code>127.0.0.1</code>є особливим серед IP-адреса. Як правило, IP-адресаа є унікальною для кожного комп'ютера як у локальній мережі, так і в інтернеті. Однак <code>127.0.0.1</code>завжди вказує на комп'ютер, який ти використовуєш на даний момент, незважаючи ні на що.</p>
<p>Наприклад, ти налаштував сервер на робочому комп'ютері і можеш підключитись до нього, вбивши <code>127.0.0.1</code>в браузері на роботі. Однак, коли ти прийдеш додому і введеш <code>127.0.0.1</code>, то натомість підключишся до домашнього комп'ютера. Для підключення до робочого комп'ютера тобі буде потрібна його публічна IP-адресаа.</p>
<h3>Що таке localhost?</h3>
<p><strong>localhost</strong> – це фактично доменне ім'я для <code>127.0.0.1.</code>Особливої ​​різниці між <code>127.0.0.1</code>та localhost немає. Можна писати і так і так, кому як подобається.</p>
<p>Ти можеш уявити localhost, як «ім'я» для адресаи <code>127.0.0.1</code>, також, як «www.google.com» є ім'ям для IP-адресаи Google. Однак, коли ти відвідуєш www.google.com, він повинен пройти через DNS-сервер, щоб ваш комп'ютер міг визначити, яка IP-адресаа відповідає імені.</p>
<p>Localhost не потрібний DNS-сервер, тому що твій комп'ютер уже знає, що ти хочеш підключитись до нього. Таким чином, ти можеш використовувати localhost, навіть якщо ти не маєш підключення до інтернету.</p>